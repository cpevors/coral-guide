import{a as xe,b as Pt,c as Ot}from"./chunk-HURAKWJ6.js";import"./chunk-DJJM56ZO.js";import"./chunk-TMIHV575.js";import{a as Nt}from"./chunk-SLK24NOD.js";import{f as Et}from"./chunk-EBYKWSCG.js";import{a as ue,b as he,c as _e,d as It,e as St,j as Y,k as Q,m as Mt}from"./chunk-SJVXN5NK.js";import{a as ce}from"./chunk-TM3XFGT3.js";import{a as q,b as J,c as Ft,d as ge,g as Tt}from"./chunk-5BRV5PHH.js";import{a as E,b as ct}from"./chunk-42ES7LCQ.js";import{a as Ce,b as Dt}from"./chunk-W3FLICPM.js";import{$ as F,$d as _t,Aa as We,Ad as pe,Ca as m,Cb as He,D as Ve,Ea as N,Gd as dt,H as O,Ha as C,Ia as b,Ja as _,Jb as V,Jd as ft,Ka as g,Kb as ze,La as a,Lb as se,Ld as ve,M as k,Ma as l,N as ne,Na as u,Od as W,P as D,Pb as Je,Pd as ut,Q as I,Qd as ht,Ra as T,Rd as Ct,Re as bt,Se as fe,Ta as y,U as Be,Ua as c,Uc as ot,V as re,Xa as Ue,Xb as Ye,Ya as v,Yd as de,Zb as Qe,a as Ee,b as Ne,ce as gt,d as K,e as oe,ec as Xe,ee as xt,f as Pe,fa as Le,fb as f,fc as Ze,ff as vt,gb as ee,hb as qe,hd as nt,he as kt,hf as wt,je as U,k as Oe,ka as Ae,kb as G,kc as et,ke as H,la as s,lb as $,ld as B,m as Ge,mb as R,md as L,me as z,nd as rt,ne as yt,ob as Ke,oc as tt,od as me,pc as it,q as $e,qd as M,sb as x,sd as at,tb as w,ua as ae,ub as le,ud as A,vd as j,wa as S,wd as lt,xd as st,y as Re,ya as h,yd as mt,za as je,zd as pt}from"./chunk-XCZ7SFHP.js";var Gt=(()=>{let t=class t{constructor(){this.uiIcon=Qe}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=k({type:t,selectors:[["app-my-coral-guide"]],decls:15,vars:6,consts:[["exact","","routerLink",".",3,"uiIcon"],["routerLink","to-do",3,"uiIcon"],["routerLink","offerings-checklist",3,"uiIcon"],["routerLink","museum-checklist",3,"uiIcon"],["routerLink","cooking-recipes-checklist",3,"uiIcon"],["routerLink","settings",3,"uiIcon"],[1,"hidden"]],template:function(r,n){r&1&&(a(0,"app-sidebar-container")(1,"app-module-sidebar")(2,"app-module-sidebar-item",0),f(3,"Dashboard"),l(),a(4,"app-module-sidebar-item",1),f(5,"To-dos"),l(),a(6,"app-module-sidebar-item",2),f(7," Offerings checklist "),l(),a(8,"app-module-sidebar-item",3),f(9," Museum checklist "),l(),a(10,"app-module-sidebar-item",4),f(11," Cooking recipes checklist "),l(),a(12,"app-module-sidebar-item",5),f(13," Settings "),l()(),u(14,"router-outlet",6),l()),r&2&&(s(2),m("uiIcon",n.uiIcon.MY_CORAL),s(2),m("uiIcon",n.uiIcon.TO_DO),s(2),m("uiIcon",n.uiIcon.OFFERING),s(2),m("uiIcon",n.uiIcon.MUSEUM),s(2),m("uiIcon",n.uiIcon.COOKING),s(2),m("uiIcon",n.uiIcon.SETTINGS))},dependencies:[dt,ft,ht,ut,kt],encapsulation:2});let e=t;return e})();var $t=(()=>{var t;let i=class i extends tt{constructor(){super(...arguments);oe(this,t,ae([]))}getFish$(){return K(this,t).call(this).length?Oe(K(this,t).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/fish.json`).pipe(O(n=>K(this,t).set(n)),Ve(1))}getFish(){return K(this,t).asReadonly()}};t=new WeakMap,i.\u0275fac=(()=>{let n;return function(d){return(n||(n=Le(i)))(d||i)}})(),i.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function Ut(e,t){if(e&1&&(a(0,"mat-option",9),f(1),l()),e&2){let i=t.$implicit;m("value",i),s(),ee(i)}}function qt(e,t){if(e&1&&(a(0,"mat-option",9),f(1),l()),e&2){let i=t.$implicit;m("value",i),s(),ee(i)}}var ke=(()=>{let t=class t{constructor(){this.Weathers=Ze,this.Seasons=Xe}increaseDay(o){this.parentFormGroup.patchValue(Ye(this.parentFormGroup.getRawValue(),o))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=k({type:t,selectors:[["app-dashboard-filter"]],inputs:{parentFormGroup:"parentFormGroup"},standalone:!0,features:[Ke],decls:25,vars:1,consts:[[1,"flex","flex-wrap","gap-x-3","gap-y-4",3,"formGroup"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","3rem"],["formControlName","day","min","1","max","28","inputmode","number","type","number","pattern","[0-9]","matInput",""],[1,"btn","-ml-2","touch-manipulation",3,"click"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","5rem"],["disableOptionCentering","","formControlName","season"],["formControlName","year","min","1","inputmode","number","type","number","pattern","[0-9]","matInput",""],["disableOptionCentering","","formControlName","weather"],["formControlName","hideCompleted",1,"text-white","self-center"],[3,"value"]],template:function(r,n){r&1&&(a(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),f(3,"Day"),l(),u(4,"input",2),l(),a(5,"button",3),y("click",function(){return n.increaseDay(1)}),f(6,"+"),l(),a(7,"mat-form-field",4)(8,"mat-label"),f(9,"Season"),l(),a(10,"mat-select",5),_(11,Ut,2,2,"mat-option",9,b),l()(),a(13,"mat-form-field",1)(14,"mat-label"),f(15,"Year"),l(),u(16,"input",6),l(),a(17,"mat-form-field",4)(18,"mat-label"),f(19,"Weather"),l(),a(20,"mat-select",7),_(21,qt,2,2,"mat-option",9,b),l()(),a(23,"mat-checkbox",8),f(24,"Hide completed"),l()()),r&2&&(m("formGroup",n.parentFormGroup),s(11),g(n.Seasons),s(10),g(n.Weathers))},dependencies:[pt,nt,at,B,L,mt,st,lt,gt,_t,ot,xt,pe,A,j,E,Nt],encapsulation:2});let e=t;return e})();function Jt(e,t){if(e&1&&u(0,"app-offering",9),e&2){let i=t.$implicit;m("details",i)}}function Yt(e,t){if(e&1&&(a(0,"app-item-card-switch",1),h(1,Jt,1,1,"ng-template",8),l()),e&2){let i=c();m("item",i.selectedEntity)}}var Qt=(e,t)=>t.entry.id+t.context;function Xt(e,t){if(e&1){let i=T();a(0,"div",13)(1,"app-item-icon",14),y("click",function(){let n=D(i).$implicit,p=c(2);return I(p.showDetails(n.entry.item))}),l(),a(2,"label",15)(3,"mat-checkbox",16),y("change",function(r){let p=D(i).$implicit;return c(2).updateChecklist(r,p.entry.item.id,p.context),I(p.completed=!p.completed)}),l()()()}if(e&2){let i=t.$implicit;N("checklist-checked",i.completed),s(),m("itemName",i.entry.item.iconName),s(),v("for","entry-",i.entry.id,"-input"),s(),v("id","entry-",i.entry.id,"")("name","entry-",i.entry.id,""),m("checked",i.completed)}}function Zt(e,t){e&1&&(a(0,"p",17),f(1,"No more fish to catch :)"),l())}function ei(e,t){if(e&1&&(a(0,"div",10)(1,"h2",11),f(2," Fish "),l(),a(3,"div",12),_(4,Xt,4,7,"div",18,Qt,!1,Zt,2,0,"p",19),l()()),e&2){let i=c();s(4),g(i.fish())}}var ti=()=>[ce];function ii(e,t){e&1&&u(0,"mat-spinner",20)}function oi(e,t){e&1&&(h(0,ii,1,0),je(1,0,ti),We())}var Rt=(()=>{var t;let i=class i extends bt{constructor(){super();oe(this,t,void 0);this.dashboards=F($t),this.museumChecklistService=F(xe),Pe(this,t,F(it)),this.museumChecklistDefinition$=K(this,t).fetchMuseumChecklist$(),this.museuemDef=ae({}),this.requests$=$e({museumDefinition:this.museumChecklistDefinition$.pipe(O(p=>this.museuemDef.set(p))),fish:this.dashboards.getFish$()}),this.filterFormGroup=new rt({season:new M("Spring",{nonNullable:!0}),weather:new M("Sunny",{nonNullable:!0}),day:new M(1,{nonNullable:!0}),year:new M(1,{nonNullable:!0}),hideCompleted:new M(!0,{nonNullable:!0})});let n=Dt(this.filterFormGroup.valueChanges.pipe(Ge(()=>this.filterFormGroup.getRawValue())),{initialValue:this.filterFormGroup.getRawValue()});this.fish=He(()=>{let p=this.dashboards.getFish(),d=n().season,X=n().weather,Z=n().hideCompleted,Wt=p().filter(te=>te.seasons.includes(d)&&te.weathers.includes(X)),Me=[];return this.museuemDef().Fish.forEach(te=>{let be=Wt.find(ie=>ie.id===te.id);if(be){let ie=this.museumChecklistService.isChecked(be.id);ie&&Z||Me.push({completed:ie,context:"museum",entry:be})}}),Me})}updateChecklist(n,p,d){this.museumChecklistService.isChecked(p)?this.museumChecklistService.remove(p):this.museumChecklistService.add(p)}};t=new WeakMap,i.\u0275fac=function(p){return new(p||i)},i.\u0275cmp=k({type:i,selectors:[["app-index"]],features:[S],decls:14,vars:7,consts:[[3,"openDrawer","removePlaceholder","openDrawerChange"],["listDetail","",3,"item"],[1,"mx-2","2xl:mx-16"],[1,"mb-4","font-semibold","text-2xl","text-black"],[1,"prose","lg:prose-xl"],[1,"text-black","text-lg"],[1,"mx-2","my-5","2xl:mx-16","block",3,"parentFormGroup"],["class","m-2 2xl:mx-16"],["appDatabaseItemDetails",""],[3,"details"],[1,"m-2","2xl:mx-16"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"itemName","click"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"id","checked","name","change"],[1,"col-span-full"],["class","icon-grid-item checklist-item  flex flex-col",3,"checklist-checked"],["class","col-span-full"],[1,"mx-auto"]],template:function(p,d){p&1&&(a(0,"app-list-detail-container",0),R("openDrawerChange",function(Z){return $(d.openDrawer,Z)||(d.openDrawer=Z),Z}),h(1,Yt,2,1,"app-item-card-switch",1),a(2,"app-card",2)(3,"h2",3),f(4," My Coral Guide "),l(),a(5,"div",4)(6,"p",5),f(7,' Welcome! This is "My Coral Guide" - your personal space. '),l(),a(8,"p",5),f(9," For now this startpage is quite empty. Sometime in the future this will be your dashboard. Until then, feel free to check the sub navigation to edit some checklist, add to-dos or change your settings. "),l()()(),u(10,"app-dashboard-filter",6),h(11,ei,7,1,"div",7),x(12,"async"),h(13,oi,3,0),l()),p&2&&(G("openDrawer",d.openDrawer),m("removePlaceholder",d.showTable),s(),C(1,d.selectedEntity?1:-1),s(9),m("parentFormGroup",d.filterFormGroup),s(),C(11,w(12,5,d.requests$)?11:13))},dependencies:[W,Ct,U,E,q,Y,Q,ke,V],encapsulation:2});let e=i;return e})();var ye=(()=>{let t=class t extends fe{constructor(){super(),this.checklistForm=new me({}),this.checklistForm.valueChanges.pipe(Ce()).subscribe({next:o=>{let r=[];Object.keys(o).forEach(n=>{o[n]&&r.push(n)}),this.checklistService.set(r)}})}ngOnInit(){this.checklistDefinition$=this.checklistDefinition$.pipe(Re(1),O(o=>{let r=Object.keys(o);r.forEach(n=>{o[n].forEach(p=>{this.checklistForm.addControl(p.id,new M(this.checklistService.isChecked(p.id),{nonNullable:!0}),{emitEvent:!1})})}),this.activateTabFromRoute(r)}))}keyValueNoOrder(){return 0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=k({type:t,selectors:[["ng-component"]],features:[S],decls:0,vars:0,template:function(r,n){},encapsulation:2});let e=t;return e})();function ri(e,t){if(e&1&&u(0,"app-fish",4),e&2){let i=c().$implicit;m("fish",i.fish)}}function ai(e,t){if(e&1&&u(0,"app-insect",5),e&2){let i=c().$implicit;m("critter",i.insect)}}function li(e,t){if(e&1&&u(0,"app-insect",5),e&2){let i=c().$implicit;m("critter",i.oceanCritter)}}function si(e,t){if(e&1&&u(0,"app-shop-processing-result",6),e&2){let i=c().$implicit;m("itemProcessData",i.chanceAsProcessResult)}}function mi(e,t){if(e&1&&h(0,ri,1,1,"app-fish",4)(1,ai,1,1)(2,li,1,1)(3,si,1,1),e&2){let i=t.$implicit;C(0,i.fish?0:i.insect?1:i.oceanCritter?2:i.chanceAsProcessResult?3:-1)}}function pi(e,t){if(e&1&&(a(0,"app-database-item-details",1),h(1,mi,4,1,"ng-template",3),l()),e&2){let i=c();m("itemId",i.selectedEntity.id)}}function ci(e,t){if(e&1){let i=T();a(0,"div",11)(1,"app-item-icon",12),y("click",function(){let n=D(i).$implicit,p=c(4);return I(p.showDetails(n))}),l(),a(2,"label",13),u(3,"mat-checkbox",14),l()()}if(e&2){let i=t.$implicit,o=c(4),r;N("checklist-checked",(r=o.checklistForm.get(i.id))==null?null:r.value)("selected-icon",(o.selectedEntity==null?null:o.selectedEntity.id)===i.id),s(),m("itemName",i.iconName),s(),v("for","entry-",i.id,"-input"),s(),v("id","entry-",i.id,"")("name","entry-",i.id,""),m("formControlName",i.id)}}function di(e,t){if(e&1&&(a(0,"div",10),_(1,ci,4,9,"div",15,b),l()),e&2){let i=c().$implicit;s(),g(i.value)}}function fi(e,t){if(e&1&&(a(0,"mat-tab",8),h(1,di,3,0,"div",9),l()),e&2){let i=t.$implicit,o=c(2);m("formGroup",o.checklistForm)("label",i.key),s(),C(1,o.showTable?-1:1)}}function ui(e,t){if(e&1){let i=T();a(0,"mat-tab-group",7),y("selectedTabChange",function(r){D(i);let n=c();return I(n.updateUrl(r))}),_(1,fi,2,3,"mat-tab",8,b),x(3,"keyvalue"),l()}if(e&2){let i=c();m("selectedIndex",i.selectedTabIndex()),s(),g(le(3,1,t,i.keyValueNoOrder))}}var Bt=(()=>{let t=class t extends ye{constructor(){super(),this.checklistService=F(xe),this.checklistDefinition$=this._database.fetchMuseumChecklist$()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=k({type:t,selectors:[["app-museum-checklist"]],features:[S],decls:4,vars:6,consts:[[3,"openDrawer","removePlaceholder","openDrawerChange"],["listDetail","","context","museum",3,"itemId"],["class"," px-2 xl:px-[50px] w-full","dynamicHeight","","mat-stretch-tabs","false",3,"selectedIndex"],["appDatabaseItemDetails",""],[3,"fish"],[3,"critter"],[1,"mb-4",3,"itemProcessData"],["dynamicHeight","","mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],[3,"formGroup","label"],["class","grid gap-4 icon-grid"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"itemName","click"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"],["class","icon-grid-item checklist-item  flex flex-col",3,"checklist-checked","selected-icon"]],template:function(r,n){if(r&1&&(a(0,"app-list-detail-container",0),R("openDrawerChange",function(d){return $(n.openDrawer,d)||(n.openDrawer=d),d}),h(1,pi,2,1,"app-database-item-details",1)(2,ui,4,4,"mat-tab-group",2),x(3,"async"),l()),r&2){let p;G("openDrawer",n.openDrawer),m("removePlaceholder",n.showTable),s(),C(1,n.selectedEntity?1:-1),s(),C(2,(p=w(3,4,n.checklistDefinition$))?2:-1,p)}},dependencies:[W,U,H,z,E,B,L,A,j,J,q,_e,ue,he,V,se],encapsulation:2});let e=t;return e})();var Ci=(e,t)=>t.key;function _i(e,t){if(e&1&&u(0,"app-cooking-recipe",4),e&2){let i=t.$implicit;m("cookingRecipe",i)}}function gi(e,t){if(e&1&&_(0,_i,1,1,"app-cooking-recipe",5,Ci),e&2){let i=t.$implicit;g(i.cookedFrom)}}function xi(e,t){if(e&1&&(a(0,"app-database-item-details",1),h(1,gi,2,0,"ng-template",3),l()),e&2){let i=c();m("itemId",i.selectedEntity.id)}}function ki(e,t){if(e&1){let i=T();a(0,"div",9)(1,"app-item-icon",10),y("click",function(){let n=D(i).$implicit,p=c(3);return I(p.showDetails(n))}),l(),a(2,"label",11),u(3,"mat-checkbox",12),l()()}if(e&2){let i=t.$implicit,o=c(3),r;N("checklist-checked",(r=o.checklistForm.get(i.id))==null?null:r.value)("selected-icon",(o.selectedEntity==null?null:o.selectedEntity.id)===i.id),s(),m("itemName",i.iconName),s(),v("for","entry-",i.id,"-input"),s(),v("id","entry-",i.id,"")("name","entry-",i.id,""),m("formControlName",i.id)}}function yi(e,t){if(e&1&&(a(0,"div",8),_(1,ki,4,9,"div",13,b),l()),e&2){let i=c().$implicit;s(),g(i.value)}}function bi(e,t){if(e&1&&(a(0,"mat-tab",6),x(1,"titlecase"),x(2,"addSpacesToPascalCase"),h(3,yi,3,0,"div",7),l()),e&2){let i=t.$implicit,o=c();m("formGroup",o.checklistForm)("label",o.cookingUtensilMapping[i.key.toLowerCase()]?o.cookingUtensilMapping[i.key.toLowerCase()].displayName:w(1,3,w(2,5,i.key))),s(3),C(3,o.showTable?-1:3)}}var Lt=(()=>{let t=class t extends ye{constructor(){super(),this.checklistService=F(Pt),this.checklistDefinition$=this._database.fetchCookingRecipesChecklist$(),this.cookingUtensilMapping=this._database.getCookingUtensilMapping(),this.urlPathFromLabel=o=>{let r=Object.keys(this.cookingUtensilMapping).find(n=>this.cookingUtensilMapping[n].displayName===o);return r||o.toLowerCase().replaceAll(" ","")}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=k({type:t,selectors:[["app-cooking-recipes-checklist"]],features:[S],decls:7,vars:9,consts:[[3,"openDrawer","removePlaceholder","openDrawerChange"],["listDetail","","hideQualityGrid","","context","cooking_recipes",3,"itemId"],["dynamicHeight","","mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],["appDatabaseItemDetails",""],[1,"mb-4",3,"cookingRecipe"],["class","mb-4",3,"cookingRecipe"],[3,"formGroup","label"],["class","grid gap-4 icon-grid"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"itemName","click"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"],["class","icon-grid-item checklist-item  flex flex-col",3,"checklist-checked","selected-icon"]],template:function(r,n){r&1&&(a(0,"app-list-detail-container",0),R("openDrawerChange",function(d){return $(n.openDrawer,d)||(n.openDrawer=d),d}),h(1,xi,2,1,"app-database-item-details",1),a(2,"mat-tab-group",2),y("selectedTabChange",function(d){return n.updateUrl(d)}),_(3,bi,4,7,"mat-tab",6,b),x(5,"keyvalue"),x(6,"async"),l()()),r&2&&(G("openDrawer",n.openDrawer),m("removePlaceholder",n.showTable),s(),C(1,n.selectedEntity?1:-1),s(),m("selectedIndex",n.selectedTabIndex()),s(),g(le(5,4,w(6,7,n.checklistDefinition$),n.keyValueNoOrder)))},dependencies:[W,U,H,z,E,B,L,A,j,ge,J,q,V,ze,se,de],encapsulation:2});let e=t;return e})();function vi(e,t){if(e&1&&u(0,"app-offering",4),e&2){let i=t.$implicit;m("details",i)}}function wi(e,t){if(e&1&&(a(0,"app-item-card-switch",1),h(1,vi,1,1,"ng-template",3),l()),e&2){let i=c();m("item",i.selectedEntity)}}function Di(e,t){if(e&1){let i=T();a(0,"div",15),x(1,"entityKey"),a(2,"app-item-icon",16),y("click",function(){D(i);let r=c().$implicit,n=c(5);return I(n.showDetails(r))}),l(),a(3,"label",17),u(4,"mat-checkbox",18),l()()}if(e&2){let i=c().$implicit,o=c(5),r;N("checklist-checked",(r=o.checklistForm.get(t))==null?null:r.value)("selected-icon",o.selectedEntity&&w(1,11,o.selectedEntity)===t),s(2),m("amount",i.amount)("itemName",i.item.iconName)("quality",i.quality),s(),v("for","entry-",t,"-input"),s(),v("id","entry-",t,"")("name","entry-",t,""),m("formControlName",t)}}function Ii(e,t){if(e&1&&(h(0,Di,5,13,"div",14),x(1,"entityKey")),e&2){let i=t.$implicit,o;C(0,(o=w(1,1,i.item))?0:-1,o)}}function Fi(e,t){if(e&1&&(a(0,"div",9)(1,"div",10),u(2,"img",11),a(3,"div",12)(4,"div"),f(5),l(),a(6,"div"),f(7),l()()(),a(8,"div",13),_(9,Ii,2,3,null,null,b),l()()),e&2){let i=t.$implicit,o=c(4);s(),N("bg-merino-300",(o.activeOffering==null?null:o.activeOffering.title)===i.title),s(),v("alt","",i.title," offering icon")("src","assets/ui/images/offering/",i.imageName,".png",Ae),s(3),ee(i.title),s(2),qe(" ",i.numOfItemRequired===-1?"All":i.numOfItemRequired," required: "),s(2),g(i.requiredItems)}}function Si(e,t){if(e&1&&(a(0,"div",8),_(1,Fi,11,6,"div",19,b),l()),e&2){let i=c().$implicit;s(),g(i.offerings)}}function Ti(e,t){if(e&1&&(a(0,"mat-tab",6),x(1,"addSpacesToPascalCase"),h(2,Si,3,0,"div",7),l()),e&2){let i=t.$implicit,o=c(2);Ue("label",w(1,2,i.offeringGroupTitle)),s(2),C(2,o.showTable?-1:2)}}function Mi(e,t){if(e&1){let i=T();a(0,"mat-tab-group",5),y("selectedTabChange",function(r){D(i);let n=c();return I(n.updateUrl(r))}),_(1,Ti,3,4,"mat-tab",6,b),l()}if(e&2){let i=c();m("formGroup",i.checklistForm)("selectedIndex",i.selectedTabIndex()),s(),g(t)}}var At=(()=>{let t=class t extends fe{constructor(){super(),this.checklistService=F(Ot),this.checklistForm=new me({}),this._altars=[],this.urlPathFromLabel=o=>{let r=o.toLowerCase().replaceAll(" ",""),n=this._altars.find(p=>p.offeringGroupTitle.toLowerCase().replaceAll(" ","")===r);return n?n.urlPath:o.toLowerCase().replaceAll(" ","")},this.checklistForm.valueChanges.pipe(Ce()).subscribe({next:o=>{let r=[];Object.keys(o).forEach(n=>{o[n]&&r.push(n)}),this.checklistService.set(r)}}),this.offerings$=this._database.fetchOfferings$().pipe(O(o=>{let r=o.map(n=>n.urlPath);this._altars=o,o.forEach(n=>{n.offerings.forEach(p=>{p.requiredItems.forEach(d=>{let X=et(d.item);this.checklistForm.addControl(X,new M(this.checklistService.isChecked(X),{nonNullable:!0}),{emitEvent:!1})})})}),this.activateTabFromRoute(r)}))}registerToToDo(o){let r="item"in o?{itemEntry:o.item,amount:o.amount,quality:o.quality}:{itemEntry:o};this._todo.add(Ne(Ee({},r),{context:"offerings"}))}showDetails(o){this.entryForToDo=o,o&&"amount"in o?super.showDetails(o.item):super.showDetails(o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=k({type:t,selectors:[["app-offerings-checklist"]],features:[S],decls:4,vars:5,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","","context","offerings",3,"item"],["class","px-2 xl:px-[50px] w-full","mat-stretch-tabs","false",3,"formGroup","selectedIndex"],["appDatabaseItemDetails",""],[3,"details"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"formGroup","selectedIndex","selectedTabChange"],[3,"label"],["class","grid grid-cols-1 lg:grid-cols-2 gap-6"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"flex","flex-col","gap-y-2"],[1,"rounded-lg","bg-merino","flex","items-center","gap-4","p-4"],["height","64","width","64",3,"alt","src"],[1,"flex","flex-col","text-lg","font-semibold"],[1,"grid","gap-4","icon-grid","w-full"],["class","icon-grid-item checklist-item flex flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"amount","itemName","quality","click"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"],["class","flex flex-col gap-y-2"]],template:function(r,n){if(r&1&&(a(0,"app-list-detail-container",0),R("openDrawerChange",function(d){return $(n.openDrawer,d)||(n.openDrawer=d),d}),h(1,wi,2,1,"app-item-card-switch",1)(2,Mi,3,2,"mat-tab-group",2),x(3,"async"),l()),r&2){let p;G("openDrawer",n.openDrawer),s(),C(1,n.selectedEntity?1:-1),s(),C(2,(p=w(3,3,n.offerings$))?2:-1,p)}},dependencies:[W,U,H,z,E,B,L,A,j,q,Y,Q,V,vt,de],encapsulation:2});let e=t;return e})();var Ei=[{path:"",component:Gt,children:[{path:"",component:Rt},{path:"to-do",loadChildren:()=>import("./chunk-HEHMIZUQ.js").then(e=>e.ToDoModule)},{path:"museum-checklist",redirectTo:"museum-checklist/",pathMatch:"full"},{path:"museum-checklist/:tabName",component:Bt,title:"Museum checklist - My Guide"},{path:"cooking-recipes-checklist",redirectTo:"cooking-recipes-checklist/",pathMatch:"full"},{path:"cooking-recipes-checklist/:tabName",component:Lt,title:"Cooking recipes checklist - My Guide"},{path:"offerings-checklist",redirectTo:"offerings-checklist/",pathMatch:"full"},{path:"offerings-checklist/:tabName",component:At,title:"Offerings checklist - My Guide"},{path:"settings",loadChildren:()=>import("./chunk-Z7ACRU4I.js").then(e=>e.SettingsModule),title:"Settings - My Guide"}]}],jt=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=re({imports:[ve.forChild(Ei),ve]});let e=t;return e})();var $n=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=re({imports:[Je,jt,wt,Et,yt,ct,pe,Mt,ge,J,Tt,_e,ue,he,Y,It,St,Ft,Q,ce,ke]});let e=t;return e})();export{$n as MyCoralGuideModule};
