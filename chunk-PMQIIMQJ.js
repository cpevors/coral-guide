import{a as Ee,b as He,c as je}from"./chunk-3LCSE4NL.js";import{a as At}from"./chunk-2332RXAP.js";import{a as tt,c as V}from"./chunk-KIF5XJGK.js";import{a as ke,b as Se,c as Be,d as ze,e as Re,f as Le}from"./chunk-TVU3H65T.js";import{a as Ae}from"./chunk-RJVNGUST.js";import"./chunk-UQURLLIY.js";import{a as Ne}from"./chunk-TOEGTLNV.js";import{a as Ce,b as we,c as Te}from"./chunk-6ZDMZINW.js";import"./chunk-FKKEM7DA.js";import{a as mt,b as zt}from"./chunk-XCH4B6E5.js";import"./chunk-NRMPYCZJ.js";import{a as $e}from"./chunk-CI7OLVEH.js";import"./chunk-GC7Q5VO6.js";import{a as G}from"./chunk-LA3V2AP6.js";import{a as st,b as ct,c as lt,d as dt,e as pt,f as ut,g as bt,h as ft,i as vt,j as ht,k as _t,l as gt,m as yt,n as xt,o as Ct}from"./chunk-EUMEDOOY.js";import{a as Rt}from"./chunk-OZSG2FXQ.js";import"./chunk-74VEJBIO.js";import{i as X,l as it}from"./chunk-TECYW7AI.js";import{a as rt,b as U,c as De,e as Me}from"./chunk-HXFFMZVC.js";import{a as Ie,b as Fe,e as Pe,g as z}from"./chunk-J3AOBVKI.js";import"./chunk-6J4LBBHO.js";import{b as Bt}from"./chunk-QQ6QL743.js";import{B as Nt,W as Z,d as L,i as nt,l as Jt,m as Ut,p as be,v as Et}from"./chunk-IYHG6KR3.js";import{j as xe}from"./chunk-UGZM4TBL.js";import"./chunk-6WBN6GOM.js";import{a as K}from"./chunk-BLXOHTRX.js";import"./chunk-HU7WFQWJ.js";import{D as _e,M as ge,U as ye,g as fe,r as ve,u as he}from"./chunk-ZZAXS4CE.js";import{$ as Yt,$b as E,Ab as F,Ac as Ft,Ca as Qt,Cb as ne,Db as p,Dc as H,Ec as $,Fa as S,Fc as j,Ga as Xt,Gc as de,Kc as Pt,Ma as Zt,Mb as q,Nb as s,Nc as M,Oc as I,Pb as g,Qb as ie,Tb as u,Tc as pe,Vb as y,Wb as x,X as kt,Xb as C,Y as Ot,Yb as m,Yc as et,Zb as r,_b as l,_c as Q,a as Gt,ac as B,bd as ue,cb as Mt,cc as D,db as Kt,fa as qt,fc as h,gb as i,hb as te,hc as c,ia as _,ic as re,jc as St,kc as me,mc as se,o as It,pb as ee,pd as R,qa as w,ra as T,t as Wt,u as ot,ua as J,uc as ce,vc as le,wb as b,yb as ae,yc as v,zb as oe,zc as N}from"./chunk-ZXANYF3K.js";var Ve=(()=>{class t{constructor(){this.UI_ICONS=L}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-journal"]],decls:9,vars:6,consts:[["label","Produce","routerLink","produce",3,"uiIcon"],["label","Caught","routerLink","caught",3,"uiIcon"],["label","Found","routerLink","found",3,"uiIcon"],["label","Bestiary","routerLink","bestiary",3,"uiIcon"],["label","Notes","routerLink","notes",3,"uiIcon"],["label","Badges","routerLink","achievements",3,"uiIcon"],[1,"hidden"]],template:function(a,o){a&1&&(m(0,"app-sidebar-container")(1,"app-module-sidebar"),l(2,"app-module-sidebar-item",0)(3,"app-module-sidebar-item",1)(4,"app-module-sidebar-item",2)(5,"app-module-sidebar-item",3)(6,"app-module-sidebar-item",4)(7,"app-module-sidebar-item",5),r(),l(8,"router-outlet",6),r()),a&2&&(i(2),s("uiIcon",o.UI_ICONS.FARMING),i(),s("uiIcon",o.UI_ICONS.CATCHING),i(),s("uiIcon",o.UI_ICONS.ARTISAN),i(),s("uiIcon",o.UI_ICONS.BESTIARY),i(),s("uiIcon",o.UI_ICONS.NOTES),i(),s("uiIcon",o.UI_ICONS.BADGES))},dependencies:[we,Te,Ce,xe],encapsulation:2})}}return t})();var wt=(()=>{class t extends At{constructor(e){super(),this.matTabGroup=ee(V),this.uiIcon=L,this.tabs=[],this.media=_(he),this.changeDetectorRef=_(pe),this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>this.changeDetectorRef.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener),this.formControl=e}getFilteredJournalData(e,a,o){return ot([e,a,this.formControl.valueChanges.pipe(kt(this.formControl.value)),It(o)]).pipe(Wt(([d,f,P,W])=>{let O=[];return d.sort((at,A)=>at.order>A.order?1:-1).forEach(at=>{let A=f.find(Y=>"dropData"in Y?Y.dropData[0].item?.id===at.key:"item"in Y?Y.item.id===at.key:Y.id===at.key);A&&(this.filterPredicate||O.push(A),this.filterPredicate&&this.filterPredicate(A,P,W)&&O.push(A))}),O}))}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}static{this.\u0275fac=function(a){return new(a||t)(te(X))}}static{this.\u0275cmp=b({type:t,selectors:[["ng-component"]],viewQuery:function(a,o){a&1&&ce(o.matTabGroup,V,5),a&2&&le()},features:[F],decls:0,vars:0,template:function(a,o){},encapsulation:2})}}return t})();function ra(t,n){if(t&1&&l(0,"app-fish",2),t&2){let e=c().$implicit;s("fish",e.fish)}}function ma(t,n){if(t&1&&l(0,"app-insect",3),t&2){let e=c().$implicit;s("critter",e.insect)}}function sa(t,n){if(t&1&&l(0,"app-insect",3),t&2){let e=c().$implicit;s("critter",e.oceanCritter)}}function ca(t,n){if(t&1&&p(0,ra,1,1,"app-fish",2)(1,ma,1,1,"app-insect",3)(2,sa,1,1,"app-insect",3),t&2){let e=n.$implicit;u(e.fish?0:e.insect?1:e.oceanCritter?2:-1)}}var Oe=(()=>{class t{constructor(){this.critter=S.required(),ue(()=>{this.critter(),this.#t()})}#t(){let e=this.critter();this.toDoContext="fishName"in e?"journal_fish":e.item.inventoryCategory.toLocaleLowerCase()==="bug"?"journal_insects":"journal_critter"}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-caught-details"]],inputs:{critter:[1,"critter"]},decls:2,vars:2,consts:[[3,"context","itemId"],["appDatabaseItemDetails",""],[3,"fish"],[3,"critter"]],template:function(a,o){a&1&&(m(0,"app-database-item-details",0),p(1,ca,3,1,"ng-template",1),r()),a&2&&s("context",o.toDoContext)("itemId",o.critter().item.id)},dependencies:[ke,Se,mt,zt],encapsulation:2})}}return t})();function la(t,n){if(t&1&&l(0,"app-caught-details",1),t&2){let e=c();s("critter",e.selectedEntity)}}function da(t,n){if(t&1){let e=D();m(0,"app-item-icon",8),h("click",function(){let o=w(e).$implicit,d=c(4);return T(d.showDetails(o))}),r()}if(t&2){let e=n.$implicit,a=c(4);g("selected-icon",(a.selectedEntity==null||a.selectedEntity.item==null?null:a.selectedEntity.item.id)===e.item.id),s("itemName",e.item.iconName)}}function pa(t,n){if(t&1&&(m(0,"div",5),x(1,da,1,3,"app-item-icon",7,y),r()),t&2){let e=c();i(),C(e)}}function ua(t,n){if(t&1&&l(0,"app-caught-table",6),t&2){let e=c();s("dataSource",e)}}function ba(t,n){if(t&1){let e=D();m(0,"app-data-filter",4),j("showTableChange",function(o){w(e);let d=c(2);return $(d.showTable,o)||(d.showTable=o),T(o)}),r(),p(1,pa,3,0,"div",5)(2,ua,1,1,"app-caught-table",6)}if(t&2){let e=c(2);H("showTable",e.showTable),s("parentFormGroup",e.formControl)("locations",e.getLocations(n)),i(),u(e.showTable?-1:1),i(),u(e.showTable?2:-1)}}function fa(t,n){if(t&1&&(m(0,"mat-tab",3),p(1,ba,3,5),M(2,"async"),r()),t&2){let e,a=n.$implicit;s("label",a.title),i(),u((e=I(2,2,a.data))?1:-1,e)}}var Je=(()=>{class t extends wt{constructor(){super(new X({season:new it([...nt],{nonNullable:!0}),weather:new it([...Jt],{nonNullable:!0}),location:new it(null)})),this.SEA_CRITTERS_INDEX=2,this.tabs=[{title:"Fish",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fish"),this._database.fetchFish$(),0)},{title:"Insects",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-insects"),this._database.fetchBugsAndInsects$(),1)},{title:"Sea Critters",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-sea-critters"),this._database.fetchOceanCritters$(),this.SEA_CRITTERS_INDEX)}],this.activateTabFromRoute(this.tabs.map(e=>e.title))}filterPredicate(e,a,o){if(!a.season?.length||!a.weather?.length)return!1;let d="spawnSettings"in e?e.spawnSettings?.map(A=>A.spawnSeason):[e.spawnSeason],f="spawnSettings"in e?e.spawnSettings?.map(A=>A.spawnWeather):[e.spawnWeather],P="spawnSettings"in e?e.spawnSettings?.map(A=>A.spawnLocation).flat():e.spawnLocation;return!(!a.location||P.includes(a.location))||!d.reduce((A,Y)=>{let Dt=Ut(Y).toLowerCase(),jt=Dt==="any"||a.season?.length===nt.length||!!a.season?.some(Vt=>Dt.includes((""+Vt).toLowerCase()));return A||jt},!1)?!1:f.reduce((A,Y)=>{let Dt=Ut(Y).toLowerCase(),jt=o===this.SEA_CRITTERS_INDEX||Dt==="any"||a.weather?.length===Jt.length||!!a.weather?.some(Vt=>Dt.includes((""+Vt).toLowerCase()));return A||jt},!1)}getLocations(e){return e.length?[...new Set(e.map(a=>"fishName"in a?a.spawnSettings.map(o=>o.spawnLocation):a.spawnLocation).flat(2))].sort():[]}resetLocationFilter(){this.formControl.get("location")?.setValue(null)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-caught"]],features:[F],decls:5,vars:3,consts:[[3,"removePlaceholder"],["listDetail","",3,"critter"],[3,"selectedTabChange","selectedIndex"],[3,"label"],[3,"showTableChange","showTable","parentFormGroup","locations"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"itemName","selected-icon"],[1,"icon-grid-item",3,"click","itemName"]],template:function(a,o){a&1&&(m(0,"app-list-detail-container",0),p(1,la,1,1,"app-caught-details",1),m(2,"mat-tab-group",2),h("selectedTabChange",function(f){return o.updateUrl(f),o.resetLocationFilter()}),x(3,fa,3,4,"mat-tab",3,y),r()()),a&2&&(s("removePlaceholder",o.showTable),i(),u(o.selectedEntity?1:-1),i(),s("selectedIndex",o.selectedTabIndex()),i(),C(o.tabs))},dependencies:[U,Oe,V,tt,G,z,Ee,R],encapsulation:2})}}return t})();function va(t,n){if(t&1&&(m(0,"div"),v(1,"Enchantment points: "),m(2,"span",2),v(3),r()()),t&2){let e=c();g("mb-3",e.details().chanceAsProcessResult),i(3),N(e.details().enchantmentPoints)}}function ha(t,n){if(t&1&&l(0,"app-shop-processing-result",1),t&2){let e=c();s("itemProcessData",e.details().chanceAsProcessResult)}}var Ue=(()=>{class t{constructor(){this.details=S.required()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-db-item-found"]],inputs:{details:[1,"details"]},decls:2,vars:2,consts:[[3,"mb-3"],[1,"mb-4",3,"itemProcessData"],[1,"text-black"]],template:function(a,o){a&1&&p(0,va,4,3,"div",0)(1,ha,1,1,"app-shop-processing-result",1),a&2&&(u(o.details().enchantmentPoints?0:-1),i(),u(o.details().chanceAsProcessResult?1:-1))},dependencies:[Be],encapsulation:2})}}return t})();function _a(t,n){if(t&1&&(m(0,"td",11),l(1,"app-item-icon",12),r()),t&2){let e=n.$implicit;i(),s("itemName",e.iconName)}}function ga(t,n){t&1&&(m(0,"th",13),v(1," Output "),r()),t&2&&q("colspan",2)}function ya(t,n){if(t&1&&(m(0,"td",14),v(1),r()),t&2){let e=n.$implicit;i(),Ft("",e.displayName," ")}}function xa(t,n){t&1&&(m(0,"th",15),v(1," Sell price"),r())}function Ca(t,n){if(t&1&&(m(0,"td",16),l(1,"app-money",17),r()),t&2){let e=n.$implicit;i(),s("amount",e.sellPrice)}}function wa(t,n){t&1&&l(0,"tr",18)}function Ta(t,n){t&1&&l(0,"tr",19)}function Da(t,n){if(t&1&&(m(0,"table",0),E(1,1),p(2,_a,2,1,"td",2),B(),E(3,3),p(4,ga,2,1,"th",4)(5,ya,2,1,"td",5),B(),E(6,6),p(7,xa,2,0,"th",7)(8,Ca,2,1,"td",8),B(),p(9,wa,1,0,"tr",9)(10,Ta,1,0,"tr",10),r()),t&2){let e=c();s("dataSource",e.matDataSource),i(9),s("matHeaderRowDef",e.displayHeaderColumns)("matHeaderRowDefSticky",!0),i(),s("matRowDefColumns",e.displayedColumns)}}var Lt=(()=>{class t extends xt{constructor(){super(...arguments),this.BASE_DISPLAY_COLUMNS=["icon","displayName","sellPrice"],this.sortingDataAccessor=(e,a)=>this.sortHelper(e,a)??0}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=J(t)))(o||t)}})()}static{this.\u0275cmp=b({type:t,selectors:[["app-non-specialized-table"]],features:[F],decls:2,vars:1,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","icon","sticky",""],["class","!pl-2 !pr-0  w-10 text-center icon-col ","mat-cell","",4,"matCellDef"],["matColumnDef","displayName"],["class","backdrop-blur-xl","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col whitespace-nowrap","mat-cell","",4,"matCellDef"],["matColumnDef","sellPrice"],["class","whitespace-nowrap","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col !text-right w-[1%]","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"!pl-2","!pr-0","w-10","text-center","icon-col"],[3,"itemName"],["mat-header-cell","","mat-sort-header","",1,"backdrop-blur-xl"],["mat-cell","",1,"text-col","whitespace-nowrap"],["mat-header-cell","","mat-sort-header","",1,"whitespace-nowrap"],["mat-cell","",1,"text-col","!text-right","w-[1%]"],[3,"amount"],["mat-header-row",""],["mat-row",""]],template:function(a,o){a&1&&(m(0,"app-responsive-table"),p(1,Da,11,4,"table",0),r()),a&2&&(i(),u(o.matDataSource?1:-1))},dependencies:[z,Ct,gt,Pe,_t,st,lt,bt,dt,ct,ft,pt,ut,vt,ht,yt],encapsulation:2})}}return t})();function Ma(t,n){if(t&1&&l(0,"app-db-item-found",4),t&2){let e=n.$implicit;s("details",e)}}function Ia(t,n){if(t&1&&(m(0,"app-database-item-details",0),p(1,Ma,1,1,"ng-template",3),r()),t&2){let e=c();s("itemId",e.selectedEntity.id)("context",e.toDoContext())}}function ka(t,n){if(t&1){let e=D();m(0,"app-item-icon",9),h("click",function(){let o=w(e).$implicit,d=c(4);return T(d.showDetails(o))}),r()}if(t&2){let e=n.$implicit,a=c(4);g("selected-icon",(a.selectedEntity==null?null:a.selectedEntity.id)===e.id),s("itemName",e.iconName)}}function Sa(t,n){if(t&1&&(m(0,"div",6),x(1,ka,1,3,"app-item-icon",8,y),r()),t&2){let e=c();i(),C(e)}}function Fa(t,n){if(t&1&&l(0,"app-non-specialized-table",7),t&2){let e=c();s("dataSource",e)}}function Pa(t,n){if(t&1&&p(0,Sa,3,0,"div",6)(1,Fa,1,1,"app-non-specialized-table",7),t&2){let e=c(2);u(e.showTable?-1:0),i(),u(e.showTable?1:-1)}}function Ea(t,n){if(t&1){let e=D();m(0,"mat-tab",2)(1,"app-data-filter",5),j("showTableChange",function(o){w(e);let d=c();return $(d.showTable,o)||(d.showTable=o),T(o)}),r(),p(2,Pa,2,2),M(3,"async"),r()}if(t&2){let e,a=n.$implicit,o=c();s("label",a.title),i(),H("showTable",o.showTable),s("parentFormGroup",o.formControl),i(),u((e=I(3,4,a.data))?2:-1,e)}}var We=(()=>{class t extends wt{constructor(){super(new X({})),this.contextsPerTab=["journal_artifacts","journal_gems","journal_fossils","journal_scavangables"],this.toDoContext=Q(()=>{let e=this.selectedTabIndex();return this.contextsPerTab[e]}),this.tabs=[{title:"Artifacts",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artifacts"),this._database.fetchItems$(),0)},{title:"Gems",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-gems"),this._database.fetchItems$(),1)},{title:"Fossils",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fossils"),this._database.fetchItems$(),2)},{title:"Scavangables",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-scavangable"),this._database.fetchItems$(),3)}],this.activateTabFromRoute(this.tabs.map(e=>e.title))}ngAfterViewInit(){let e=this.matTabGroup();e?.selectedIndexChange.pipe(De(this.destroyRef),kt(e?.selectedIndex??0)).subscribe({next:a=>{this.selectedTabIndex.set(a)}})}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-found"]],features:[F],decls:5,vars:2,consts:[["listDetail","",3,"itemId","context"],[3,"selectedTabChange","selectedIndex"],[3,"label"],["appDatabaseItemDetails",""],[3,"details"],[3,"showTableChange","showTable","parentFormGroup"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"selected-icon","itemName"],[1,"icon-grid-item",3,"click","itemName"]],template:function(a,o){a&1&&(m(0,"app-list-detail-container"),p(1,Ia,2,2,"app-database-item-details",0),m(2,"mat-tab-group",1),h("selectedTabChange",function(f){return o.updateUrl(f)}),x(3,Ea,4,6,"mat-tab",2,y),r()()),a&2&&(i(),u(o.selectedEntity?1:-1),i(),s("selectedIndex",o.selectedTabIndex()),i(),C(o.tabs))},dependencies:[U,mt,tt,V,Ue,G,z,R,Lt],encapsulation:2})}}return t})();function Ba(t,n){if(t&1&&l(0,"app-crop",2),t&2){let e=n.$implicit;s("item",e)}}function Na(t,n){if(t&1&&l(0,"app-animal-produce",3),t&2){let e=c().$implicit;s("animal",e.producedByAnimal)("shownItemId",e.item.id)}}function Aa(t,n){if(t&1&&l(0,"app-processing",5),t&2){let e=n.$implicit,a=n.$index;g("mt-3",a!==0),s("itemProcessing",e)}}function za(t,n){if(t&1&&(x(0,Ba,1,1,"app-crop",2,y),p(2,Na,1,2,"app-animal-produce",3),x(3,Aa,1,3,"app-processing",4,y)),t&2){let e=n.$implicit;C(e.isSeedFor),i(2),u(e.producedByAnimal?2:-1),i(),C(e.artisanResult)}}var Ye=(()=>{class t{constructor(){this.item=S.required(),this.toDoContext=S.required()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-produce-details"]],inputs:{item:[1,"item"],toDoContext:[1,"toDoContext"]},decls:4,vars:4,consts:[[3,"context","itemId"],["appDatabaseItemDetails",""],[1,"mb-4",3,"item"],[3,"animal","shownItemId"],[3,"mt-3","itemProcessing"],[3,"itemProcessing"]],template:function(a,o){if(a&1&&(de(0),m(1,"app-database-item-details",0),M(2,"isBaseCrop"),p(3,za,5,1,"ng-template",1),r()),a&2){let d=o.item();i(),s("context",o.toDoContext())("itemId",(I(2,2,d)?d.dropData[0].item:d).id)}},dependencies:[Ne,ze,Le,mt,zt,Re],encapsulation:2})}}return t})();function Ra(t,n){if(t&1&&l(0,"app-produce-details",0),t&2){let e=c();s("item",e.selectedEntity)("toDoContext",e.toDoContext())}}function La(t,n){if(t&1){let e=D();m(0,"app-item-icon",6),M(1,"isMinimalItem"),M(2,"isMinimalItem"),M(3,"isMinimalItem"),h("click",function(){let o=w(e).$implicit,d=c(4);return T(d.showDetails(o))}),r()}if(t&2){let e=n.$implicit,a=c(4);g("selected-icon",(I(1,3,a.selectedEntity)?a.selectedEntity.id:a.selectedEntity==null||a.selectedEntity.dropData==null||a.selectedEntity.dropData[0]==null||a.selectedEntity.dropData[0].item==null?null:a.selectedEntity.dropData[0].item.id)===(I(2,5,e)?e.id:e.dropData[0].item.id)),s("itemName",I(3,7,e)?e.iconName:e.dropData[0].item.iconName)}}function Ha(t,n){if(t&1&&(m(0,"div",4),x(1,La,4,9,"app-item-icon",5,y),r()),t&2){let e=c();i(),C(e)}}function $a(t,n){if(t&1&&l(0,"app-non-specialized-table",7),t&2){let e=c(2),a=c(2);s("dataSource",a.castToItemArray(e))}}function ja(t,n){if(t&1&&l(0,"app-crop-table",7),t&2){let e=c(2),a=c(2);s("dataSource",a.castToBaseCropArray(e))}}function Va(t,n){if(t&1&&p(0,$a,1,1,"app-non-specialized-table",7)(1,ja,1,1,"app-crop-table",7),t&2){let e=c(2).$implicit,a=c();u(e.title!==a.tabs[0].title?0:-1),i(),u(e.title===a.tabs[0].title?1:-1)}}function Oa(t,n){if(t&1&&p(0,Ha,3,0,"div",4)(1,Va,2,2),t&2){let e=c(2);u(e.showTable?-1:0),i(),u(e.showTable?1:-1)}}function Ja(t,n){if(t&1){let e=D();m(0,"mat-tab",2)(1,"app-data-filter",3),j("showTableChange",function(o){w(e);let d=c();return $(d.showTable,o)||(d.showTable=o),T(o)}),r(),p(2,Oa,2,2),M(3,"async"),r()}if(t&2){let e,a=n.$implicit,o=c();s("label",a.title),i(),H("showTable",o.showTable),s("parentFormGroup",o.formControl),i(),u((e=I(3,4,a.data))?2:-1,e)}}var qe=(()=>{class t extends wt{constructor(){super(new X({season:new it([...nt],{nonNullable:!0})})),this.isBeta=_(Et).getSettings().useBeta,this.toDoContext=Q(()=>{let e=this.selectedTabIndex();return e===0?"journal_crops":e===1?"journal_animal_produce":e===2?"artisan":e===3?"journal_ocean_produce":void 0}),this.tabs=[{title:"Crops",data:ot([this._database.fetchCrops$(),this._database.fetchFruitTrees$(),this._database.fetchFruitPlants$()]).pipe(Ot(([e,a,o])=>this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-crops"),this._database.fetchItems$().pipe(Ot(d=>It(d.map(f=>e.find(P=>P.pickupableItemId===f.id)??o.find(P=>P.dropData.some(W=>W.itemId===f.id))??a.find(P=>P.dropData.some(W=>W.itemId===f.id))).filter(be)))),0)))},{title:"Animal Products",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-animal-products"),this._database.fetchItems$(),1)},{title:"Artisan Products",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artisan-products"),this._database.fetchItems$(),2)},{title:"Ocean",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-ocean-products"),this._database.fetchItems$(),3)}],this.activateTabFromRoute(this.tabs.map(e=>e.title))}filterPredicate(e,a){if(!("growableSeason"in e))return!0;if(!a.season?.length)return!1;let o=e.growableSeason.join(" ").toLowerCase();return a.season?.length===nt.length||!!a.season?.some(f=>o.includes((""+f).toLowerCase()))}castToItemArray(e){return e}castToBaseCropArray(e){return e}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-produce"]],features:[F],decls:5,vars:2,consts:[["listDetail","",3,"item","toDoContext"],[3,"selectedTabChange","selectedIndex"],[3,"label"],[3,"showTableChange","showTable","parentFormGroup"],[1,"icon-grid"],[1,"icon-grid-item",3,"selected-icon","itemName"],[1,"icon-grid-item",3,"click","itemName"],[3,"dataSource"]],template:function(a,o){a&1&&(m(0,"app-list-detail-container"),p(1,Ra,1,2,"app-produce-details",0),m(2,"mat-tab-group",1),h("selectedTabChange",function(f){return o.updateUrl(f)}),x(3,Ja,4,6,"mat-tab",2,y),r()()),a&2&&(i(),u(o.selectedEntity?1:-1),i(),s("selectedIndex",o.selectedTabIndex()),i(),C(o.tabs))},dependencies:[U,Ye,V,tt,G,R,z,Ae,Lt,He],encapsulation:2})}}return t})();function Ua(t,n){if(t&1&&(m(0,"div",1),l(1,"app-item-icon",2),m(2,"div",3)(3,"div",4),v(4),r(),m(5,"div"),v(6),r()()()),t&2){let e=n.$implicit;i(),s("itemName",e.iconName),i(3),N(e.title),i(2),N(e.description)}}function Ga(t,n){t&1&&(m(0,"div",0),x(1,Ua,7,3,"div",1,y),r()),t&2&&(i(),C(n))}var Qe=(()=>{class t{constructor(){this._database=_(Bt).fetchAchievements$()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-achievements"]],decls:2,vars:3,consts:[[1,"grid","gap-4","sm:grid-cols-2","2xl:grid-cols-3","px-main-hz","py-main-vt"],[1,"flex","bg-white/30","rounded-[15px]","gap-x-4","p-2"],[1,"!w-14",3,"itemName"],[1,"flex","flex-col","text-black"],[1,"font-semibold","text-2xl"]],template:function(a,o){if(a&1&&(p(0,Ga,3,0,"div",0),M(1,"async")),a&2){let d;u((d=I(1,1,o._database))?0:-1,d)}},dependencies:[z,R],encapsulation:2})}}return t})();var Xe=(()=>{class t{transform(e){return e&&e.replace(/<[^>]+>/ig,"")}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275pipe=oe({name:"removeTags",type:t,pure:!0})}}return t})();var Wa=["mat-button",""],Ya=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],qa=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Qa=new qt("MAT_BUTTON_CONFIG");var Xa=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Za=(()=>{class t{_elementRef=_(Xt);_platform=_(fe);_ngZone=_(Qt);_animationMode=_(Zt,{optional:!0});_focusMonitor=_(_e);_rippleLoader=_(ye);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){_(ve).load(ge);let e=_(Qa,{optional:!0}),a=this._elementRef.nativeElement,o=a.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:f}of Xa)a.hasAttribute(d)&&o.add(...f)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",a){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,a):this._elementRef.nativeElement.focus(a)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(a){return new(a||t)};static \u0275dir=ae({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",et],disabled:[2,"disabled","disabled",et],ariaDisabled:[2,"aria-disabled","ariaDisabled",et],disabledInteractive:[2,"disabledInteractive","disabledInteractive",et]},features:[ne]})}return t})();var Ht=(()=>{class t extends Za{static \u0275fac=(()=>{let e;return function(o){return(e||(e=J(t)))(o||t)}})();static \u0275cmp=b({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(a,o){a&2&&(q("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),ie(o.color?"mat-"+o.color:""),g("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[F],attrs:Wa,ngContentSelectors:qa,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(a,o){a&1&&(re(Ya),l(0,"span",0),St(1),m(2,"span",1),St(3,1),r(),St(4,2),l(5,"span",2)(6,"span",3)),a&2&&g("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-focus-indicator::before,.mat-mdc-raised-button:focus .mat-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return t})();function Ka(t,n){if(t&1&&l(0,"div",1),t&2){let e=c();s("innerHTML",e.parsedMail().title,Mt)}}function to(t,n){if(t&1&&l(0,"span",4),t&2){let e=c();s("innerHTML",e.parsedMail().greetCloseMessage,Mt)}}function eo(t,n){if(t&1&&l(0,"span",5),t&2){let e=c();s("innerHTML",e.parsedMail().sender,Mt)}}var Tt=(()=>{class t{constructor(){this.mail=S.required(),this.parsedMail=Q(()=>this._parseTexts(this.mail()))}_parseTexts(e){let a=Gt({},e);return["title","sender","content","greetCloseMessage"].forEach(d=>{let f=a[d];if(f){f=f.replaceAll(/<PlayerName>\$player<\/>/gmi,'<span class="text-[#69ac52]">Player</span>');let P=d==="content"?'<span class="text-accent">$1</span>':"$1";f=f.replaceAll(/<NPCName>(.*?)<\/>/gmi,P),f=f.replaceAll(/<items>(.*?)<\/>/gmi,P),f=f.replaceAll(/<RickText.Place>(.*?)<\/>/gmi,P),f=f.replaceAll(/<Places>(.*?)<\/>/gmi,P),a[d]=f}}),a}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-mail"]],inputs:{mail:[1,"mail"]},decls:6,vars:4,consts:[[1,"font-semibold","font-coral"],[1,"text-2xl","mb-4","text-black",3,"innerHTML"],[1,"mb-4","whitespace-break-spaces",3,"innerHTML"],[1,"mt-4","flex","flex-col","items-end"],[1,"text-accent",3,"innerHTML"],[1,"text-black",3,"innerHTML"]],template:function(a,o){a&1&&(m(0,"div",0),p(1,Ka,1,1,"div",1),l(2,"div",2),m(3,"div",3),p(4,to,1,1,"span",4)(5,eo,1,1,"span",5),r()()),a&2&&(i(),u(o.parsedMail().title?1:-1),i(),s("innerHTML",o.parsedMail().content,Mt),i(2),u(o.parsedMail().greetCloseMessage?4:-1),i(),u(o.parsedMail().sender?5:-1))},styles:["[_nghost-%COMP%]{display:block}"]})}}return t})();var ao=()=>["expandedDetail"];function oo(t,n){t&1&&(m(0,"th",16),v(1," Title"),r())}function no(t,n){if(t&1&&(m(0,"td",17),v(1),M(2,"removeTags"),r()),t&2){let e=n.$implicit;i(),N(I(2,1,e.title))}}function io(t,n){t&1&&(m(0,"th",16),v(1," Sender"),r())}function ro(t,n){if(t&1&&(m(0,"td",17),v(1),M(2,"removeTags"),r()),t&2){let e=n.$implicit;i(),N(I(2,1,e.sender))}}function mo(t,n){t&1&&(m(0,"th",16),v(1,"Type"),r())}function so(t,n){if(t&1&&(m(0,"td",18),v(1),M(2,"addSpacesToPascalCase"),r()),t&2){let e=n.$implicit;i(),Ft("",I(2,1,e.mailType)," ")}}function co(t,n){t&1&&(m(0,"th",19),v(1,"Effects"),r())}function lo(t,n){if(t&1&&l(0,"app-effect",22),t&2){let e=n.$implicit;s("effect",e)}}function po(t,n){if(t&1&&(m(0,"div",21),x(1,lo,1,1,"app-effect",22,y),r()),t&2){let e=c().$implicit;i(),C(e.effects)}}function uo(t,n){if(t&1&&(m(0,"td",20),p(1,po,3,0,"div",21),r()),t&2){let e=n.$implicit;i(),u(e.effects!=null&&e.effects.length?1:-1)}}function bo(t,n){t&1&&l(0,"th",19)}function fo(t,n){if(t&1){let e=D();m(0,"td",23)(1,"button",24),h("click",function(){let o=w(e).$implicit,d=c(2);return T(d.expandedRows.toggle(o.key))}),l(2,"i",25),r()()}if(t&2){let e=n.$implicit,a=c(2);i(2),g("down",!a.expandedRows.isSelected(e.key))("up",a.expandedRows.isSelected(e.key))}}function vo(t,n){if(t&1&&(m(0,"td",20)(1,"div",26)(2,"div",27),l(3,"app-mail",28),r()()()),t&2){let e=n.$implicit,a=c(2);q("colspan",a.displayedColumns.length),i(),g("grid-rows-0fr",!a.expandedRows.isSelected(e.key))("grid-rows-1fr",a.expandedRows.isSelected(e.key)),i(2),s("mail",e)}}function ho(t,n){t&1&&l(0,"tr",29)}function _o(t,n){t&1&&l(0,"tr",30)}function go(t,n){t&1&&l(0,"tr",31)}function yo(t,n){if(t&1&&(m(0,"table",0),E(1,1),p(2,oo,2,0,"th",2)(3,no,3,3,"td",3),B(),E(4,4),p(5,io,2,0,"th",2)(6,ro,3,3,"td",3),B(),E(7,5),p(8,mo,2,0,"th",2)(9,so,3,3,"td",6),B(),E(10,7),p(11,co,2,0,"th",8)(12,uo,2,1,"td",9),B(),E(13,10),p(14,bo,1,0,"th",8)(15,fo,3,4,"td",11),B(),E(16,12),p(17,vo,4,6,"td",9),B(),p(18,ho,1,0,"tr",13)(19,_o,1,0,"tr",14)(20,go,1,0,"tr",15),r()),t&2){let e=c();s("dataSource",e.matDataSource),i(18),s("matHeaderRowDef",e.displayHeaderColumns)("matHeaderRowDefSticky",!0),i(),s("matRowDefColumns",e.displayedColumns),i(),s("matRowDefColumns",Pt(5,ao))}}var Ze=(()=>{class t extends xt{constructor(){super(...arguments),this.expandedRows=new Nt(!0,[]),this.BASE_DISPLAY_COLUMNS=["title","sender","mailType","effects","expand"]}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=J(t)))(o||t)}})()}static{this.\u0275cmp=b({type:t,selectors:[["app-mail-table"]],features:[F],decls:2,vars:1,consts:[["mat-table","","matSort","","multiTemplateDataRows","",1,"can-expand",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col","mat-cell","",4,"matCellDef"],["matColumnDef","sender"],["matColumnDef","mailType"],["class","w-fit text-col","mat-cell","",4,"matCellDef"],["matColumnDef","effects"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expand","stickyEnd",""],["class","w-fit align-top !pt-2","mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","expand-row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"text-col"],["mat-cell","",1,"w-fit","text-col"],["mat-header-cell",""],["mat-cell",""],[1,"flex","flex-col","py-3","gap-1"],[1,"whitespace-nowrap",3,"effect"],["mat-cell","",1,"w-fit","align-top","!pt-2"],["mat-button","",3,"click"],[1,"arrow"],[1,"expandable-body","grid","transition-all","duration-200","ease-in-out"],[1,"overflow-hidden"],[1,"py-4","max-w-prose",3,"mail"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"expand-row"]],template:function(a,o){a&1&&(m(0,"app-responsive-table"),p(1,yo,21,6,"table",0),r()),a&2&&(i(),u(o.matDataSource?1:-1))},dependencies:[Ct,Xe,gt,yt,Ie,Rt,Ht,Tt,_t,st,lt,bt,dt,ct,ft,pt,ut,vt,ht],styles:[".expand-row[_ngcontent-%COMP%]{--mat-table-row-item-container-height: 0;--mat-table-row-item-label-text-size: 16px}"]})}}return t})();var Ke=(()=>{class t{constructor(){this.tornPage=S.required()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-torn-page"]],inputs:{tornPage:[1,"tornPage"]},decls:5,vars:2,consts:[[1,"font-semibold","font-coral"],[1,"text-2xl","mb-4","text-black"],[1,"mb-4","whitespace-break-spaces"]],template:function(a,o){a&1&&(m(0,"div",0)(1,"div",1),v(2),r(),m(3,"div",2),v(4),r()()),a&2&&(i(2),N(o.tornPage().title),i(2),N(o.tornPage().content))},encapsulation:2})}}return t})();var ta=(()=>{class t{constructor(){this.tornPage=S.required(),this.listDetails=_(rt),this.uiIcon=L}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-torn-page-details"]],inputs:{tornPage:[1,"tornPage"]},decls:5,vars:2,consts:[["cardActions","",1,"card-actions"],["matTooltip","Close",3,"click"],[1,"!w-8","!h-8","hover:text-black","focus-visible:text-black",3,"uiIcon"],[3,"tornPage"]],template:function(a,o){a&1&&(m(0,"app-card")(1,"div",0)(2,"button",1),h("click",function(){return o.listDetails.close()}),l(3,"app-ui-icon",2),r()(),l(4,"app-torn-page",3),r()),a&2&&(i(3),s("uiIcon",o.uiIcon.CROSS),i(),s("tornPage",o.tornPage()))},dependencies:[Ke,Z,K],encapsulation:2})}}return t})();function xo(t,n){if(t&1&&l(0,"app-effect",6),t&2){let e=n.$implicit;s("effect",e)}}function Co(t,n){if(t&1&&(m(0,"div",4)(1,"div",5),v(2,"Effects:"),r(),x(3,xo,1,1,"app-effect",6,y),r()),t&2){let e=c();i(3),C(e.mail().effects)}}var ea=(()=>{class t{constructor(){this.mail=S.required(),this.listDetails=_(rt),this.uiIcon=L}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-mail-details"]],inputs:{mail:[1,"mail"]},decls:6,vars:3,consts:[["cardActions","",1,"card-actions"],["matTooltip","Close",3,"click"],[1,"!w-8","!h-8","hover:text-black","focus-visible:text-black",3,"uiIcon"],[3,"mail"],[1,"mt-6"],[1,"text-lg","font-semibold"],[3,"effect"]],template:function(a,o){if(a&1&&(m(0,"app-card")(1,"div",0)(2,"button",1),h("click",function(){return o.listDetails.close()}),l(3,"app-ui-icon",2),r()(),l(4,"app-mail",3),p(5,Co,5,0,"div",4),r()),a&2){let d;i(3),s("uiIcon",o.uiIcon.CROSS),i(),s("mail",o.mail()),i(),u((d=o.mail().effects)!=null&&d.length?5:-1)}},dependencies:[K,Z,Tt,Rt],encapsulation:2})}}return t})();var $t=(()=>{class t{constructor(){this.imageName=S.required(),this.hasThumb=S(!1,{transform:et}),this.shownImage=Q(()=>{let e=this.imageName();if(!e||!this.hasThumb())return e;let a=e.split("/");return a.splice(a.length-1,0,"thumbs"),a.join("/")}),this.version=_(Et).getSettings().useBeta?"beta":"live"}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-full-size-image"]],hostAttrs:[1,"full-size-image"],inputs:{imageName:[1,"imageName"],hasThumb:[1,"hasThumb"]},decls:1,vars:3,consts:[["alt","","loading","lazy","onerror","this.onerror=null;this.src='assets/ui/images/placeholder.png'",1,"w-full","h-auto",3,"src"]],template:function(a,o){a&1&&l(0,"img",0),a&2&&se("src","assets/",o.version,"/",o.shownImage(),".webp",Kt)},encapsulation:2})}}return t})();var wo=()=>["expandedDetail"];function To(t,n){t&1&&(m(0,"th",12),v(1," Title"),r())}function Do(t,n){if(t&1&&(m(0,"td",13),v(1),r()),t&2){let e=n.$implicit;i(),N(e.title)}}function Mo(t,n){t&1&&l(0,"th",14)}function Io(t,n){if(t&1){let e=D();m(0,"td",15)(1,"button",16),h("click",function(){let o=w(e).$implicit,d=c(2);return T(d.expandedRows.toggle(o.key))}),l(2,"i",17),r()()}if(t&2){let e=n.$implicit,a=c(2);i(2),g("down",!a.expandedRows.isSelected(e.key))("up",a.expandedRows.isSelected(e.key))}}function ko(t,n){if(t&1&&(m(0,"td",18)(1,"div",19)(2,"div",20),l(3,"app-mail",21),r()()()),t&2){let e=n.$implicit,a=c(2);q("colspan",a.displayedColumns.length),i(),g("grid-rows-0fr",!a.expandedRows.isSelected(e.key))("grid-rows-1fr",a.expandedRows.isSelected(e.key)),i(2),s("mail",e)}}function So(t,n){t&1&&l(0,"tr",22)}function Fo(t,n){t&1&&l(0,"tr",23)}function Po(t,n){t&1&&l(0,"tr",24)}function Eo(t,n){if(t&1&&(m(0,"table",0),E(1,1),p(2,To,2,0,"th",2)(3,Do,2,1,"td",3),B(),E(4,4),p(5,Mo,1,0,"th",5)(6,Io,3,4,"td",6),B(),E(7,7),p(8,ko,4,6,"td",8),B(),p(9,So,1,0,"tr",9)(10,Fo,1,0,"tr",10)(11,Po,1,0,"tr",11),r()),t&2){let e=c();s("dataSource",e.matDataSource),i(9),s("matHeaderRowDef",e.displayHeaderColumns)("matHeaderRowDefSticky",!0),i(),s("matRowDefColumns",e.displayedColumns),i(),s("matRowDefColumns",Pt(5,wo))}}var aa=(()=>{class t extends xt{constructor(){super(...arguments),this.expandedRows=new Nt(!0,[]),this.BASE_DISPLAY_COLUMNS=["title","expand"]}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=J(t)))(o||t)}})()}static{this.\u0275cmp=b({type:t,selectors:[["app-torn-pages-table"]],features:[F],decls:2,vars:1,consts:[["mat-table","","matSort","","multiTemplateDataRows","",1,"can-expand",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col","mat-cell","",4,"matCellDef"],["matColumnDef","expand"],["mat-header-cell","",4,"matHeaderCellDef"],["class","w-fit align-top !pt-2","mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","expand-row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"text-col"],["mat-header-cell",""],["mat-cell","",1,"w-fit","align-top","!pt-2"],["mat-button","",3,"click"],[1,"arrow"],["mat-cell",""],[1,"expandable-body","grid","transition-all","duration-200","ease-in-out"],[1,"overflow-hidden"],[1,"py-4","max-w-prose",3,"mail"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"expand-row"]],template:function(a,o){a&1&&(m(0,"app-responsive-table"),p(1,Eo,12,6,"table",0),r()),a&2&&(i(),u(o.matDataSource?1:-1))},dependencies:[Tt,Ct,Ht,gt,yt,_t,st,lt,bt,dt,ct,ft,pt,ut,vt,ht],styles:[".expand-row[_ngcontent-%COMP%]{--mat-table-row-item-container-height: 0;--mat-table-row-item-label-text-size: 16px}"]})}}return t})();function Bo(t,n){if(t&1&&l(0,"app-mail-details",1),t&2){let e=c();s("mail",e.selectedEntity)}}function No(t,n){if(t&1&&l(0,"app-torn-page-details",2),t&2){let e=c();s("tornPage",e.selectedTornPage)}}function Ao(t,n){if(t&1){let e=D();m(0,"app-card",3)(1,"div",5)(2,"button",6),h("click",function(){w(e);let o=c();return T(o.listDetail.close())}),l(3,"app-ui-icon",7),r()(),l(4,"app-full-size-image",8),r()}if(t&2){let e=c();i(3),s("uiIcon",e.uiIcon.CROSS),i(),s("imageName","treasure-maps/"+e.selectedTreasureHunt.mapImage)}}function zo(t,n){if(t&1){let e=D();m(0,"app-item-icon",16),h("click",function(){let o=w(e).$implicit,d=c(3);return T(d.showDetails(o))}),r()}if(t&2){let e=n.$implicit,a=c(3);g("selected-icon",(a.selectedEntity==null?null:a.selectedEntity.key)===e.key)}}function Ro(t,n){if(t&1&&(m(0,"div",12),x(1,zo,1,2,"app-item-icon",15,y),r()),t&2){let e=c(2);i(),C(e.mails)}}function Lo(t,n){if(t&1&&l(0,"app-mail-table",13),t&2){let e=c(2);s("dataSource",e.mails)}}function Ho(t,n){if(t&1){let e=D();m(0,"app-item-icon",16),h("click",function(){let o=w(e).$implicit,d=c(3);return T(d.showTornPageDetails(o))}),r()}if(t&2){let e=n.$implicit,a=c(3);g("selected-icon",(a.selectedTornPage==null?null:a.selectedTornPage.key)===e.key)}}function $o(t,n){if(t&1&&(m(0,"div",12),x(1,Ho,1,2,"app-item-icon",15,y),r()),t&2){let e=c(2);i(),C(e.tornPages)}}function jo(t,n){if(t&1&&l(0,"app-torn-pages-table",13),t&2){let e=c(2);s("dataSource",e.tornPages)}}function Vo(t,n){if(t&1){let e=D();m(0,"app-item-icon",17),h("click",function(){let o=w(e).$implicit,d=c(2);return T(d.showTreasureDetails(o))}),r()}if(t&2){let e=n.$implicit,a=c(2);g("selected-icon",(a.selectedTreasureHunt==null?null:a.selectedTreasureHunt.treasureId)===e.treasureId),s("itemName",e.iconName)}}function Oo(t,n){if(t&1){let e=D();m(0,"mat-tab-group",9),h("selectedTabChange",function(o){w(e);let d=c();return T(d.updateUrl(o))}),m(1,"mat-tab",10)(2,"app-data-filter",11),j("showTableChange",function(o){w(e);let d=c();return $(d.showTable,o)||(d.showTable=o),T(o)}),r(),p(3,Ro,3,0,"div",12)(4,Lo,1,1,"app-mail-table",13),r(),m(5,"mat-tab",10)(6,"app-data-filter",11),j("showTableChange",function(o){w(e);let d=c();return $(d.showTornPagesTable,o)||(d.showTornPagesTable=o),T(o)}),r(),p(7,$o,3,0,"div",12)(8,jo,1,1,"app-torn-pages-table",13),r(),m(9,"mat-tab",10)(10,"div",12),x(11,Vo,1,3,"app-item-icon",14,y),r()()()}if(t&2){let e=c();s("selectedIndex",e.selectedTabIndex()),i(),s("label",e.tabNames[0]),i(),H("showTable",e.showTable),i(),u(e.showTable?-1:3),i(),u(e.showTable?4:-1),i(),s("label",e.tabNames[1]),i(),H("showTable",e.showTornPagesTable),i(),u(e.showTornPagesTable?-1:7),i(),u(e.showTornPagesTable?8:-1),i(),s("label",e.tabNames[2]),i(2),C(e.treasureMaps)}}var oa=(()=>{class t extends At{constructor(){super(),this.showTornPagesTable=!1,this.mails=[],this.tornPages=[],this.treasureMaps=[],this.tabNames=["Letters","Torn pages","Treasure Map"],this.uiIcon=L,this.data$=ot([this._database.fetchMailData$(),this._database.fetchTornPagesData$(),this._database.fetchTreasureHunts$()]).pipe(Yt(([e,a,o])=>{this.mails=e,this.tornPages=a,this.treasureMaps=o;let d=this.selectedId;if(d){let f=this.mails.find(O=>O.key.toLowerCase()===d.toLowerCase());f&&this.showDetails(f);let P=this.tornPages.find(O=>O.key.toLowerCase()===d.toLowerCase());P&&this.showTornPageDetails(P);let W=this.treasureMaps.find(O=>O.treasureId===+d.toLowerCase());W&&this.showTreasureDetails(W)}this.activateTabFromRoute(this.tabNames)}))}showDetails(e){this.selectedTornPage=void 0,this.selectedTreasureHunt=void 0,super.showDetails(e)}showTornPageDetails(e){this.selectedEntity=void 0,this.selectedTreasureHunt=void 0,this.selectedTornPage=e,this.listDetail.open()}showTreasureDetails(e){this.selectedEntity=void 0,this.selectedTornPage=void 0,this.selectedTreasureHunt=e,this.listDetail.open()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-notes"]],features:[F],decls:7,vars:6,consts:[["listDetail",""],[3,"mail"],[3,"tornPage"],[1,"text-lg","font-semibold","relative"],[3,"selectedIndex"],["cardActions","",1,"card-actions"],["matTooltip","Close",3,"click"],[1,"!w-8","!h-8","hover:text-black","focus-visible:text-black",3,"uiIcon"],["hasThumb","",1,"full-size-card-image","image-only",3,"imageName"],[3,"selectedTabChange","selectedIndex"],[3,"label"],[3,"showTableChange","showTable"],[1,"icon-grid","mt-3"],[3,"dataSource"],[1,"icon-grid-item",3,"selected-icon","itemName"],["itemName","Torn_page_Sprite",1,"icon-grid-item",3,"selected-icon"],["itemName","Torn_page_Sprite",1,"icon-grid-item",3,"click"],[1,"icon-grid-item",3,"click","itemName"]],template:function(a,o){a&1&&(m(0,"app-list-detail-container"),E(1,0),p(2,Bo,1,1,"app-mail-details",1)(3,No,1,1,"app-torn-page-details",2)(4,Ao,5,2,"app-card",3),B(),p(5,Oo,13,10,"mat-tab-group",4),M(6,"async"),r()),a&2&&(i(2),u(o.selectedEntity?2:-1),i(),u(o.selectedTornPage?3:-1),i(),u(o.selectedTreasureHunt?4:-1),i(),u(I(6,4,o.data$)?5:-1))},dependencies:[z,G,V,R,tt,Ze,ta,ea,U,Z,K,$t,aa],encapsulation:2})}}return t})();function Jo(t,n){if(t&1&&l(0,"app-item-icon",4),t&2){let e=c();me("itemName",e.enemy().iconName)}}function Uo(t,n){if(t&1&&l(0,"app-full-size-image",5),t&2){let e=c();s("imageName","items/icons/"+e.enemy().image)}}function Go(t,n){if(t&1&&(m(0,"span",10),v(1),r()),t&2){let e=c();i(),N(e.enemy().description)}}var na=(()=>{class t{constructor(){this.enemy=S.required(),this.listDetails=_(rt),this.uiIcon=L}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-bestiary-details"]],inputs:{enemy:[1,"enemy"]},decls:18,vars:7,consts:[[1,"text-lg","font-semibold","relative"],["cardActions","",1,"card-actions"],["matTooltip","Close",3,"click"],[1,"!w-8","!h-8","hover:text-black","focus-visible:text-black",3,"uiIcon"],["cardIcon","",3,"itemName"],[1,"full-size-card-image",3,"imageName"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col"],[1,"text-black","text-2xl"],[1,"my-5"],[1,"text-lg","mb-6"],[1,"text-black"],[1,"block","my-2",3,"chances"]],template:function(a,o){a&1&&(m(0,"app-card",0)(1,"div",1)(2,"button",2),h("click",function(){return o.listDetails.close()}),l(3,"app-ui-icon",3),r()(),p(4,Jo,1,1,"app-item-icon",4)(5,Uo,1,1,"app-full-size-image",5),m(6,"div",6)(7,"div",7)(8,"div",8),v(9),r()()(),l(10,"hr",9),p(11,Go,2,1,"span",10),m(12,"div"),v(13," Experience: "),m(14,"span",11),v(15),r()(),v(16," Drops: "),l(17,"app-chance-per-item-list",12),r()),a&2&&(i(3),s("uiIcon",o.uiIcon.CROSS),i(),u(o.enemy().image?-1:4),i(),u(o.enemy().image?5:-1),i(4),N(o.enemy().displayName),i(2),u(o.enemy().description?11:-1),i(4),N(o.enemy().experience),i(2),s("chances",o.enemy().dropRates))},dependencies:[$t,z,Z,K,$e,Fe],encapsulation:2})}}return t})();function Wo(t,n){if(t&1&&l(0,"app-bestiary-details",0),t&2){let e=c();s("enemy",e.selectedEntity)}}function Yo(t,n){if(t&1){let e=D();m(0,"app-item-icon",5),h("click",function(){let o=w(e).$implicit,d=c(3);return T(d.showDetails(o))}),r()}if(t&2){let e=n.$implicit,a=c(3);g("selected-icon",(a.selectedEntity==null?null:a.selectedEntity.key)===e.key),s("itemName",e.iconName)}}function qo(t,n){if(t&1&&(m(0,"div",2),x(1,Yo,1,3,"app-item-icon",4,y),r()),t&2){let e=c();i(),C(e)}}function Qo(t,n){if(t&1&&l(0,"app-bestiary-table",3),t&2){let e=c();s("dataSource",e)}}function Xo(t,n){if(t&1&&p(0,qo,3,0,"div",2)(1,Qo,1,1,"app-bestiary-table",3),t&2){let e=c();u(e.showTable?-1:0),i(),u(e.showTable?1:-1)}}var ia=(()=>{class t extends Me{constructor(){super(...arguments),this.bestiary$=_(Bt).fetchBestiary$()}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=J(t)))(o||t)}})()}static{this.\u0275cmp=b({type:t,selectors:[["app-bestiary"]],features:[F],decls:5,vars:5,consts:[["listDetail","",3,"enemy"],[3,"showTableChange","showTable"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"selected-icon","itemName"],[1,"icon-grid-item",3,"click","itemName"]],template:function(a,o){if(a&1&&(m(0,"app-list-detail-container"),p(1,Wo,1,1,"app-bestiary-details",0),m(2,"app-data-filter",1),j("showTableChange",function(f){return $(o.showTable,f)||(o.showTable=f),f}),r(),p(3,Xo,2,2),M(4,"async"),r()),a&2){let d;i(),u(o.selectedEntity?1:-1),i(),H("showTable",o.showTable),i(),u((d=I(4,3,o.bestiary$))?3:-1,d)}},dependencies:[na,U,R,G,z,je],encapsulation:2})}}return t})();var Vm=[{path:"",pathMatch:"full",redirectTo:"produce"},{path:"",component:Ve,children:[{path:"caught",redirectTo:"caught/",pathMatch:"full"},{path:"caught/:tabName",component:Je,title:"Caught - Journal"},{path:"found",redirectTo:"found/",pathMatch:"full"},{path:"found/:tabName",component:We,title:"Found - Journal"},{path:"produce",redirectTo:"produce/",pathMatch:"full"},{path:"produce/:tabName",component:qe,title:"Produce - Journal"},{path:"bestiary",component:ia,title:"Bestiary - Journal"},{path:"notes",redirectTo:"notes/",pathMatch:"full"},{path:"notes/:tabName",component:oa,title:"Notes - Journal"},{path:"achievements",redirectTo:"achievements/",pathMatch:"full"},{path:"achievements/:achievementId",component:Qe,title:"Achievements - Journal"}]}];export{Vm as routes};
