import{a as z}from"./chunk-2A7PSW7O.js";import{a as N,b as k,c as V,d as L,e as W,f as U,g as j,h as O,i as Y,j as q,k as G,l as J,m as K,n as Q,o as X}from"./chunk-JSGVWV7K.js";import{b as A}from"./chunk-VYOS5CGL.js";import{c as x,d as H,i as B,j as P}from"./chunk-SJRCRC22.js";import{Gc as _,Hb as v,Hc as C,Ib as f,Ob as T,Qb as $,Rb as M,Sb as I,Tb as a,Ub as o,Vb as S,Wb as p,Xb as d,ac as c,db as s,qa as D,rc as m,sb as b,sc as u,tc as h,uc as R,vb as E,wb as F,yb as r}from"./chunk-GYX7HZX3.js";import{a as y,b as w}from"./chunk-4CLCTAJ7.js";var Z=(()=>{class t{transform(e){return"fishName"in e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275pipe=E({name:"isFish",type:t,pure:!0})}}return t})();function et(t,i){if(t&1&&(a(0,"td",17),S(1,"app-item-icon",18),o()),t&2){let e=i.$implicit;s(),f("itemName",e.item.iconName)}}function it(t,i){t&1&&(a(0,"th",19),m(1," Name"),o()),t&2&&v("colspan",2)}function nt(t,i){if(t&1&&(a(0,"td",20),m(1),o()),t&2){let e=i.$implicit;s(),u(e.item.displayName)}}function at(t,i){t&1&&(a(0,"th",19),m(1," Rarity"),o())}function ot(t,i){if(t&1&&(a(0,"td",20),m(1),o()),t&2){let e=i.$implicit,n=c(2);s(),u(n.addSpacesToPascalCase(e.rarity))}}function lt(t,i){t&1&&(a(0,"th",21),m(1," Location"),o())}function mt(t,i){if(t&1&&(a(0,"td",20),m(1),_(2,"isFish"),o()),t&2){let e=i.$implicit;s(),h("",(C(2,1,e)?e.spawnSettings[0]:e).spawnLocation.join(", ")," ")}}function st(t,i){t&1&&(a(0,"th",19),m(1," Weather"),o())}function rt(t,i){if(t&1&&(a(0,"td",20),m(1),_(2,"isFish"),o()),t&2){let e=i.$implicit,n=c(2);s(),h("",n.getTruthyValues((C(2,1,e)?e.spawnSettings[0]:e).spawnWeather)," ")}}function pt(t,i){t&1&&(a(0,"th",21),m(1," Season"),o())}function dt(t,i){if(t&1&&(m(0),_(1,"isFish")),t&2){let e=c().$implicit,n=c(2);h(" ",n.getTruthyValues((C(1,1,e)?e.spawnSettings[0]:e).spawnSeason)," ")}}function ct(t,i){if(t&1&&(a(0,"div",22),m(1),o()),t&2){let e=i.$implicit,n=i.$index,l=i.$count;s(),R("",e,"",n!==l-1?", ":""," ")}}function _t(t,i){if(t&1&&(M(0,ct,2,2,"div",22,$),_(2,"isFish")),t&2){let e=c().$implicit,n=c(2);I(n.dateRangesToString((C(2,0,e)?e.spawnSettings[0]:e).dateRangeList))}}function Ct(t,i){if(t&1&&(a(0,"td",20),r(1,dt,2,3),_(2,"isFish"),r(3,_t,3,2),_(4,"isFish"),o()),t&2){let e=i.$implicit;s(),T((C(2,2,e)?e.spawnSettings[0]:e).isUsingSpecificDate?-1:1),s(2),T((C(4,4,e)?e.spawnSettings[0]:e).isUsingSpecificDate?3:-1)}}function ut(t,i){t&1&&(a(0,"th",19),m(1," Time"),o())}function ft(t,i){if(t&1&&(a(0,"td",20),m(1),_(2,"isFish"),o()),t&2){let e=i.$implicit,n=c(2);s(),h("",n.getTruthyValues((C(2,1,e)?e.spawnSettings[0]:e).spawnTime)," ")}}function ht(t,i){t&1&&(a(0,"th",19),m(1," Size"),o())}function Tt(t,i){if(t&1&&(a(0,"td",20),m(1),o()),t&2){let e=i.$implicit;s(),u(e.fishSize)}}function St(t,i){t&1&&(a(0,"th",19),m(1," Pattern"),o())}function xt(t,i){if(t&1&&(a(0,"td",20),m(1),o()),t&2){let e=i.$implicit;s(),u(e.pattern)}}function gt(t,i){t&1&&(a(0,"th",19),m(1," Difficulty"),o())}function yt(t,i){if(t&1&&(a(0,"td",20),m(1),_(2,"addSpacesToPascalCase"),o()),t&2){let e=i.$implicit;s(),u(C(2,1,e.difficulty))}}function wt(t,i){t&1&&S(0,"tr",23)}function Dt(t,i){t&1&&S(0,"tr",24)}function bt(t,i){if(t&1&&(a(0,"table",0),p(1,1),r(2,et,2,1,"td",2),d(),p(3,3),r(4,it,2,1,"th",4)(5,nt,2,1,"td",5),d(),p(6,6),r(7,at,2,0,"th",4)(8,ot,2,1,"td",5),d(),p(9,7),r(10,lt,2,0,"th",8)(11,mt,3,3,"td",5),d(),p(12,9),r(13,st,2,0,"th",4)(14,rt,3,3,"td",5),d(),p(15,10),r(16,pt,2,0,"th",8)(17,Ct,5,6,"td",5),d(),p(18,11),r(19,ut,2,0,"th",4)(20,ft,3,3,"td",5),d(),p(21,12),r(22,ht,2,0,"th",4)(23,Tt,2,1,"td",5),d(),p(24,13),r(25,St,2,0,"th",4)(26,xt,2,1,"td",5),d(),p(27,14),r(28,gt,2,0,"th",4)(29,yt,3,3,"td",5),d(),r(30,wt,1,0,"tr",15)(31,Dt,1,0,"tr",16),o()),t&2){let e=c();f("dataSource",e.matDataSource),s(30),f("matHeaderRowDef",e.displayHeaderColumns)("matHeaderRowDefSticky",!0),s(),f("matRowDefColumns",e.displayedColumns)}}var zt=(()=>{class t extends Q{constructor(){super(...arguments),this.getTruthyValues=x,this.addSpacesToPascalCase=H,this.BASE_DISPLAY_COLUMNS=["icon","key","rarity","weather","season","time","location"],this.sortingDataAccessor=(e,n)=>{switch(n){case"rarity":return B.get(e[n])??0;case"key":return e[n];case"time":{let l=this._isFish(e)?e.spawnSettings[0].spawnTime:e.spawnTime;return x(l)==="Any"?1:l.morning?10:l.afternoon?20:l.evening?30:l.night?40:0}case"weather":{let l=this._isFish(e)?e.spawnSettings[0].spawnWeather:e.spawnWeather;return x(l)==="Any"?1:l.sunny?10:l.rain?20:l.snow?30:l.blizzard?40:l.windy?50:l.storm?60:0}}if(this._isFish(e))switch(n){case"fishSize":return P.get(e.fishSize)??0;case"pattern":case"difficulty":return e[n]}return 0}}static _isFishArray(e){return!!e?.[0]&&"fishName"in e[0]}dateRangesToString(e){return e.map(n=>`From ${n.startsFrom.season} ${n.startsFrom.day} to ${n.lastsTill.season} ${n.lastsTill.day}`)}setupDataSource(e){let n=e;t._isFishArray(e)&&(n=e.map(l=>l.spawnSettings.map(g=>w(y({},l),{spawnSettings:[g]}))).flat()),super.setupDataSource(n),t._isFishArray(this._dataSource())&&(this.displayedColumns.splice(3,0,"fishSize"),this.displayHeaderColumns.splice(2,0,"fishSize"),this.displayedColumns.splice(4,0,"pattern"),this.displayHeaderColumns.splice(3,0,"pattern"),this.displayedColumns.splice(5,0,"difficulty"),this.displayHeaderColumns.splice(4,0,"difficulty"))}_isFish(e){return!!e&&"fishName"in e}static{this.\u0275fac=(()=>{let e;return function(l){return(e||(e=D(t)))(l||t)}})()}static{this.\u0275cmp=b({type:t,selectors:[["app-caught-table"]],features:[F],decls:2,vars:1,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","icon","sticky",""],["mat-cell","","class","!px-2 ",4,"matCellDef"],["matColumnDef","key"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rarity"],["matColumnDef","location"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","weather"],["matColumnDef","season"],["matColumnDef","time"],["matColumnDef","fishSize"],["matColumnDef","pattern"],["matColumnDef","difficulty"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"!px-2"],[1,"mx-2",3,"itemName"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"whitespace-nowrap"],["mat-header-row",""],["mat-row",""]],template:function(n,l){n&1&&(a(0,"app-responsive-table"),r(1,bt,32,4,"table",0),o()),n&2&&(s(),T(l.matDataSource?1:-1))},dependencies:[X,J,A,Z,z,K,G,N,V,j,L,k,O,W,U,Y,q],encapsulation:2})}}return t})();export{zt as a};
