import{Id as l,J as a,N as r,na as c,tc as h}from"./chunk-A6GZZ5JF.js";var g=(()=>{let e=class e{constructor(t){if(this.checklistName=t,this.versionSuffix=r(h).getSettings().useBeta?"_beta":"_live",this.userData=r(l),t.trim()==="")throw new Error("checklistName can't be empty!");this.read()}read(){let t=localStorage.getItem(this.getChecklistStorageKey());if(t&&!this.userData.getCurrentData().checklists[this.checklistName]){let s=JSON.parse(t);this.userData.getCurrentData().checklists[this.checklistName]=s[0]??[],this.userData.save(),localStorage.removeItem(this.getChecklistStorageKey())}}save(){this.userData.save()}getCurrentChecklist(){let t=this.userData.getCurrentData().checklists[this.checklistName];return t||(this.userData.getCurrentData().checklists[this.checklistName]=this._createEmptyChecklist(),t=this.userData.getCurrentData().checklists[this.checklistName]),t}set(t){this.getCurrentChecklist().entries=[...new Set([...Array.isArray(t)?t:[t]])],this.save()}add(t){this.getCurrentChecklist().entries=[...new Set([...this.getCurrentChecklist().entries,...Array.isArray(t)?t:[t]])],this.save()}remove(t){Array.isArray(t)||(t=[t]),this.getCurrentChecklist().entries=this.getCurrentChecklist().entries.filter(s=>!t.includes(s)),this.save()}isChecked(t){return this.getCurrentChecklist().entries.includes(t)}getChecklistStorageKey(){return e._TO_DO_STORE_KEY+this.checklistName+this.versionSuffix}resetLiveChecklist(){localStorage.setItem(e._TO_DO_STORE_KEY+this.checklistName+"_live",JSON.stringify([this._createEmptyChecklist()])),this.read()}resetBetaChecklist(){localStorage.setItem(e._TO_DO_STORE_KEY+this.checklistName+"_beta",JSON.stringify([this._createEmptyChecklist()])),this.read()}_createEmptyChecklist(){return{version:1,entries:[]}}};e._TO_DO_STORE_KEY="checklist_",e.\u0275fac=function(s){c()},e.\u0275prov=a({token:e,factory:e.\u0275fac});let i=e;return i})();export{g as a};
