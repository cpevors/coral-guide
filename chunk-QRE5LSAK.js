import{a as Z,b as ee,c as te}from"./chunk-3QF56MRK.js";import{a as X}from"./chunk-AVA5X6KY.js";import"./chunk-QZDC4Q26.js";import{a as Q}from"./chunk-XRG5PDXK.js";import{$b as L,Aa as h,Bd as z,Ca as S,Fa as C,Ga as y,Ha as F,Ia as x,Ja as e,K as g,Ka as t,La as l,Ld as W,Md as $,N as m,Ob as T,P as v,Pc as b,Q as p,Ra as k,Rd as V,Sa as I,Vc as D,Xd as q,Zb as N,_b as R,a as w,db as i,ee as G,fb as E,ge as Y,hd as M,ie as J,ka as a,lf as K,md as B,nc as A,nd as O,od as U,rd as d,sd as P,vd as j,wa as _,wd as H}from"./chunk-2GIXYIMS.js";function re(o,n){if(o&1&&(e(0,"mat-option",10),i(1),t()),o&2){let u=n.$implicit,r=I();h("value",u),a(),E("",r.availableLanguageDisplayName[u]," ")}}function se(o,n){if(o&1&&(e(0,"p",18),l(1,"app-ui-icon",12),i(2," Currently there's no beta. "),t()),o&2){let u=I();a(),h("uiIcon",u.uiIcon.WARNING)}}function ae(o,n){o&1&&(e(0,"p",31),i(1,"Changes that require a reload were made. Saving will reload automatically."),t())}var ne=(()=>{let n=class n{constructor(){this.reloadRequired=!1,this.uiIcon=N,this.availableLanguages=R,this.availableLanguageDisplayName=L,this.BETA_CODE=m(Q,{optional:!0}),this._settingsService=m(A),this._toDo=m(q),this._checklistOfferings=m(te),this._checklistCooking=m(ee),this._checklistMuseum=m(Z),this._checklistHeartEvents=m(X),this.settingsForm=new U({useBeta:new d(!1,{nonNullable:!0}),resetLiveToDo:new d(!1,{nonNullable:!0}),resetBetaToDo:new d(!1,{nonNullable:!0}),resetLiveChecklists:new d(!1,{nonNullable:!0}),resetBetaChecklists:new d(!1,{nonNullable:!0}),language:new d("en",{nonNullable:!0}),disableChangelogs:new d(!1,{nonNullable:!0})}),this.BETA_CODE||this.settingsForm.get("useBeta")?.disable();let r=this._settingsService.getSettings();this.settingsForm.patchValue(r),this.settingsForm.valueChanges.subscribe({next:s=>{this.reloadRequired=r.useBeta!==s.useBeta||r.language!==s.language}})}saveSettings(){let r=w({},this.settingsForm.value);r.resetLiveChecklists&&(this._checklistMuseum.resetLiveChecklist(),this._checklistOfferings.resetLiveChecklist(),this._checklistCooking.resetLiveChecklist(),this._checklistHeartEvents.resetLiveChecklist()),r.resetBetaChecklists&&(this._checklistMuseum.resetBetaChecklist(),this._checklistOfferings.resetBetaChecklist(),this._checklistCooking.resetBetaChecklist(),this._checklistHeartEvents.resetBetaChecklist()),r.resetLiveToDo&&this._toDo.resetLiveToDo(),r.resetBetaToDo&&this._toDo.resetBetaToDo(),delete r.resetBetaToDo,delete r.resetLiveToDo,delete r.resetBetaChecklists,delete r.resetLiveChecklists,this._settingsService.saveSettings(r),this.reloadRequired&&location.reload()}};n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=v({type:n,selectors:[["app-settings"]],decls:101,vars:7,consts:[[1,"px-main-hz","py-main-vt"],[1,"text-black","container"],[3,"submit","formGroup"],[1,"grid","md:grid-cols-3","pb-12","gap-y-10","gap-x-8","border-b","border-accent/50","mb-8"],[1,"leading-7","font-bold","text-lg"],[1,"bg-amber-50/70","md:col-span-2","px-4","py-6","sm:p-8","sm:rounded-lg"],[1,"flex","flex-col","gap-1","items-start"],["for","language",1,"font-bold","leading-6"],[1,"btn","btn-secondary"],["formControlName","language","id","language"],[3,"value"],[1,"flex","gap-2","text-black","font-bold","leading-6","items-center","mt-2"],[1,"!w-6","shrink-0",3,"uiIcon"],[1,"flex","gap-x-3"],[1,"flex","h-6","items-center"],["formControlName","useBeta","id","useBeta","name","useBeta","type","checkbox"],["for","useBeta",1,"font-bold","leading-6"],[1,"leading-6"],[1,"flex","gap-2","text-black","font-bold","leading-6","items-center"],[1,"bg-amber-50/70","md:col-span-2","px-4","py-6","sm:p-8","sm:rounded-lg","flex","flex-col","gap-6"],["formControlName","resetLiveToDo","id","resetLiveToDo","name","resetLiveToDo","type","checkbox"],["for","resetLiveToDo",1,"font-bold","leading-6"],["formControlName","resetBetaToDo","id","resetBetaToDo","name","resetBetaToDo","type","checkbox"],["for","resetBetaToDo",1,"font-bold","leading-6"],["formControlName","disableChangelogs","id","disableChangelogs","name","disableChangelogs","type","checkbox"],["for","disableChangelogs",1,"font-bold","leading-6"],["formControlName","resetLiveChecklists","id","resetLiveChecklists","name","resetLiveChecklists","type","checkbox"],["for","resetLiveChecklists",1,"font-bold","leading-6"],["formControlName","resetBetaChecklists","id","resetBetaChecklists","name","resetBetaChecklists","type","checkbox"],["for","resetBetaChecklists",1,"font-bold","leading-6"],[1,"mt-6","sm:mt-8","flex","justify-between","items-center"],[1,"font-bold"],["type","submit",1,"btn-amber","ml-auto"]],template:function(s,c){if(s&1&&(e(0,"div",0)(1,"app-card",1)(2,"form",2),k("submit",function(){return c.saveSettings()}),e(3,"div",3)(4,"div")(5,"h3",4),i(6,"Language"),t(),e(7,"p"),i(8,"Change the language of Coral Guide"),t()(),e(9,"div",5)(10,"div",6)(11,"label",7),i(12,"Language"),t(),e(13,"mat-form-field",8)(14,"mat-select",9),F(15,re,2,2,"mat-option",10,y),t()()(),e(17,"p",11),l(18,"app-ui-icon",12),i(19," Work in progress: Currently only in-game data has translations, the app itself will stay in english. Translations are pulled from game files and will be shown as is. "),t()()(),e(20,"div",3)(21,"div")(22,"h3",4),i(23,"Beta data"),t(),e(24,"p"),i(25),t()(),e(26,"div",5)(27,"div",13)(28,"div",14),l(29,"input",15),t(),e(30,"div")(31,"label",16),i(32,"Use beta data"),t(),e(33,"p",17),i(34,"Switches app data to beta data. Change requires reload."),t()()(),_(35,se,3,1,"p",18),t()(),e(36,"div",3)(37,"div")(38,"h3",4),i(39,"To-Dos"),t(),e(40,"p"),i(41,"Options for to-dos. Reset your to-dos data if they behave in unwanted behavior and set defaults for viewing. "),t()(),e(42,"div",19)(43,"div",13)(44,"div",14),l(45,"input",20),t(),e(46,"div")(47,"label",21),i(48,"Reset live to-dos"),t(),e(49,"p",17),i(50,"Reset all to-dos which were created while using live data."),t()()(),e(51,"div",13)(52,"div",14),l(53,"input",22),t(),e(54,"div")(55,"label",23),i(56,"Reset beta to-dos"),t(),e(57,"p",17),i(58,"Reset all to-dos which were created while using beta data."),t()()()()(),e(59,"div",3)(60,"div")(61,"h3",4),i(62,"Changelogs"),t(),e(63,"p"),i(64,"Options for latest changelogs. If you disabled them you can reactivate them here. "),t()(),e(65,"div",19)(66,"div",13)(67,"div",14),l(68,"input",24),t(),e(69,"div")(70,"label",25),i(71,"Disable latest changelogs"),t(),e(72,"p",17),i(73,"When disabled, latest changes will not be displayed once per update."),t()()()()(),e(74,"div",3)(75,"div")(76,"h3",4),i(77,"Checklists"),t(),e(78,"p"),i(79,"Options for checklists. Reset your checklists data. "),t()(),e(80,"div",19)(81,"div",13)(82,"div",14),l(83,"input",26),t(),e(84,"div")(85,"label",27),i(86,"Reset live checklists"),t(),e(87,"p",17),i(88,"Reset all checklists which were created while using live data."),t()()(),e(89,"div",13)(90,"div",14),l(91,"input",28),t(),e(92,"div")(93,"label",29),i(94,"Reset beta checklists"),t(),e(95,"p",17),i(96,"Reset all checklists which were created while using beta data."),t()()()()(),e(97,"div",30),_(98,ae,2,0,"p",31),e(99,"button",32),i(100,"Save"),t()()()()()),s&2){let f;a(2),h("formGroup",c.settingsForm),a(13),x(c.availableLanguages),a(3),h("uiIcon",c.uiIcon.WARNING),a(7),E("Options for latest beta build. Current beta code: ",(f=c.BETA_CODE)!==null&&f!==void 0?f:"no ongoing beta"," "),a(5),S("opacity-50",!c.BETA_CODE),a(5),C(c.BETA_CODE?-1:35),a(63),C(c.reloadRequired?98:-1)}},dependencies:[V,P,M,B,O,j,H,G,Y,D,$],encapsulation:2});let o=n;return o})();var oe=(()=>{let n=class n{};n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=p({type:n}),n.\u0275inj=g({imports:[b,b]});let o=n;return o})();var le=[{path:"",component:ne}],Qe=(()=>{let n=class n{};n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=p({type:n}),n.\u0275inj=g({imports:[T,W.forChild(le),K,z,oe,J]});let o=n;return o})();export{Qe as SettingsModule};
