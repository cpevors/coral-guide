import{b as k}from"./chunk-24FAZNX7.js";import{a as E}from"./chunk-5YOBLJC2.js";import{b as f}from"./chunk-O3BKA2PM.js";import{a as L,e as D}from"./chunk-NXARORLY.js";import{c as M,g as O,l as d,p as V,w as x}from"./chunk-VA7RNGDO.js";import{S as F}from"./chunk-YRO5LM32.js";import{Jb as u,Rb as v,Sb as g,Tb as y,Ub as c,Vb as i,Wb as b,db as l,qd as S,sb as N,sc as h,tc as w}from"./chunk-J7WD3OMO.js";var C=[{displayName:"Default",value:"default"},{displayName:"Alphabetical",value:"alphabetical"},{displayName:"Birthdate",value:"birthdate"}],A=C.map(t=>t.value);function T(t,s){if(t&1&&(c(0,"mat-option",4),h(1),i()),t&2){let n=s.$implicit;u("value",n.value),l(),w(n.displayName)}}var Q=(()=>{class t{constructor(){this.searchControl=new d("",{nonNullable:!0}),this.sortControl=new d("default",{nonNullable:!0}),this.sortOrderControl=new d("asc",{nonNullable:!0}),this.searchValueChanges=f(this.searchControl.valueChanges,{initialValue:""}),this.sortValueChanges=f(this.sortControl.valueChanges,{initialValue:"default"}),this.sortOrderValueChanges=f(this.sortOrderControl.valueChanges,{initialValue:"asc"}),this.npcSortOptions=C}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=N({type:t,selectors:[["app-npc-filter"]],decls:11,vars:2,consts:[[1,"mb-5","flex","gap-x-3","gap-y-4","flex-wrap"],[1,"semi-transparent-form-field","grow","lg:grow-0","shrink-0","basis-auto"],["matInput","",3,"formControl"],["disableOptionCentering","",3,"formControl"],[3,"value"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),h(3,"Search term"),i(),b(4,"input",2),i(),c(5,"mat-form-field",1)(6,"mat-label"),h(7,"Sorting"),i(),c(8,"mat-select",3),g(9,T,2,2,"mat-option",4,v),i()()()),e&2&&(l(4),u("formControl",r.searchControl),l(4),u("formControl",r.sortControl),l(),y(r.npcSortOptions))},dependencies:[S,D,k,L,F,E,x,M,O,V],encapsulation:2})}}return t})();var B=new Map([["Spring",100],["Summer",200],["Fall",300],["Winter",400]]);function X(t,s,n){switch(n){case"alphabetical":t=[...t].sort((e,r)=>{let m="characterName"in e?e.characterName:e.npc?.characterName??"",p="characterName"in r?r.characterName:r.npc?.characterName??"";return m.toLowerCase()==="universal"?1:p.toLowerCase()==="universal"?-1:m.localeCompare(p)});break;case"birthdate":t=[...t].sort((e,r)=>{let m="characterName"in e?e.characterName:e.npc?.characterName??"",p="characterName"in r?r.characterName:r.npc?.characterName??"";if(m.toLowerCase()==="universal")return 1;if(p.toLowerCase()==="universal")return-1;let a="npc"in e?e.npc?.birthday:e.birthday,o="npc"in r?r.npc?.birthday:r.birthday;if(!a&&o)return 1;if(a&&!o)return-1;if(!a&&!o)return 0;a=a,o=o;let I=(B.get(a.season)??0)+a.day,_=(B.get(o.season)??0)+o.day;return I-_});break}return s?t.filter(e=>("characterName"in e?e.characterName:e.npc?.characterName??"").toLowerCase().includes(s)):t}export{Q as a,X as b};
