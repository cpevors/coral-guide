import{a as tt}from"./chunk-C3VGQKHV.js";import"./chunk-DJJM56ZO.js";import"./chunk-HB6QOK6I.js";import{a as Ze,b as et}from"./chunk-4ABN5UX5.js";import"./chunk-7R6UEU2W.js";import{b as Y}from"./chunk-24FAZNX7.js";import"./chunk-EKZGRJW6.js";import"./chunk-CXV365G5.js";import{a as le,b as me,c as Be,d as O,e as W,f as H,g as q}from"./chunk-VSHSA7HT.js";import{a as pe}from"./chunk-62SYQGLQ.js";import"./chunk-WQWM5V3T.js";import"./chunk-FGYBINTK.js";import"./chunk-OBPRYC72.js";import"./chunk-EKOP5NP3.js";import"./chunk-N2KJDITY.js";import"./chunk-NGYDMITL.js";import"./chunk-YQVLGDGS.js";import"./chunk-6Q5ZQTY6.js";import"./chunk-5C6YMBLV.js";import"./chunk-VXQBK2DC.js";import"./chunk-XZWLFQMH.js";import"./chunk-XSV5HIP5.js";import{a as Xe}from"./chunk-VJUOC7OS.js";import{a as de}from"./chunk-EIGW5THG.js";import"./chunk-FKRWSLGD.js";import{a as he}from"./chunk-5YOBLJC2.js";import{b as Ye,c as Qe}from"./chunk-4RPGNDDY.js";import{b as Je}from"./chunk-O3BKA2PM.js";import"./chunk-U7G2FOHA.js";import{b as ue}from"./chunk-EV4S2XUE.js";import{a as V,e as U}from"./chunk-NXARORLY.js";import"./chunk-BO7LODCH.js";import{c as z,g as N,h as Re,i as Ge,l as S,m as Le,o as je,p as ce,q as Pe,r as Oe,s as We,t as He,u as qe,v as A,w as K}from"./chunk-VA7RNGDO.js";import"./chunk-IIRYQ5NI.js";import"./chunk-HU7WFQWJ.js";import{a as Ue,b as $e}from"./chunk-JCTEBOW5.js";import{a as re,b as Ne}from"./chunk-SJRCRC22.js";import{a as Ke}from"./chunk-JL222CZ7.js";import{S as se}from"./chunk-YRO5LM32.js";import{a as k}from"./chunk-TIIEJEUC.js";import{h as ze}from"./chunk-PS3FMX3M.js";import{b as v,g as Ae,j as Ve}from"./chunk-7JOAVXDE.js";import"./chunk-KLZCJ54W.js";import"./chunk-PYPF6S35.js";import"./chunk-FJWSANLQ.js";import{Aa as De,Ba as ee,Fa as B,Fc as fe,Gb as Se,Hb as ke,Hc as ie,Ic as ne,Jb as l,Lb as te,Pb as P,R as Q,Rb as T,Sb as y,Tb as C,Ub as a,Vb as o,Vc as M,Wb as p,Wc as Te,X as w,Xc as oe,Yc as ae,_ as be,_b as R,ac as d,bc as u,db as r,ea as f,fc as I,k as J,kd as Me,ma as g,na as b,p as xe,qa as ve,sb as _,sc as s,tc as X,uc as Z,v as ge,wb as Ie,xc as Fe,yc as we,zb as E,zc as Ee}from"./chunk-J7WD3OMO.js";import"./chunk-4CLCTAJ7.js";var it=(()=>{class t extends Ue{#e=B([]);#t=B([]);#i=B([]);#n=B([]);getFish$(){return this.#e().length?J(this.#e.asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-fish.json`).pipe(w(e=>this.#e.set(e)),Q(1))}getInsects$(){return this.#t().length?J(this.#t.asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-insects.json`).pipe(w(e=>this.#t.set(e)),Q(1))}getOceanCritters$(){return this.#i().length?J(this.#i.asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-ocean-critters.json`).pipe(w(e=>this.#i.set(e)),Q(1))}getFish(){return this.#e.asReadonly()}getInsects(){return this.#t.asReadonly()}getOceanCritter(){return this.#i.asReadonly()}getBirthdays$(){return this.#n().length?J(this.#n.asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/birthdays.json`).pipe(w(e=>this.#n.set(e)),Q(1))}getBirthdays(){return this.#n.asReadonly()}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ve(t)))(n||t)}})()}static{this.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var nt=t=>["/npcs",t];function ct(t,c){if(t&1){let e=R();a(0,"app-item-icon",11),d("click",function(){g(e);let n=u().$implicit,m=u(2);return b(m.itemClicked.emit(n.item))}),o()}if(t&2){let e=u().$implicit;l("itemName",e.item.iconName)}}function pt(t,c){if(t&1&&(a(0,"span"),s(1),ie(2,"addSpacesToPascalCase"),o()),t&2){let e=u().$implicit;r(),Z("All ",ne(2,1,e.categoryName),"")}}function dt(t,c){if(t&1&&E(0,ct,1,1,"app-item-icon",10)(1,pt,3,3,"span"),t&2){let e=c.$implicit;P(e.type==="item"?0:-1),r(),P(e.type==="category"?1:-1)}}function ut(t,c){t&1&&s(0," No individual loved gifts. ")}function ht(t,c){if(t&1&&(a(0,"div",0)(1,"div",1)(2,"a",2),p(3,"app-item-icon",3),o(),a(4,"div",4)(5,"a",5),s(6),o()()(),a(7,"div",6)(8,"div",7),p(9,"app-ui-icon",8),s(10," Loved "),o(),a(11,"div",9),y(12,dt,2,2,null,null,T,!1,ut,1,0),o()()()),t&2){let e=c.$implicit,i=u();r(2),l("routerLink",fe(6,nt,e.npcKey)),r(),l("itemName",e.iconName),r(2),l("routerLink",fe(8,nt,e.npcKey)),r(),Z(" ",e.characterName," "),r(3),l("uiIcon",i.UiIcon.LOVE),r(3),C(e.lovedGifts)}}function ft(t,c){t&1&&(a(0,"p"),s(1,"No birthdays."),o())}var ot=(()=>{class t{constructor(){this.birthdays=ee.required(),this.itemClicked=De(),this.UiIcon=v,this.uiIcon=v}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=_({type:t,selectors:[["app-birthday-dashboard"]],hostAttrs:[1,"flex","flex-col","gap-3"],inputs:{birthdays:[1,"birthdays"]},outputs:{itemClicked:"itemClicked"},decls:3,vars:1,consts:[[1,"flex","gap-1","flex-col"],[1,"text-2xl","text-black","font-semibold","flex","gap-2","items-center","gifting-portrait"],[3,"routerLink"],[1,"h-12","birthday-npc-image",3,"itemName"],[1,"flex","flex-col"],[1,"flex","gap-2","items-center",3,"routerLink"],[1,"flex","gap-2"],[1,"font-semibold","flex","items-center","flex-col","shrink-0","basis-12","text-black"],[1,"!text-gifting","!h-6","!w-6",3,"uiIcon"],[1,"flex","items-center","gap-2.5","flex-wrap"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"itemName"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"click","itemName"]],template:function(i,n){i&1&&y(0,ht,15,10,"div",0,T,!1,ft,2,0,"p"),i&2&&C(n.birthdays())},dependencies:[Xe,k,ze,ue],styles:[`.birthday-npc-image.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center bottom}.birthday-gift-icon.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center}
`],encapsulation:2})}}return t})();function _t(t,c){if(t&1&&(a(0,"mat-option",6),s(1),o()),t&2){let e=c.$implicit;l("value",e),r(),X(e)}}function yt(t,c){if(t&1&&(a(0,"mat-option",6),s(1),o()),t&2){let e=c.$implicit;l("value",e),r(),X(e)}}var at=(()=>{class t{constructor(){this.parentFormGroup=ee.required(),this.Weathers=Ve,this.Seasons=Ae}increaseDay(e){this.parentFormGroup().patchValue(re(this.parentFormGroup().getRawValue(),e))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=_({type:t,selectors:[["app-dashboard-filter"]],inputs:{parentFormGroup:[1,"parentFormGroup"]},decls:25,vars:1,consts:[[1,"flex","flex-wrap","gap-x-3","gap-y-4",3,"formGroup"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","3rem"],["formControlName","day","inputmode","number","matInput","","max","28","min","1","pattern","[0-9]","type","number"],[1,"btn","-ml-2","touch-manipulation",3,"click"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","5rem"],["disableOptionCentering","","formControlName","season"],[3,"value"],["formControlName","year","inputmode","number","matInput","","min","1","pattern","[0-9]","type","number"],["disableOptionCentering","","formControlName","weather"],["formControlName","hideCompleted",1,"text-white","self-center"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),s(3,"Day"),o(),p(4,"input",2),o(),a(5,"button",3),d("click",function(){return n.increaseDay(1)}),s(6,"+"),o(),a(7,"mat-form-field",4)(8,"mat-label"),s(9,"Season"),o(),a(10,"mat-select",5),y(11,_t,2,2,"mat-option",6,T),o()(),a(13,"mat-form-field",1)(14,"mat-label"),s(15,"Year"),o(),p(16,"input",7),o(),a(17,"mat-form-field",4)(18,"mat-label"),s(19,"Weather"),o(),a(20,"mat-select",8),y(21,yt,2,2,"mat-option",6,T),o()(),a(23,"mat-checkbox",9),s(24,"Hide completed"),o()()),i&2&&(l("formGroup",n.parentFormGroup()),r(11),C(n.Seasons),r(10),C(n.Weathers))},dependencies:[A,z,je,N,Re,qe,He,We,U,V,se,he,K,Pe,Oe,pe,Y],encapsulation:2})}}return t})();var rt=(()=>{class t{constructor(){this.dialogData=f(me),this.dialogRef=f(le),this.nameControl=new S(this.dialogData.userData.name,{nonNullable:!0}),this.UiIcon=v}save(){this.dialogRef.close(this.nameControl.value.trim())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=_({type:t,selectors:[["app-edit-dialog"]],decls:15,vars:3,consts:[["mat-dialog-title","",1,"font-xl","font-bold"],[1,"prose","max-w-full"],[1,"flex","gap-3","font-bold"],[1,"semi-transparent-form-field","semi-transparent-form-field-dark","my-3"],["matInput","",3,"formControl"],[1,"!justify-between"],["matDialogClose","",1,"btn-amber"],[1,"btn-success","space-x-2","items-center",3,"click","disabled"],[1,"!size-5",3,"uiIcon"]],template:function(i,n){i&1&&(a(0,"h1",0),s(1,"Edit save game data"),o(),a(2,"mat-dialog-content",1)(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),s(6,"Name"),o(),p(7,"input",4),o()()(),a(8,"mat-dialog-actions",5)(9,"button",6),s(10,"Close"),o(),a(11,"button",7),d("click",function(){return n.save()}),p(12,"app-ui-icon",8),a(13,"span"),s(14,"Update"),o()()()),i&2&&(r(7),l("formControl",n.nameControl),r(4),l("disabled",n.nameControl.value.trim().length===0),r(),l("uiIcon",n.UiIcon.SETTINGS))},dependencies:[q,O,H,W,A,z,N,U,Y,V,k,K,ce],encapsulation:2})}}return t})();var st=(()=>{class t{constructor(){this.dialogData=f(me),this.UiIcon=v}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=_({type:t,selectors:[["app-delete-dialog"]],decls:12,vars:4,consts:[["mat-dialog-title","",1,"font-xl","font-bold"],[1,"prose","max-w-full"],[1,"flex","gap-3","font-bold"],[1,"!justify-between"],[1,"btn-amber",3,"matDialogClose"],[1,"btn-danger","space-x-2","items-center",3,"matDialogClose"],[1,"!size-5",3,"uiIcon"]],template:function(i,n){i&1&&(a(0,"h1",0),s(1,"Delete save game data"),o(),a(2,"mat-dialog-content",1)(3,"div",2),s(4),o()(),a(5,"mat-dialog-actions",3)(6,"button",4),s(7,"No, cancel"),o(),a(8,"button",5),p(9,"app-ui-icon",6),a(10,"span"),s(11,"Yes, delete"),o()()()),i&2&&(r(4),Z(' Are you sure you want to delete "',n.dialogData.userData.name,'"? This cannot be undone. '),r(2),l("matDialogClose",!1),r(2),l("matDialogClose",!0),r(),l("uiIcon",n.UiIcon.TRASH_CAN))},dependencies:[q,O,H,W,k],encapsulation:2})}}return t})();var lt=(()=>{class t{constructor(){this.dialogRef=f(le),this.nameControl=new S("",{nonNullable:!0}),this.UiIcon=v}save(){this.dialogRef.close(this.nameControl.value.trim())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=_({type:t,selectors:[["app-add-dialog"]],decls:15,vars:3,consts:[["mat-dialog-title","",1,"font-xl","font-bold"],[1,"prose","max-w-full"],[1,"flex","gap-3","font-bold"],[1,"semi-transparent-form-field","semi-transparent-form-field-dark","my-3"],["matInput","",3,"formControl"],[1,"!justify-between"],["matDialogClose","",1,"btn-amber"],[1,"btn-success","space-x-2","items-center",3,"click","disabled"],[1,"!size-5",3,"uiIcon"]],template:function(i,n){i&1&&(a(0,"h1",0),s(1,"Add save game data"),o(),a(2,"mat-dialog-content",1)(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),s(6,"Name"),o(),p(7,"input",4),o()()(),a(8,"mat-dialog-actions",5)(9,"button",6),s(10,"Close"),o(),a(11,"button",7),d("click",function(){return n.save()}),p(12,"app-ui-icon",8),a(13,"span"),s(14,"Create"),o()()()),i&2&&(r(7),l("formControl",n.nameControl),r(4),l("disabled",n.nameControl.value.trim().length===0),r(),l("uiIcon",n.UiIcon.PLUS))},dependencies:[q,O,H,W,A,z,N,U,Y,V,K,ce,k],encapsulation:2})}}return t})();function Ct(t,c){if(t&1&&(a(0,"mat-option",2),s(1),o()),t&2){let e=c.$implicit,i=c.$index;l("value",i),r(),X(e.name)}}var mt=(()=>{class t{#e;#t;constructor(){this.UiIcon=v,this.#e=f(de),this.options=M(()=>this.#e.userData().data),this.selectedIndex=Te(()=>this.#e.userData().currentIndex),this.#t=f(Be),ae(()=>{let e=this.selectedIndex();this.#e.currentIndex.set(e),oe(()=>{this.#e.save()})})}openAddDialog(){this.#t.open(lt,{hasBackdrop:!0,width:"400px"}).afterClosed().subscribe({next:i=>{if(i){let n=this.#e.createEmptyUserData(i);this.#e.userData()?.data.push(n),this.#e.save()}}})}openEditDialog(){this.#t.open(rt,{data:{userData:this.#e.currentData()},hasBackdrop:!0,width:"400px"}).afterClosed().subscribe({next:i=>{i&&(this.#e.currentData().name=i,this.#e.save())}})}openDeleteDialog(){this.#t.open(st,{data:{userData:this.#e.currentData()},hasBackdrop:!0,width:"400px"}).afterClosed().subscribe({next:i=>{i&&(this.#e.delete(),this.selectedIndex.set(this.#e.currentIndex()))}})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=_({type:t,selectors:[["app-user-data-actions"]],hostAttrs:[1,"inline-flex","gap-2","items-start","flex-wrap"],decls:12,vars:6,consts:[[1,"semi-transparent-form-field"],[3,"ngModelChange","ngModel","disabled"],[3,"value"],[1,"btn","touch-manipulation",3,"click"],[1,"!size-6",3,"uiIcon"],[1,"btn","touch-manipulation",3,"click","disabled"]],template:function(i,n){i&1&&(a(0,"mat-form-field",0)(1,"mat-label"),s(2,"Selected data"),o(),a(3,"mat-select",1),Ee("ngModelChange",function(h){return we(n.selectedIndex,h)||(n.selectedIndex=h),h}),y(4,Ct,2,2,"mat-option",2,T),o()(),a(6,"button",3),d("click",function(){return n.openEditDialog()}),p(7,"app-ui-icon",4),o(),a(8,"button",5),d("click",function(){return n.openDeleteDialog()}),p(9,"app-ui-icon",4),o(),a(10,"button",3),d("click",function(){return n.openAddDialog()}),p(11,"app-ui-icon",4),o()),i&2&&(r(3),Fe("ngModel",n.selectedIndex),l("disabled",n.options().length<=1),r(),C(n.options()),r(3),l("uiIcon",n.UiIcon.SETTINGS),r(),l("disabled",n.options().length<=1),r(),l("uiIcon",n.UiIcon.TRASH_CAN),r(2),l("uiIcon",n.UiIcon.PLUS))},dependencies:[U,he,se,V,A,N,Le,k],encapsulation:2})}}return t})();var ye=(t,c)=>c.entry.id+c.context,xt=()=>[import("./chunk-LTTLLZLJ.js").then(t=>t.MatProgressSpinner)];function gt(t,c){if(t&1&&p(0,"app-offering",6),t&2){let e=c.$implicit;l("details",e)}}function bt(t,c){if(t&1&&(a(0,"app-item-card-switch",1),E(1,gt,1,1,"ng-template",5),o()),t&2){let e=u();l("item",e.selectedEntity)}}function vt(t,c){if(t&1){let e=R();a(0,"div",16)(1,"app-item-icon",17),d("click",function(){let n=g(e).$implicit,m=u(2);return b(m.showDetails({id:n.entry.id,displayName:"",iconName:n.entry.iconName}))}),o(),a(2,"label",18)(3,"mat-checkbox",19),d("change",function(n){let m=g(e).$implicit;return u(2).updateChecklist(n,m.entry.id,m.context),b(m.completed=!m.completed)}),o()()()}if(t&2){let e=c.$implicit;te("checklist-checked",e.completed),r(),l("itemName",e.entry.iconName),r(),I("for","entry-",e.entry.id,"-input"),r(),I("id","entry-",e.entry.id,""),I("name","entry-",e.entry.id,""),l("checked",e.completed)}}function Dt(t,c){t&1&&(a(0,"p",15),s(1,"No more fish to catch :)"),o())}function It(t,c){if(t&1){let e=R();a(0,"div",16)(1,"app-item-icon",17),d("click",function(){let n=g(e).$implicit,m=u(2);return b(m.showDetails({id:n.entry.id,displayName:"",iconName:n.entry.iconName}))}),o(),a(2,"label",18)(3,"mat-checkbox",19),d("change",function(n){let m=g(e).$implicit;return u(2).updateChecklist(n,m.entry.id,m.context),b(m.completed=!m.completed)}),o()()()}if(t&2){let e=c.$implicit;te("checklist-checked",e.completed),r(),l("itemName",e.entry.iconName),r(),I("for","entry-",e.entry.id,"-input"),r(),I("id","entry-",e.entry.id,""),I("name","entry-",e.entry.id,""),l("checked",e.completed)}}function St(t,c){t&1&&(a(0,"p",15),s(1,"No more bugs to catch :)"),o())}function kt(t,c){if(t&1){let e=R();a(0,"div",16)(1,"app-item-icon",17),d("click",function(){let n=g(e).$implicit,m=u(2);return b(m.showDetails({id:n.entry.id,displayName:"",iconName:n.entry.iconName}))}),o(),a(2,"label",18)(3,"mat-checkbox",19),d("change",function(n){let m=g(e).$implicit;return u(2).updateChecklist(n,m.entry.id,m.context),b(m.completed=!m.completed)}),o()()()}if(t&2){let e=c.$implicit;te("checklist-checked",e.completed),r(),l("itemName",e.entry.iconName),r(),I("for","entry-",e.entry.id,"-input"),r(),I("id","entry-",e.entry.id,""),I("name","entry-",e.entry.id,""),l("checked",e.completed)}}function Ft(t,c){t&1&&(a(0,"p",15),s(1,"No more ocean critters to catch :)"),o())}function wt(t,c){if(t&1){let e=R();a(0,"section",7)(1,"h2",8),s(2," Birthdays "),o(),a(3,"app-card",9)(4,"div",10)(5,"div")(6,"h2",11),s(7," Today "),o(),a(8,"app-birthday-dashboard",12),d("itemClicked",function(n){g(e);let m=u();return b(m.showDetails(n))}),o()(),a(9,"div")(10,"h2",11),s(11," Tomorrow "),o(),a(12,"app-birthday-dashboard",12),d("itemClicked",function(n){g(e);let m=u();return b(m.showDetails(n))}),o()()()()(),a(13,"section",7)(14,"h2",8),s(15," Fish "),o(),a(16,"div",13),y(17,vt,4,10,"div",14,ye,!1,Dt,2,0,"p",15),o()(),a(20,"section",7)(21,"h2",8),s(22," Insects "),o(),a(23,"div",13),y(24,It,4,10,"div",14,ye,!1,St,2,0,"p",15),o()(),a(27,"section",7)(28,"h2",8),s(29," Ocean critters "),o(),a(30,"div",13),y(31,kt,4,10,"div",14,ye,!1,Ft,2,0,"p",15),o()()}if(t&2){let e=u();r(8),l("birthdays",e.birthdaysToday()),r(4),l("birthdays",e.birthdaysTomorrow()),r(5),C(e.fish()),r(7),C(e.insects()),r(7),C(e.oceanCritter())}}function Et(t,c){t&1&&p(0,"mat-spinner",20)}function Tt(t,c){t&1&&(E(0,Et,1,0),Se(1,0,xt),ke())}var sn=(()=>{class t extends Qe{#e;constructor(){super(),this.dashboards=f(it),this.museumChecklistService=f(tt),this.userData=f(de),this.#e=f($e),this.museumChecklistDefinition$=this.#e.fetchMuseumChecklist$(),this.museuemDef=B({}),this.requests$=ge({museumDefinition:this.museumChecklistDefinition$.pipe(w(i=>this.museuemDef.set(i))),fish:this.dashboards.getFish$(),insects:this.dashboards.getInsects$(),oceanCritters:this.dashboards.getOceanCritters$(),birthdays:this.dashboards.getBirthdays$()}),this.filterFormGroup=new Ge({season:new S("Spring",{nonNullable:!0}),weather:new S("Sunny",{nonNullable:!0}),day:new S(1,{nonNullable:!0}),year:new S(1,{nonNullable:!0}),hideCompleted:new S(!0,{nonNullable:!0})}),ae(()=>{let i=this.userData.currentData().myGuideFilter;oe(()=>this.filterFormGroup.patchValue(i))});let e=Je(this.filterFormGroup.valueChanges.pipe(xe(()=>this.filterFormGroup.getRawValue()),w(i=>{this.userData.currentData().myGuideFilter=i,this.userData.save()})),{initialValue:this.filterFormGroup.getRawValue()});this.fish=M(()=>{let i=this.dashboards.getFish(),n=e().season,m=e().weather,h=e().hideCompleted,L=i().filter(F=>{let x=F.seasons.includes(n)&&F.weathers.includes(m),D={day:e().day,season:e().season,year:e().year},j=F.dateRanges.map(Ce=>({from:Ce.startsFrom,to:Ce.lastsTill}));return x&&(!F.dateRanges.length||Ne(D,j,!0))}),$=[];return this.museuemDef().Fish.forEach(F=>{let x=L.find(D=>D.id===F.id);if(x){let D=this.museumChecklistService.isChecked(x.id);D&&h||$.push({completed:D,context:"museum",entry:x})}}),$}),this.insects=M(()=>{let i=this.dashboards.getInsects();return this.critterEntriesToList(i(),e(),this.museuemDef().Insects)}),this.oceanCritter=M(()=>{let i=this.dashboards.getOceanCritter();return this.critterEntriesToList(i(),e(),this.museuemDef()["Sea critters"])}),this.birthdaysToday=M(()=>{let i=this.dashboards.getBirthdays()(),n=e().season,m=e().day;return i.filter(h=>h.birthday.day===m&&h.birthday.season===n)}),this.birthdaysTomorrow=M(()=>{let i=this.dashboards.getBirthdays()(),n=e().season,h={day:e().day,season:n,year:1},L=re(h,1);return i.filter($=>$.birthday.day===L.day&&$.birthday.season===L.season)})}critterEntriesToList(e,i,n){let m=i.season,h=i.weather,L=i.hideCompleted,$=e.filter(x=>x.seasons.includes(m)&&(x.weathers.includes(h)||!x.weathers.length)),F=[];return n.forEach(x=>{let D=$.find(j=>j.id===x.id);if(D){let j=this.museumChecklistService.isChecked(D.id);j&&L||F.push({completed:j,context:"museum",entry:D})}}),F}updateChecklist(e,i,n){this.museumChecklistService.isChecked(i)?this.museumChecklistService.remove(i):this.museumChecklistService.add(i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=_({type:t,selectors:[["app-index"]],features:[Ie],decls:10,vars:6,consts:[[3,"removePlaceholder"],["listDetail","",3,"item"],[1,"flex","flex-col","md:flex-row","gap-4","md:gap-8","mb-12"],[1,"font-semibold","text-3xl","text-white","flex","items-center","gap-x-4"],[1,"my-5","block",3,"parentFormGroup"],["appDatabaseItemDetails",""],[3,"details"],[1,"my-2"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[1,"@container"],[1,"@3xl:grid-cols-2","grid","gap-x-3","gap-y-5"],[1,"mb-4","font-semibold","text-2xl","text-black"],[3,"itemClicked","birthdays"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked"],[1,"col-span-full","text-white"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"change","id","checked","name"],[1,"mx-auto"]],template:function(i,n){i&1&&(a(0,"app-list-detail-container",0),E(1,bt,2,1,"app-item-card-switch",1),a(2,"div",2)(3,"h1",3),s(4," My Coral Guide "),o(),p(5,"app-user-data-actions"),o(),p(6,"app-dashboard-filter",4),E(7,wt,34,5),ie(8,"async"),E(9,Tt,3,0),o()),i&2&&(l("removePlaceholder",n.showTable),r(),P(n.selectedEntity?1:-1),r(5),l("parentFormGroup",n.filterFormGroup),r(),P(ne(8,4,n.requests$)?7:9))},dependencies:[ot,Ye,et,Ze,at,Me,Ke,ue,pe,mt],encapsulation:2})}}return t})();export{sn as IndexComponent};
