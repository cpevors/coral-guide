import{a as pt,b as dt}from"./chunk-GGMDRX3F.js";import{a as I}from"./chunk-6BQ7ENZ6.js";import"./chunk-TVU3H65T.js";import"./chunk-RJVNGUST.js";import"./chunk-UQURLLIY.js";import"./chunk-FWXEFMEW.js";import"./chunk-TOEGTLNV.js";import"./chunk-FKKEM7DA.js";import{b as lt}from"./chunk-XCH4B6E5.js";import"./chunk-RVJGASBU.js";import"./chunk-NRMPYCZJ.js";import"./chunk-WQWQCRBZ.js";import{a as ct,b as mt}from"./chunk-74VEJBIO.js";import{B as st,g as X,l as Z,o as tt,v as et}from"./chunk-TECYW7AI.js";import{b as it,c as j,e as nt}from"./chunk-HXFFMZVC.js";import{f as at,g as rt}from"./chunk-J3AOBVKI.js";import{a as v}from"./chunk-6J4LBBHO.js";import"./chunk-QQ6QL743.js";import{c as G}from"./chunk-IYHG6KR3.js";import"./chunk-UGZM4TBL.js";import"./chunk-6WBN6GOM.js";import{a as ot}from"./chunk-BLXOHTRX.js";import{c as J,d as K,f as V,h as W}from"./chunk-HU7WFQWJ.js";import{R as Y}from"./chunk-ZZAXS4CE.js";import{Ab as z,Ac as Q,Bc as R,Db as d,E as q,Ea as k,Fa as C,Nb as m,Pb as T,Tb as p,Vb as S,Wb as b,Xb as E,Yb as n,Zb as a,_b as w,_c as H,cc as g,fc as f,gb as r,hc as c,ia as x,ic as L,jc as O,ob as F,pb as M,qa as h,ra as y,uc as U,vc as $,wb as D,ya as A,yc as l,zc as u}from"./chunk-ZXANYF3K.js";var N=["offerings","journal_fish","journal_critter","journal_insects","journal_gems","journal_fossils","journal_artifacts","journal_crops","journal_animal_produce","journal_scavangables","journal_ocean_produce","cooking_recipes","crafting","artisan","museum","uncategorized","item_mixing","database"],B={offerings:"Offerings",journal_fish:"Fish",journal_critter:"Sea Critter",journal_insects:"Insects",journal_gems:"Gems",journal_fossils:"Fossils",journal_artifacts:"Artifacts",journal_crops:"Crops",journal_animal_produce:"Animal Produce",journal_ocean_produce:"Ocean Produce",journal_scavangables:"Scavangables",cooking_recipes:"Cooking recipes",crafting:"Crafting",artisan:"Artisan",museum:"Museum",uncategorized:"Uncategorized",item_mixing:"Item mixing",database:"Database"};var xt=["*"];function ht(e,s){if(e&1&&w(0,"app-rarity-icon",6),e&2){let t=c(2);m("quality",t.quality())}}function yt(e,s){if(e&1){let t=g();n(0,"div",3),f("click",function(){h(t);let i=c();return y(i.entrySelected.emit(i.item()))}),w(1,"app-item-icon",4),n(2,"span",5),l(3),a(),d(4,ht,1,1,"app-rarity-icon",6),a()}if(e&2){let t=c();r(),m("itemName",t.item().iconName),r(),T("line-through",t.isChecked),r(),u(t.item().displayName),r(),p(t.quality()?4:-1)}}var Ct=(()=>{class e{constructor(){this.amount=C(),this.quality=C(),this.item=C.required(),this.category=C.required(),this.entrySelected=k(),this.checkbox=M(I),this.qualities=G,this.isChecked=!1,this.#t=x(v),this.#e=x(A)}#t;#e;ngOnInit(){this.#t.categoryCompleted$().pipe(j(this.#e),q(t=>t===this.category())).subscribe({next:()=>{this.toggleCompletionStatus(!0);let t=this.checkbox();t&&(t.checked=!0)}})}toggleCompletionStatus(t){this.isChecked=t,this.#t.updateStatus(this.category(),this.item(),t)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=D({type:e,selectors:[["app-to-do-entry-base"]],viewQuery:function(o,i){o&1&&U(i.checkbox,I,5),o&2&&$()},hostVars:2,hostBindings:function(o,i){o&2&&T("opacity-50",i.isChecked)},inputs:{amount:[1,"amount"],quality:[1,"quality"],item:[1,"item"],category:[1,"category"]},outputs:{entrySelected:"entrySelected"},ngContentSelectors:xt,decls:5,vars:2,consts:[[1,"flex","gap-2","items-center","cursor-pointer"],[1,"ml-auto","font-semibold","mr-4"],[3,"change"],[1,"flex","gap-2","items-center","cursor-pointer",3,"click"],[1,"!w-7",3,"itemName"],[1,"ml-1","whitespace-nowrap"],[1,"!w-4",3,"quality"]],template:function(o,i){o&1&&(L(),d(0,yt,5,5,"div",0),O(1),n(2,"span",1),l(3),a(),n(4,"mat-checkbox",2),f("change",function(P){return i.toggleCompletionStatus(P.checked)}),a()),o&2&&(p(i.item()?0:-1),r(3),u(i.amount()?"x"+i.amount():""))},dependencies:[I,at,rt],styles:["[_nghost-%COMP%]{display:flex;height:48px;align-items:center;gap:.5rem;border-radius:1rem;background-color:rgb(0 0 0 / var(--tw-bg-opacity));--tw-bg-opacity: .05;padding-left:1rem;padding-right:1rem;font-size:1.125rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}"]})}}return e})();function gt(e,s){if(e&1){let t=g();n(0,"app-to-do-entry-base",4),f("entrySelected",function(i){h(t);let _=c(2);return y(_.entrySelected.emit(i))}),a()}if(e&2){let t=s.$implicit,o=c(2);m("amount",t.amount)("category",o.context())("item",t.itemEntry)("quality",t.quality)("@leaveAnimation",void 0)}}function Dt(e,s){if(e&1){let t=g();n(0,"header",0)(1,"h2",1),l(2),a(),n(3,"button",2),f("click",function(){h(t);let i=c();return y(i.completeList())}),l(4,"complete list"),a()(),n(5,"div"),b(6,gt,1,5,"app-to-do-entry-base",3,S),a()}if(e&2){let t,o=c();r(2),u(o.context()==="uncategorized"||o.context()===void 0?"Uncategorized":o.ToDoContextDisplayNames[o.context()]),r(3),m("@.disabled",!((t=o.toDoId())!=null&&t.includes(o.context())||o.toDoId()===void 0)),r(),E(o.data)}}var ft=(()=>{class e{constructor(){this.entrySelected=k(),this.context=C.required(),this.toDoId=C(),this.hidden=H(()=>!this.toDoId()?.includes(this.context())||!this.data.length),this.ToDoContextDisplayNames=B,this.toDoService=x(v)}get data(){return this.toDoService.getCategoryList(this.context()==="uncategorized"?void 0:this.context())}completeList(){this.toDoService.completeCategory(this.context()==="uncategorized"?void 0:this.context())}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=D({type:e,selectors:[["app-to-do-partial"]],hostVars:2,hostBindings:function(o,i){o&2&&T("hidden",i.hidden())},inputs:{context:[1,"context"],toDoId:[1,"toDoId"]},outputs:{entrySelected:"entrySelected"},decls:1,vars:1,consts:[[1,"flex","justify-between","items-center","mt-5","mb-2"],[1,"font-semibold","text-xl","text-black"],[1,"btn-amber",3,"click"],[1,"mb-2","block",3,"amount","category","item","quality"],[1,"mb-2","block",3,"entrySelected","amount","category","item","quality"]],template:function(o,i){if(o&1&&d(0,Dt,8,2),o&2){let _;p(i.data.length&&((_=i.toDoId())!=null&&_.includes(i.context()))?0:-1)}},dependencies:[Ct],encapsulation:2,data:{animation:[J("leaveAnimation",[W(":leave",[V({height:"*",opacity:1}),K("200ms ease-in",V({height:0,opacity:0}))])])]}})}}return e})();function vt(e,s){if(e&1&&w(0,"app-offering",12),e&2){let t=s.$implicit;m("details",t)}}function Tt(e,s){if(e&1&&(n(0,"app-item-card-switch",1),d(1,vt,1,1,"ng-template",11),a()),e&2){let t=c();m("item",t.selectedEntity)("context",t.selectedContext())}}function St(e,s){e&1&&l(0," All ")}function bt(e,s){if(e&1&&(n(0,"span",13),l(1),a()),e&2){let t=c(3);r(),R(" (+",t.toDoCategoryControl.value.length-1," ",t.toDoCategoryControl.value.length===2?"other":"others"," ) ")}}function Et(e,s){if(e&1&&(l(0),d(1,bt,2,2,"span",13)),e&2){let t=c(2);Q(" ",t.toDoCategoryControl.value[0]!=="all"?t.toDoCategoryControl.value[0]==="uncategorized"?"Uncategorized":t.toDoContextDisplayNames[t.toDoCategoryControl.value[0]]:""," "),r(),p(t.toDoCategoryControl.value.length>1?1:-1)}}function wt(e,s){if(e&1&&d(0,Et,2,2),e&2){let t=c();p(t.toDoCategoryControl.value.length?0:-1)}}function kt(e,s){if(e&1&&(n(0,"mat-option",7)(1,"div",2)(2,"span"),l(3),a(),n(4,"span"),l(5),a()()()),e&2){let t=s.$implicit,o=c();m("value",t),r(3),u(o.toDoContextDisplayNames[t]),r(2),u(o.toDoService.getCategoryList(t).length)}}function It(e,s){if(e&1){let t=g();n(0,"app-to-do-partial",14),f("entrySelected",function(i){let _=h(t).$implicit,P=c();return y(P.openEntry(i,_))}),a()}if(e&2){let t=s.$implicit,o=c();m("context",t)("toDoId",o.toDoCategoryControl.value)}}function jt(e,s){e&1&&(n(0,"div",10)(1,"h2",15),l(2,"No entries in to-do list"),a(),n(3,"p",16),l(4," Your current to-do list is empty! Visit the "),n(5,"a",17),l(6,"journal"),a(),l(7,", the "),n(8,"a",18),l(9,"offerings"),a(),l(10," or other places to add entries to your to-do list. "),a()())}function Bt(e,s){e&1&&(n(0,"div",10)(1,"h2",15),l(2,"No entries for selection"),a(),n(3,"p",16),l(4," There are no entries for your current filter settings. "),a()())}var _t=(()=>{class e extends nt{constructor(){super(),this.toDoContexts=N,this.toDoContextDisplayNames=B,this.toDoCategoryControl=new Z(["all",...N,"uncategorized"],{nonNullable:!0}),this.toDoService=x(v),this.selectedContext=F("uncategorized"),this.hadAllBefore=!0,this.toDoCategoryControl.valueChanges.pipe(j()).subscribe({next:t=>{this.hadAllBefore&&!t.includes("all")?(this.toDoCategoryControl.setValue([],{emitEvent:!1}),this.hadAllBefore=!1):!this.hadAllBefore&&t.includes("all")?(this.toDoCategoryControl.setValue(["all",...this.toDoContexts],{emitEvent:!1}),this.hadAllBefore=!0):this.hadAllBefore&&t.length<this.toDoContexts.length+1&&(this.toDoCategoryControl.setValue(t.filter(o=>o!=="all"),{emitEvent:!1}),this.hadAllBefore=!1)}})}openEntry(t,o){this.showDetails(t),this.selectedContext.set(o)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=D({type:e,selectors:[["app-to-do"]],features:[z],decls:29,vars:9,consts:[[3,"removePlaceholder"],["listDetail","",3,"item","context"],[1,"flex","justify-between"],[1,"mb-4","font-semibold","text-2xl","text-black"],[1,"btn","btn-secondary"],["multiple","","placeholder","None",3,"formControl"],["value","all"],[3,"value"],["value","uncategorized"],[3,"context","toDoId"],[1,"show-when-none-displayed"],["appDatabaseItemDetails",""],[3,"details"],[1,"text-sm","opacity-80"],[3,"entrySelected","context","toDoId"],[1,"mb-2","mt-4","font-semibold","text-xl","text-black"],[1,"text-black"],["routerLink","/journal",1,"underline"],["routerLink","/locations/lake-temple",1,"underline"]],template:function(o,i){o&1&&(n(0,"app-list-detail-container",0),d(1,Tt,2,2,"app-item-card-switch",1),n(2,"app-card")(3,"div",2)(4,"h1",3),l(5,"To-Dos"),a(),n(6,"mat-form-field",4)(7,"mat-select",5)(8,"mat-select-trigger"),d(9,St,1,0)(10,wt,1,1),a(),n(11,"mat-option",6)(12,"div",2)(13,"span"),l(14,"All"),a(),n(15,"span"),l(16),a()()(),b(17,kt,6,3,"mat-option",7,S),n(19,"mat-option",8)(20,"div",2)(21,"span"),l(22,"Uncategorized"),a(),n(23,"span"),l(24),a()()()()()(),b(25,It,1,2,"app-to-do-partial",9,S),d(27,jt,11,0,"div",10)(28,Bt,5,0,"div",10),a()()),o&2&&(m("removePlaceholder",i.showTable),r(),p(i.selectedEntity?1:-1),r(6),m("formControl",i.toDoCategoryControl),r(2),p(i.toDoCategoryControl.value.includes("all")?9:-1),r(),p(i.toDoCategoryControl.value.includes("all")?-1:10),r(6),u(i.toDoService.currentToDoAmount),r(),E(i.toDoContexts),r(7),u(i.toDoService.getCategoryList().length),r(),E(i.toDoContexts),r(2),p(i.toDoService.currentIsEmpty?27:-1),r(),p(i.toDoService.currentIsEmpty?-1:28))},dependencies:[ft,ct,mt,st,ot,dt,pt,it,lt,Y,et,X,tt],styles:["app-to-do-partial[_ngcontent-%COMP%]:not(.hidden) ~ .show-when-none-displayed[_ngcontent-%COMP%]{display:none}"]})}}return e})();var ue=[{path:"",component:_t},{path:":toDoId",redirectTo:""}];export{ue as routes};
