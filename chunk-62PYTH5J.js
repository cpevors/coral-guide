import{a as X}from"./chunk-3RCH7TOZ.js";import{a as J}from"./chunk-CQLB3BS5.js";import"./chunk-WIAGADDS.js";import"./chunk-6GEEHTPV.js";import"./chunk-QEWZLHID.js";import{a as Q}from"./chunk-PD5FG3A7.js";import{a as G}from"./chunk-PRWEW5VH.js";import{a as K}from"./chunk-7JQJEV7G.js";import"./chunk-2K3GEZZY.js";import"./chunk-7A5ZJ3YN.js";import{a as x}from"./chunk-2A7PSW7O.js";import{a as j,c as q}from"./chunk-5NO5LL4W.js";import"./chunk-VO65IASJ.js";import{a as z}from"./chunk-C53QTWVW.js";import"./chunk-GLYGKSTO.js";import{b as O}from"./chunk-PIL2IJC4.js";import"./chunk-OOBQPUIX.js";import"./chunk-OM3WRHFD.js";import"./chunk-JSGVWV7K.js";import{b as H}from"./chunk-VYOS5CGL.js";import"./chunk-RZQ3UNDK.js";import"./chunk-DKARO4CX.js";import"./chunk-DHAI4KFY.js";import"./chunk-5MLMU7SK.js";import"./chunk-GEWE6M22.js";import"./chunk-SJRCRC22.js";import"./chunk-X3TMHFY3.js";import"./chunk-EE6A4D3O.js";import"./chunk-2CFRUPNI.js";import"./chunk-F6RS7OIB.js";import"./chunk-KW5235UB.js";import{a as W}from"./chunk-7JOAVXDE.js";import"./chunk-7SDYZQX7.js";import"./chunk-KUYOE2KN.js";import"./chunk-AJOFB37Q.js";import{$b as D,Ba as M,G as E,Gc as _,Hc as u,Ib as r,Kb as b,Ob as c,Qb as v,Rb as g,Sb as h,Tb as s,Ub as l,Vb as k,X as N,Zb as w,ac as p,db as a,ld as R,ma as T,md as V,na as y,p as I,q as F,rc as d,rd as A,sb as f,sc as S,vc as B,wb as P,wc as $,xc as L,yb as m,yc as U}from"./chunk-GYX7HZX3.js";import"./chunk-4CLCTAJ7.js";function te(t,o){if(t&1&&(s(0,"div",1),d(1,"Buff: "),s(2,"span",0),d(3),_(4,"addSpacesToPascalCase"),l()()),t&2){let e=p();a(3),B(" ",u(4,3,e.consumable().buff),", Level ",e.consumable().level," for ",e.consumable().duration," seconds ")}}var Y=(()=>{class t{constructor(){this.consumable=M.required()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-consumable"]],inputs:{consumable:[1,"consumable"]},decls:9,vars:5,consts:[[1,"text-black"],[1,"mb-3"]],template:function(i,n){i&1&&(s(0,"div"),d(1,"Health: "),s(2,"span",0),d(3),l()(),s(4,"div"),d(5,"Energy: "),s(6,"span",0),d(7),l()(),m(8,te,5,5,"div",1)),i&2&&(a(3),S(n.consumable().healthDelta),a(),b("mb-3",n.consumable().buff==="None"),a(3),S(n.consumable().staminaDelta),a(),c(n.consumable().buff!=="None"?8:-1))},dependencies:[A,x],encapsulation:2})}}return t})();var ie=(t,o)=>o.key;function ne(t,o){t&1&&k(0,"app-consumable",4),t&2&&r("consumable",o)}function oe(t,o){if(t&1&&k(0,"app-cooking-recipe",5),t&2){let e=o.$implicit;r("cookingRecipe",e)}}function ae(t,o){if(t&1&&(m(0,ne,1,1,"app-consumable",4),g(1,oe,1,1,"app-cooking-recipe",5,ie)),t&2){let e,i=o.$implicit;c((e=i.consumables==null?null:i.consumables.base)?0:-1,e),a(),h(i.cookedFrom)}}function se(t,o){if(t&1&&(s(0,"app-database-item-details",0),m(1,ae,3,1,"ng-template",3),l()),t&2){let e=p();r("itemId",e.selectedEntity.item.id)}}function le(t,o){if(t&1){let e=w();s(0,"app-item-icon",10),D("click",function(){let n=T(e).$implicit,C=p(4);return y(C.showDetails(n))}),l()}if(t&2){let e=o.$implicit,i=p(4);b("selected-icon",(i.selectedEntity==null||i.selectedEntity.item==null?null:i.selectedEntity.item.id)===e.item.id),r("amount",e.amount)("itemName",e.item.iconName)}}function pe(t,o){if(t&1&&(s(0,"div",7),g(1,le,1,4,"app-item-icon",9,v),l()),t&2){let e=p();a(),h(e)}}function me(t,o){if(t&1&&k(0,"app-cooking-table",8),t&2){let e=p();r("dataSource",e)}}function re(t,o){if(t&1&&m(0,pe,3,0,"div",7)(1,me,1,1,"app-cooking-table",8),t&2){let e=p(2);c(e.showTable?-1:0),a(),c(e.showTable?1:-1)}}function ce(t,o){if(t&1){let e=w();s(0,"mat-tab",2),_(1,"addSpacesToPascalCase"),_(2,"titlecase"),s(3,"app-data-filter",6),U("showTableChange",function(n){T(e);let C=p();return L(C.showTable,n)||(C.showTable=n),y(n)}),l(),m(4,re,2,2),_(5,"async"),l()}if(t&2){let e,i=o.$implicit,n=p();r("label",n.cookingUtensilMapping[i.toLowerCase()]?n.cookingUtensilMapping[i.toLowerCase()].displayName:u(2,5,u(1,3,i))),a(3),$("showTable",n.showTable),a(),c((e=u(5,7,n.filteredData$(i)))?4:-1,e)}}var Ne=(()=>{class t extends G{constructor(){super(),this.utensilNames=[],this.quality=W,this.cookingUtensilMapping=this._database.getCookingUtensilMapping(),this._consumables=[],this.urlPathFromLabel=e=>{let i=Object.keys(this.cookingUtensilMapping).find(n=>this.cookingUtensilMapping[n].displayName===e);return i||e.toLowerCase().replaceAll(" ","")},F([this._database.fetchCookingRecipes$(),this._database.fetchConsumables$()]).pipe(E(1)).subscribe({next:([e,i])=>{this._consumables=i,this.utensilNames=Object.keys(e),this.activateTabFromRoute(this.utensilNames)}})}filteredData$(e){return this._database.fetchCookingRecipes$().pipe(I(i=>i[e]),N(i=>{this.reusedImages=this.getMultipleIconNames(i.map(n=>n.item?.iconName??""))}))}showDetails(e){super.showDetails(e),this.selectedEntityConsumable=this._consumables.find(i=>i.key===e?.item?.id)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-cooking"]],features:[P],decls:5,vars:2,consts:[["context","cooking_recipes","listDetail","",3,"itemId"],["mat-stretch-tabs","false",1,"w-full",3,"selectedTabChange","selectedIndex"],[3,"label"],["appDatabaseItemDetails",""],[3,"consumable"],[1,"mb-4",3,"cookingRecipe"],[3,"showTableChange","showTable"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"amount","selected-icon","itemName"],[1,"icon-grid-item",3,"click","amount","itemName"]],template:function(i,n){i&1&&(s(0,"app-list-detail-container"),m(1,se,2,1,"app-database-item-details",0),s(2,"mat-tab-group",1),D("selectedTabChange",function(Z){return n.updateUrl(Z)}),g(3,ce,6,9,"mat-tab",2,v),l()()),i&2&&(a(),c(n.selectedEntity?1:-1),a(),r("selectedIndex",n.selectedTabIndex()),a(),h(n.utensilNames))},dependencies:[J,H,z,j,q,Y,X,K,Q,O,x,V,R],encapsulation:2})}}return t})();export{Ne as CookingComponent};
