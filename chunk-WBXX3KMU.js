import{K as r,Mb as n,O as a,oa as h}from"./chunk-JU6YEV2O.js";var c=(()=>{let t=class t{constructor(e){if(this.checklistName=e,this.versionSuffix=a(n).getSettings().useBeta?"_beta":"_live",this.checklists=[],this.currentChecklistIndex=0,e.trim()==="")throw new Error("checklistName can't be empty!");this.read()}read(){let e=localStorage.getItem(this.getChecklistStorageKey());e?this.checklists=JSON.parse(e):(this.checklists.push(this._createEmptyChecklist()),this.save())}save(){localStorage.setItem(this.getChecklistStorageKey(),JSON.stringify(this.checklists))}getCurrentChecklist(){let e=this.checklists[this.currentChecklistIndex];return e||(this.currentChecklistIndex=0,e=this.checklists[this.currentChecklistIndex]),e||(this.checklists.push(this._createEmptyChecklist()),e=this.checklists[this.currentChecklistIndex]),e}set(e){this.getCurrentChecklist().entries=[...new Set([...Array.isArray(e)?e:[e]])],this.save()}add(e){this.getCurrentChecklist().entries=[...new Set([...this.getCurrentChecklist().entries,...Array.isArray(e)?e:[e]])],this.save()}remove(e){Array.isArray(e)||(e=[e]),this.getCurrentChecklist().entries=this.getCurrentChecklist().entries.filter(i=>!e.includes(i)),this.save()}isChecked(e){return this.getCurrentChecklist().entries.includes(e)}getChecklistStorageKey(){return t._TO_DO_STORE_KEY+this.checklistName+this.versionSuffix}resetLiveChecklist(){localStorage.setItem(t._TO_DO_STORE_KEY+this.checklistName+"_live",JSON.stringify([this._createEmptyChecklist()])),this.read()}resetBetaChecklist(){localStorage.setItem(t._TO_DO_STORE_KEY+this.checklistName+"_beta",JSON.stringify([this._createEmptyChecklist()])),this.read()}_createEmptyChecklist(){return{version:t._CURRENT_TO_DO_VERSION,entries:[]}}};t._CURRENT_TO_DO_VERSION=1,t._TO_DO_STORE_KEY="checklist_",t.\u0275fac=function(i){h()},t.\u0275prov=r({token:t,factory:t.\u0275fac});let s=t;return s})();var p=(()=>{let t=class t extends c{constructor(){super("museum")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();var g=(()=>{let t=class t extends c{constructor(){super("cooking-recipes")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();var S=(()=>{let t=class t extends c{constructor(){super("offerings")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();export{p as a,g as b,S as c};
