import{a as Ot,b as Vt,c as Jt,d as Ut,e as Gt,f as Yt,n as mi}from"./chunk-T7R4YOHN.js";import{a as Ct,b as _t}from"./chunk-RAMFR2BT.js";import{$d as Z,Aa as w,Ba as ye,D as pe,Da as b,Dd as Je,De as ai,E as ie,Ea as T,Eb as Nt,Ec as Be,Fa as D,Fd as Ue,G as ue,Ga as S,Gc as ze,Ge as Lt,Ha as d,Hd as Ge,Ia as m,Ja as p,Ka as g,Ke as ni,L as lt,La as x,Ld as Ye,Le as oi,M as be,Mb as Fe,Me as ri,Na as A,O as z,Ob as ut,Od as Qe,P as Tt,Pa as y,Pb as re,Pd as We,Pe as di,Q as _,Qa as l,Qb as Bt,Qd as Ze,R as st,Ra as ne,Rd as J,S as ae,Sa as St,Sd as ft,T as Pt,Ta as we,U as F,Ud as U,V as E,Va as Te,Vd as Xe,Xb as ht,Xd as G,Y as $,Ya as De,Yb as Ee,Yd as Y,Za as Se,Zd as Q,_a as Ie,_b as Pe,_c as bt,_d as W,a as Ft,ab as u,ac as zt,ae as X,b as le,bb as N,bd as Mt,be as q,cb as P,ce as K,db as Rt,de as tt,ea as fe,ec as Re,ee as et,fe as it,ga as Dt,gb as oe,gd as je,ge as qe,ha as _e,hb as Me,ib as At,ja as he,jb as ke,jc as jt,k as Et,kb as v,lb as C,ld as $e,m as se,ma as r,n as gt,na as pt,oa as ge,od as He,pa as xe,qd as de,qe as at,rb as It,re as nt,sa as ve,se as ot,ta as M,td as R,te as Ke,ua as Ce,ud as Le,ue as rt,vc as Ae,vd as Oe,ve as $t,wa as s,wd as vt,we as ti,xa as H,xd as Ve,xe as ei,ya as c,yb as L,yc as Ne,ye as Ht,zc as xt,zd as O,ze as ii}from"./chunk-JU6YEV2O.js";var ci=(()=>{let e=class e{constructor(){this.UI_ICONS=Bt}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-journal"]],decls:15,vars:6,consts:[["routerLink","produce",3,"uiIcon"],["routerLink","caught",3,"uiIcon"],["routerLink","found",3,"uiIcon"],["routerLink","bestiary",3,"uiIcon"],["routerLink","notes",3,"uiIcon"],["routerLink","achievements",3,"uiIcon"],[1,"hidden"]],template:function(n,o){n&1&&(d(0,"app-sidebar-container")(1,"app-module-sidebar")(2,"app-module-sidebar-item",0),u(3,"Produce"),m(),d(4,"app-module-sidebar-item",1),u(5,"Caught"),m(),d(6,"app-module-sidebar-item",2),u(7,"Found"),m(),d(8,"app-module-sidebar-item",3),u(9,"Bestiary"),m(),d(10,"app-module-sidebar-item",4),u(11,"Notes"),m(),d(12,"app-module-sidebar-item",5),u(13,"Badges "),m()(),p(14,"router-outlet",6),m()),n&2&&(r(2),c("uiIcon",o.UI_ICONS.FARMING),r(2),c("uiIcon",o.UI_ICONS.CATCHING),r(2),c("uiIcon",o.UI_ICONS.ARTISAN),r(2),c("uiIcon",o.UI_ICONS.BESTIARY),r(2),c("uiIcon",o.UI_ICONS.NOTES),r(2),c("uiIcon",o.UI_ICONS.BADGES))},dependencies:[$e,He,Oe,Le,We],encapsulation:2});let t=e;return t})();var yt=(()=>{let e=class e extends Ht{constructor(a){super(),this.uiIcon=Bt,this.tabs=[],this.season=ut,this.media=z(Ae),this.changeDetectorRef=z(xe),this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>this.changeDetectorRef.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener),this.formControl=a}getFilteredJournalData(a,n,o){return gt([a,n,this.formControl.valueChanges.pipe(pe(this.formControl.value)),Et(o)]).pipe(se(([f,h,I,dt])=>{let B=[];return f.sort((V,j)=>V.order>j.order?1:-1).forEach(V=>{let j=h.find(mt=>"dropData"in mt?mt.dropData[0].item?.id===V.key:"item"in mt?mt.item.id===V.key:mt.id===V.key);j&&(this.filterPredicate||B.push(j),this.filterPredicate&&this.filterPredicate(j,I,dt)&&B.push(j))}),B}))}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}};e.\u0275fac=function(n){return new(n||e)(pt(bt))},e.\u0275cmp=_({type:e,selectors:[["ng-component"]],viewQuery:function(n,o){if(n&1&&De(U,5),n&2){let f;Se(f=Ie())&&(o.matTabGroup=f.first)}},features:[M],decls:0,vars:0,template:function(n,o){},encapsulation:2});let t=e;return t})();function Bi(t,e){if(t&1&&p(0,"app-caught-details",1),t&2){let i=l();c("critter",i.selectedEntity)("registerToToDo",i.registerToToDo)}}function zi(t,e){if(t&1){let i=A();d(0,"app-item-icon",8),y("click",function(){let o=F(i).$implicit,f=l(4);return E(f.showDetails(o))}),m()}if(t&2){let i=e.$implicit,a=l(4);w("selected-icon",(a.selectedEntity==null||a.selectedEntity.item==null?null:a.selectedEntity.item.id)===i.item.id),c("itemName",i.item.iconName)}}function ji(t,e){if(t&1&&(d(0,"div",7),D(1,zi,1,3,"app-item-icon",9,T),m()),t&2){let i=l();r(),S(i)}}function $i(t,e){if(t&1&&p(0,"app-caught-table",6),t&2){let i=l();c("dataSource",i)}}function Hi(t,e){if(t&1&&s(0,ji,3,0,"div",5)(1,$i,1,1,"app-caught-table",6),t&2){let i=l(2);b(0,i.showTable?-1:0),r(),b(1,i.showTable?1:-1)}}function Li(t,e){if(t&1){let i=A();d(0,"mat-tab",3)(1,"app-data-filter",4),y("showTableChange",function(n){F(i);let o=l();return E(o.showTable=n)}),m(),s(2,Hi,2,2),v(3,"async"),m()}if(t&2){let i=e.$implicit,a=l(),n;c("label",i.title),r(),c("showTable",a.showTable)("parentFormGroup",a.formControl),r(),b(2,(n=C(3,4,i.data))?2:-1,n)}}var Qt=(()=>{let e=class e extends yt{constructor(){super(new bt({season:new Mt(Object.values(ut),{nonNullable:!0}),weather:new Mt(Object.values(re),{nonNullable:!0})})),this.SEA_CRITTERS_INDEX=2,this.registerToToDo=this.registerToToDo.bind(this),this.tabs=[{title:"Fish",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fish"),this._database.fetchFish$(),0)},{title:"Insects",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-insects"),this._database.fetchBugsAndInsects$(),1)},{title:"Sea Critters",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-sea-critters"),this._database.fetchOceanCritters$(),this.SEA_CRITTERS_INDEX)}],this.activateTabFromRoute(this.tabs.map(a=>a.title))}registerToToDo(a){"fishName"in a?this._todo.add(O.JOURNAL_FISH,a):this.matTabGroup?.selectedIndex===this.SEA_CRITTERS_INDEX?this._todo.add(O.JOURNAL_CRITTER,a):this._todo.add(O.JOURNAL_INSECTS,a)}filterPredicate(a,n,o){if(!n.season?.length||!n.weather?.length)return!1;let f="spawnSettings"in a?a.spawnSettings.map(B=>B.spawnSeason):[a.spawnSeason],h="spawnSettings"in a?a.spawnSettings.map(B=>B.spawnWeather):[a.spawnWeather],I=f.reduce((B,V)=>{let j=ht(V).toLowerCase(),mt=j==="any"||n.season?.length===Object.values(ut).length||!!n.season?.some(ee=>j.includes((""+ee).toLowerCase()));return B||mt},!1),dt=h.reduce((B,V)=>{let j=ht(V).toLowerCase(),mt=o===this.SEA_CRITTERS_INDEX||j==="any"||n.weather?.length===Object.values(re).length||!!n.weather?.some(ee=>j.includes((""+ee).toLowerCase()));return B||mt},!1);return I&&dt}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-caught"]],features:[M],decls:5,vars:4,consts:[[3,"openDrawer","removePlaceholder","openDrawerChange"],["listDetail","",3,"critter","registerToToDo"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],[3,"label"],[3,"showTable","parentFormGroup","showTableChange"],["class","grid gap-4 icon-grid"],[3,"dataSource"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item",3,"itemName","click"],["class","icon-grid-item",3,"itemName","selected-icon"]],template:function(n,o){n&1&&(d(0,"app-list-detail-container",0),y("openDrawerChange",function(h){return o.openDrawer=h}),s(1,Bi,1,2,"app-caught-details",1),d(2,"mat-tab-group",2),y("selectedTabChange",function(h){return o.updateUrl(h)}),D(3,Li,4,6,"mat-tab",3,T),m()()),n&2&&(c("openDrawer",o.openDrawer)("removePlaceholder",o.showTable),r(),b(1,o.selectedEntity?1:-1),r(),c("selectedIndex",o.selectedTabIndex),r(),S(o.tabs))},encapsulation:2});let t=e;return t})();function Vi(t,e){if(t&1&&p(0,"app-shop-processing-result",5),t&2){let i=l().$implicit;c("itemProcessData",i.chanceAsProcessResult)}}function Ji(t,e){if(t&1&&s(0,Vi,1,1,"app-shop-processing-result",4),t&2){let i=e.$implicit;b(0,i.chanceAsProcessResult?0:-1)}}function Ui(t,e){if(t&1&&(d(0,"app-database-item-details",1),s(1,Ji,1,1,"ng-template",3),m()),t&2){let i=l();c("itemId",i.selectedEntity.id)}}function Gi(t,e){if(t&1){let i=A();d(0,"app-item-icon",11),y("click",function(){let o=F(i).$implicit,f=l(4);return E(f.showDetails(o))}),m()}if(t&2){let i=e.$implicit,a=l(4);w("selected-icon",(a.selectedEntity==null?null:a.selectedEntity.id)===i.id),c("itemName",i.iconName)}}function Yi(t,e){if(t&1&&(d(0,"div",10),D(1,Gi,1,3,"app-item-icon",12,T),m()),t&2){let i=l();r(),S(i)}}function Qi(t,e){if(t&1&&p(0,"app-non-specialized-table",9),t&2){let i=l();c("dataSource",i)}}function Wi(t,e){if(t&1&&s(0,Yi,3,0,"div",8)(1,Qi,1,1,"app-non-specialized-table",9),t&2){let i=l(2);b(0,i.showTable?-1:0),r(),b(1,i.showTable?1:-1)}}function Zi(t,e){if(t&1){let i=A();d(0,"mat-tab",6)(1,"app-data-filter",7),y("showTableChange",function(n){F(i);let o=l();return E(o.showTable=n)}),m(),s(2,Wi,2,2),v(3,"async"),m()}if(t&2){let i=e.$implicit,a=l(),n;c("label",i.title),r(),c("showTable",a.showTable)("parentFormGroup",a.formControl),r(),b(2,(n=C(3,4,i.data))?2:-1,n)}}var pi=(()=>{let e=class e extends yt{constructor(){super(new bt({})),this.tabs=[{title:"Artifacts",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artifacts"),this._database.fetchItems$(),0)},{title:"Gems",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-gems"),this._database.fetchItems$(),1)},{title:"Fossils",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fossils"),this._database.fetchItems$(),2)},{title:"Scavangables",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-scavangable"),this._database.fetchItems$(),3)}],this.activateTabFromRoute(this.tabs.map(a=>a.title))}showDetails(a){super.showDetails(a),this.toDoCategory=this.selectedTabIndex===0?O.JOURNAL_ARTIFACTS:this.selectedTabIndex===1?O.JOURNAL_GEMS:this.selectedTabIndex===2?O.JOURNAL_FOSSILS:void 0}registerToToDo(a){let n=this.toDoCategory;n&&this._todo.add(n,a)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-found"]],features:[M],decls:5,vars:3,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"itemId"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],["appDatabaseItemDetails",""],["class","mb-4",3,"itemProcessData"],[1,"mb-4",3,"itemProcessData"],[3,"label"],[3,"showTable","parentFormGroup","showTableChange"],["class","grid gap-4 icon-grid"],[3,"dataSource"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item",3,"itemName","click"],["class","icon-grid-item",3,"selected-icon","itemName"]],template:function(n,o){n&1&&(d(0,"app-list-detail-container",0),y("openDrawerChange",function(h){return o.openDrawer=h}),s(1,Ui,2,1,"app-database-item-details",1),d(2,"mat-tab-group",2),y("selectedTabChange",function(h){return o.updateUrl(h)}),D(3,Zi,4,6,"mat-tab",6,T),m()()),n&2&&(c("openDrawer",o.openDrawer),r(),b(1,o.selectedEntity?1:-1),r(),c("selectedIndex",o.selectedTabIndex),r(),S(o.tabs))},dependencies:[R,J,at,$t,ft,U,_t,Ct,Ot,L],encapsulation:2});let t=e;return t})();function Xi(t,e){if(t&1&&p(0,"app-crop",3),t&2){let i=e.$implicit;c("item",i)}}function qi(t,e){if(t&1&&p(0,"app-animal-produce",2),t&2){let i=l().$implicit;c("animal",i.producedByAnimal)("shownItemId",i.item.id)}}function Ki(t,e){if(t&1&&p(0,"app-processor",4),t&2){let i=e.$implicit,a=e.$index;w("mt-3",a!==0),c("itemProcessing",i)}}function ta(t,e){if(t&1&&(D(0,Xi,1,1,"app-crop",5,T),s(2,qi,1,2,"app-animal-produce",2),D(3,Ki,1,3,"app-processor",6,T)),t&2){let i=e.$implicit;S(i.isSeedFor),r(2),b(2,i.producedByAnimal?2:-1),r(),S(i.artisanResult)}}var ui=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-produce-details"]],inputs:{item:"item"},decls:3,vars:3,consts:[[3,"itemId"],["appDatabaseItemDetails",""],[3,"animal","shownItemId"],[1,"mb-4",3,"item"],[3,"itemProcessing"],["class","mb-4",3,"item"],[3,"mt-3","itemProcessing"]],template:function(n,o){n&1&&(d(0,"app-database-item-details",0),v(1,"isBaseCrop"),s(2,ta,5,1,"ng-template",1),m()),n&2&&c("itemId",(C(1,1,o.item)?o.item.dropData[0].item:o.item).id)},dependencies:[_t,Ct,Vt,Jt,Ut,ti],encapsulation:2});let t=e;return t})();function ia(t,e){if(t&1&&(d(0,"td",19),p(1,"app-item-icon",20),m()),t&2){let i=e.$implicit;r(),c("itemName",i.dropData[0]==null||i.dropData[0].item==null?null:i.dropData[0].item.iconName)}}function aa(t,e){t&1&&(d(0,"th",21),u(1," Output "),m()),t&2&&H("colspan",2)}function na(t,e){if(t&1&&(d(0,"td",22),u(1),m()),t&2){let i=e.$implicit;r(),P("",i.dropData[0]==null?null:i.dropData[0].item.displayName," ")}}function oa(t,e){t&1&&(d(0,"th",23),u(1," Size"),m())}function ra(t,e){if(t&1&&(d(0,"td",22),u(1),m()),t&2){let i=e.$implicit;r(),Rt(" ",i.size.width,"x",i.size.length," ")}}function da(t,e){t&1&&(d(0,"th",23),u(1," Seasons"),m())}function ma(t,e){if(t&1&&(d(0,"td",22),u(1),m()),t&2){let i=e.$implicit;r(),P(" ",i.growableSeason.join(", ")," ")}}function ca(t,e){t&1&&(d(0,"th",23),u(1," Regrow"),m())}var la=t=>[1,t];function sa(t,e){if(t&1&&(u(0),v(1,"max")),t&2){let i=l().$implicit;P(`
`,C(1,1,ke(3,la,i.regrowableLength)),` days
`)}}function pa(t,e){if(t&1&&(d(0,"td",24),s(1,sa,2,5),m()),t&2){let i=e.$implicit;r(),b(1,i.isRegrowable?1:-1)}}function ua(t,e){t&1&&(d(0,"th",23),u(1," Grow time"),m())}function ba(t,e){if(t&1&&(d(0,"td",24),u(1),m()),t&2){let i=e.$implicit;r(),P(" ",i.growTime," days ")}}function fa(t,e){t&1&&(d(0,"th",25),u(1," Seed"),m())}function _a(t,e){if(t&1&&(d(0,"td",22)(1,"div",26),p(2,"app-item-icon",27),u(3),m()()),t&2){let i=e.$implicit;r(2),c("itemName",i.item==null?null:i.item.iconName),r(),P(" ",i.readableName," ")}}function ha(t,e){t&1&&(d(0,"th",25),u(1," Seed buy price"),m())}function ga(t,e){if(t&1&&(d(0,"td",28),p(1,"app-money",29),m()),t&2){let i=e.$implicit;r(),c("amount",i.item.price)}}function xa(t,e){t&1&&(d(0,"th",25),u(1," Sell price"),m())}function va(t,e){if(t&1&&(d(0,"td",28),p(1,"app-money",29),m()),t&2){let i=e.$implicit;r(),c("amount",i.dropData[0]==null||i.dropData[0].item==null?null:i.dropData[0].item.sellPrice)}}function Ca(t,e){t&1&&p(0,"tr",30)}function ya(t,e){t&1&&p(0,"tr",31)}function wa(t,e){if(t&1&&(d(0,"table",0),g(1,1),s(2,ia,2,1,"td",2),x(),g(3,3),s(4,aa,2,1,"th",4)(5,na,2,1,"td",5),x(),g(6,6),s(7,oa,2,0,"th",7)(8,ra,2,2,"td",5),x(),g(9,8),s(10,da,2,0,"th",7)(11,ma,2,1,"td",5),x(),g(12,9),s(13,ca,2,0,"th",7)(14,pa,2,1,"td",10),x(),g(15,11),s(16,ua,2,0,"th",7)(17,ba,2,1,"td",10),x(),g(18,12),s(19,fa,2,0,"th",13)(20,_a,4,2,"td",5),x(),g(21,14),s(22,ha,2,0,"th",13)(23,ga,2,1,"td",15),x(),g(24,16),s(25,xa,2,0,"th",13)(26,va,2,1,"td",15),x(),s(27,Ca,1,0,"tr",17)(28,ya,1,0,"tr",18),m()),t&2){let i=l();c("dataSource",i.matDataSource),r(27),c("matHeaderRowDef",i.displayHeaderColumns)("matHeaderRowDefSticky",!0),r(),c("matRowDefColumns",i.displayedColumns)}}var bi=(()=>{let e=class e extends rt{constructor(){super(...arguments),this.BASE_DISPLAY_COLUMNS=["icon","displayName","growTime","regrow","season","size","seed","seedPrice","sellPrice"],this.sortingDataAccessor=(a,n)=>{let o=this.sortHelper(a.dropData[0].item,n);if(o!==null)return o;switch(n){case"key":return a[n];case"seed":return a.item.displayName;case"regrow":return a.isRegrowable?a.regrowableLength:-1;case"growTime":return a.growTime;case"seedPrice":return a.item.price;case"season":return this.sortHelper(a.growableSeason)??5;case"size":return a.size.length*a.size.width}return 0}}};e.\u0275fac=(()=>{let a;return function(o){return(a||(a=$(e)))(o||e)}})(),e.\u0275cmp=_({type:e,selectors:[["app-crop-table"]],features:[M],decls:2,vars:1,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","icon","sticky",""],["class","!pl-2 !pr-0  w-10 text-center icon-col ","mat-cell","",4,"matCellDef"],["matColumnDef","displayName"],["class","backdrop-blur-xl","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col whitespace-nowrap","mat-cell","",4,"matCellDef"],["matColumnDef","size"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","season"],["matColumnDef","regrow"],["class","text-col text-right whitespace-nowrap","mat-cell","",4,"matCellDef"],["matColumnDef","growTime"],["matColumnDef","seed"],["class","whitespace-nowrap","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","seedPrice"],["class","text-col !text-right w-[1%]","mat-cell","",4,"matCellDef"],["matColumnDef","sellPrice"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"!pl-2","!pr-0","w-10","text-center","icon-col"],[3,"itemName"],["mat-header-cell","","mat-sort-header","",1,"backdrop-blur-xl"],["mat-cell","",1,"text-col","whitespace-nowrap"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"text-col","text-right","whitespace-nowrap"],["mat-header-cell","","mat-sort-header","",1,"whitespace-nowrap"],[1,"flex","gap-x-3","items-center"],[1,"!w-7",3,"itemName"],["mat-cell","",1,"text-col","!text-right","w-[1%]"],[3,"amount"],["mat-header-row",""],["mat-row",""]],template:function(n,o){n&1&&(d(0,"app-responsive-table"),s(1,wa,29,4,"table",0),m()),n&2&&(r(),b(1,o.matDataSource?1:-1))},dependencies:[R,Ve,G,Y,W,K,Z,Q,tt,X,q,et,it,nt,ot,Ge],encapsulation:2});let t=e;return t})();function Da(t,e){if(t&1&&p(0,"app-produce-details",1),t&2){let i=l();c("item",i.selectedEntity)}}function Sa(t,e){if(t&1){let i=A();d(0,"app-item-icon",7),y("click",function(){let o=F(i).$implicit,f=l(4);return E(f.showDetails(o))}),v(1,"isMinimalItem"),v(2,"isMinimalItem"),v(3,"isMinimalItem"),m()}if(t&2){let i=e.$implicit,a=l(4);w("selected-icon",(C(1,3,a.selectedEntity)?a.selectedEntity.id:a.selectedEntity==null||a.selectedEntity.dropData==null||a.selectedEntity.dropData[0]==null||a.selectedEntity.dropData[0].item==null?null:a.selectedEntity.dropData[0].item.id)===(C(2,5,i)?i.id:i.dropData[0].item.id)),c("itemName",C(3,7,i)?i.iconName:i.dropData[0].item.iconName)}}function Ia(t,e){if(t&1&&(d(0,"div",6),D(1,Sa,4,9,"app-item-icon",8,T),m()),t&2){let i=l();r(),S(i)}}function Ma(t,e){if(t&1&&p(0,"app-non-specialized-table",9),t&2){let i=l(2),a=l(2);c("dataSource",a.castToItemArray(i))}}function ka(t,e){if(t&1&&p(0,"app-crop-table",9),t&2){let i=l(2),a=l(2);c("dataSource",a.castToBaseCropArray(i))}}function Fa(t,e){if(t&1&&s(0,Ma,1,1,"app-non-specialized-table",9)(1,ka,1,1,"app-crop-table",9),t&2){let i=l(2).$implicit,a=l();b(0,i.title!==a.tabs[0].title?0:-1),r(),b(1,i.title===a.tabs[0].title?1:-1)}}function Ea(t,e){if(t&1&&s(0,Ia,3,0,"div",5)(1,Fa,2,2),t&2){let i=l(2);b(0,i.showTable?-1:0),r(),b(1,i.showTable?1:-1)}}function Pa(t,e){if(t&1){let i=A();d(0,"mat-tab",3)(1,"app-data-filter",4),y("showTableChange",function(n){F(i);let o=l();return E(o.showTable=n)}),m(),s(2,Ea,2,2),v(3,"async"),m()}if(t&2){let i=e.$implicit,a=l(),n;c("label",i.title),r(),c("showTable",a.showTable)("parentFormGroup",a.formControl),r(),b(2,(n=C(3,4,i.data))?2:-1,n)}}var fi=(()=>{let e=class e extends yt{constructor(){super(new bt({season:new Mt(Object.values(ut),{nonNullable:!0})})),this.tabs=[{title:"Crops",data:gt([this._database.fetchCrops$(),this._database.fetchFruitTrees$(),this._database.fetchFruitPlants$()]).pipe(ie(([a,n,o])=>this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-crops"),this._database.fetchItems$().pipe(ie(f=>Et(f.map(h=>a.find(I=>I.pickupableItemId===h.id)??o.find(I=>I.dropData.some(dt=>dt.itemId===h.id))??n.find(I=>I.dropData.some(dt=>dt.itemId===h.id))).filter(Pe)))),0)))},{title:"Animal Products",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-animal-products"),this._database.fetchItems$(),1)},{title:"Artisan Products",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artisan-products"),this._database.fetchItems$(),2)}],this.activateTabFromRoute(this.tabs.map(a=>a.title))}filterPredicate(a,n,o){if(!("growableSeason"in a))return!0;if(!n.season?.length)return!1;let f=a.growableSeason.join(" ").toLowerCase();return n.season?.length===Object.values(ut).length||!!n.season?.some(I=>f.includes((""+I).toLowerCase()))}castToItemArray(a){return a}castToBaseCropArray(a){return a}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-produce"]],features:[M],decls:5,vars:3,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"item"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],[3,"label"],[3,"showTable","parentFormGroup","showTableChange"],["class","grid gap-4 icon-grid"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item",3,"itemName","click"],["class","icon-grid-item",3,"selected-icon","itemName"],[3,"dataSource"]],template:function(n,o){n&1&&(d(0,"app-list-detail-container",0),y("openDrawerChange",function(h){return o.openDrawer=h}),s(1,Da,1,1,"app-produce-details",1),d(2,"mat-tab-group",2),y("selectedTabChange",function(h){return o.updateUrl(h)}),D(3,Pa,4,6,"mat-tab",3,T),m()()),n&2&&(c("openDrawer",o.openDrawer),r(),b(1,o.selectedEntity?1:-1),r(),c("selectedIndex",o.selectedTabIndex),r(),S(o.tabs))},dependencies:[R,J,at,$t,ft,U,ui,bi,L,ai],encapsulation:2});let t=e;return t})();function Ra(t,e){if(t&1&&(d(0,"div",2),p(1,"app-item-icon",3),d(2,"div",4)(3,"div",5),u(4),m(),d(5,"div"),u(6),m()()()),t&2){let i=e.$implicit;r(),c("itemName",i.iconName),r(3),N(i.title),r(2),N(i.description)}}function Aa(t,e){t&1&&(d(0,"div",1),D(1,Ra,7,3,"div",6,T),m()),t&2&&(r(),S(e))}var _i=(()=>{let e=class e{constructor(){this._database=z(zt).fetchAchievements$()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-achievements"]],decls:2,vars:3,consts:[["class","grid gap-4 sm:grid-cols-2 2xl:grid-cols-3  xl:px-[50px] pt-2 pb-6 2xl:pt-[60px]"],[1,"grid","gap-4","sm:grid-cols-2","2xl:grid-cols-3","xl:px-[50px]","pt-2","pb-6","2xl:pt-[60px]"],[1,"flex","bg-white/30","rounded-[15px]","gap-x-4","p-2"],[1,"!w-14",3,"itemName"],[1,"flex","flex-col","text-black"],[1,"font-semibold","text-2xl"],["class","flex bg-white/30 rounded-[15px] gap-x-4 p-2"]],template:function(n,o){if(n&1&&(s(0,Aa,3,0,"div",0),v(1,"async")),n&2){let f;b(0,(f=C(1,1,o._database))?0:-1,f)}},dependencies:[R,L],encapsulation:2});let t=e;return t})();function Na(t,e){if(t&1&&p(0,"div",6),t&2){let i=l();c("innerHTML",i.mail.title,Dt)}}function Ba(t,e){if(t&1&&p(0,"span",7),t&2){let i=l();c("innerHTML",i.mail.greetCloseMessage,Dt)}}function za(t,e){if(t&1&&p(0,"span",8),t&2){let i=l();c("innerHTML",i.mail.sender,Dt)}}var wt=(()=>{let e=class e{ngOnChanges(a){a.mail&&(this.mail=this._parseTexts(a.mail.currentValue))}_parseTexts(a){let n=Ft({},a);return["title","sender","content","greetCloseMessage"].forEach(f=>{let h=n[f];if(h){h=h.replaceAll(/<PlayerName>\$player<\/>/gmi,'<span class="text-[#69ac52]">Player</span>');let I=f==="content"?'<span class="text-accent">$1</span>':"$1";h=h.replaceAll(/<NPCName>(.*?)<\/>/gmi,I),h=h.replaceAll(/<items>(.*?)<\/>/gmi,I),h=h.replaceAll(/<RickText.Place>(.*?)<\/>/gmi,I),h=h.replaceAll(/<Places>(.*?)<\/>/gmi,I),n[f]=h}}),n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-mail"]],inputs:{mail:"mail"},features:[Pt],decls:6,vars:4,consts:[[1,"font-semibold","font-coral"],["class","text-2xl mb-4 text-black",3,"innerHTML"],[1,"mb-4","whitespace-break-spaces",3,"innerHTML"],[1,"mt-4","flex","flex-col","items-end"],["class","text-accent",3,"innerHTML"],["class","text-black",3,"innerHTML"],[1,"text-2xl","mb-4","text-black",3,"innerHTML"],[1,"text-accent",3,"innerHTML"],[1,"text-black",3,"innerHTML"]],template:function(n,o){n&1&&(d(0,"div",0),s(1,Na,1,1,"div",1),p(2,"div",2),d(3,"div",3),s(4,Ba,1,1,"span",4)(5,za,1,1,"span",5),m()()),n&2&&(r(),b(1,o.mail.title?1:-1),r(),c("innerHTML",o.mail.content,Dt),r(2),b(4,o.mail.greetCloseMessage?4:-1),r(),b(5,o.mail.sender?5:-1))},styles:["[_nghost-%COMP%]{display:block}"]});let t=e;return t})();function $a(t,e){if(t&1&&p(0,"app-effect",4),t&2){let i=e.$implicit;c("effect",i)}}function Ha(t,e){if(t&1&&(d(0,"div",2)(1,"div",3),u(2,"Effects:"),m(),D(3,$a,1,1,"app-effect",4,T),m()),t&2){let i=l();r(3),S(i.mail.effects)}}var gi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-mail-details"]],inputs:{mail:"mail"},decls:3,vars:2,consts:[[3,"mail"],["class","mt-6"],[1,"mt-6"],[1,"text-lg","font-semibold"],[3,"effect"]],template:function(n,o){n&1&&(d(0,"app-card"),p(1,"app-mail",0),s(2,Ha,5,0,"div",1),m()),n&2&&(r(),c("mail",o.mail),r(),b(2,o.mail.effects!=null&&o.mail.effects.length?2:-1))},dependencies:[vt,Lt,wt],encapsulation:2});let t=e;return t})();var Oa=["mat-button",""],Va=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ja=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Ua=new be("MAT_BUTTON_CONFIG");var Ga=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ya=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(a){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,a)}get disableRipple(){return this._disableRipple}set disableRipple(a){this._disableRipple=a,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(a){this._disabled=a,this._updateRippleDisabled()}constructor(a,n,o,f){this._elementRef=a,this._platform=n,this._ngZone=o,this._animationMode=f,this._focusMonitor=z(Ne),this._rippleLoader=z(ze),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let h=z(Ua,{optional:!0}),I=a.nativeElement,dt=I.classList;this.disabledInteractive=h?.disabledInteractive??!1,this._rippleLoader?.configureRipple(I,{className:"mat-mdc-button-ripple"});for(let{attribute:B,mdcClasses:V}of Ga)I.hasAttribute(B)&&dt.add(...V)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(a="program",n){a?this._focusMonitor.focusVia(this._elementRef.nativeElement,a,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(n){ge()},e.\u0275dir=ae({type:e,inputs:{color:"color",disableRipple:[Tt.HasDecoratorInputTransform,"disableRipple","disableRipple",It],disabled:[Tt.HasDecoratorInputTransform,"disabled","disabled",It],ariaDisabled:[Tt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",It],disabledInteractive:[Tt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",It]},features:[Ce]});let t=e;return t})();var te=(()=>{let e=class e extends Ya{constructor(a,n,o,f){super(a,n,o,f)}};e.\u0275fac=function(n){return new(n||e)(pt(he),pt(Re),pt(ve),pt(fe,8))},e.\u0275cmp=_({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(H("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),ye(o.color?"mat-"+o.color:""),w("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[M,oe],attrs:Oa,ngContentSelectors:Ja,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(ne(Va),p(0,"span",0),St(1),d(2,"span",1),St(3,1),m(),St(4,2),p(5,"span",2)(6,"span",3)),n&2&&w("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var xi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=st({type:e}),e.\u0275inj=lt({imports:[xt,Be,xt]});let t=e;return t})();function Qa(t,e){t&1&&(d(0,"th",17),u(1," Title"),m())}function Wa(t,e){if(t&1&&(d(0,"td",18),u(1),v(2,"removeTags"),m()),t&2){let i=e.$implicit;r(),P("",C(2,1,i.title)," ")}}function Za(t,e){t&1&&(d(0,"th",17),u(1," Sender"),m())}function Xa(t,e){if(t&1&&(d(0,"td",18),u(1),v(2,"removeTags"),m()),t&2){let i=e.$implicit;r(),P("",C(2,1,i.sender)," ")}}function qa(t,e){t&1&&(d(0,"th",17),u(1,"Type"),m())}function Ka(t,e){if(t&1&&(d(0,"td",19),u(1),v(2,"addSpacesToPascalCase"),m()),t&2){let i=e.$implicit;r(),P("",C(2,1,i.mailType)," ")}}function tn(t,e){t&1&&(d(0,"th",20),u(1,"Effects"),m())}function en(t,e){if(t&1&&p(0,"app-effect",24),t&2){let i=e.$implicit;c("effect",i)}}function an(t,e){if(t&1&&(d(0,"div",23),D(1,en,1,1,"app-effect",25,T),m()),t&2){let i=l().$implicit;r(),S(i.effects)}}function nn(t,e){if(t&1&&(d(0,"td",21),s(1,an,3,0,"div",22),m()),t&2){let i=e.$implicit;r(),b(1,i.effects!=null&&i.effects.length?1:-1)}}function on(t,e){t&1&&p(0,"th",20)}function rn(t,e){if(t&1){let i=A();d(0,"td",26)(1,"button",27),y("click",function(){let o=F(i).$implicit,f=l(2);return E(f.expandedRows.toggle(o.key))}),p(2,"i",28),m()()}if(t&2){let i=e.$implicit,a=l(2);r(2),w("down",!a.expandedRows.isSelected(i.key))("up",a.expandedRows.isSelected(i.key))}}function dn(t,e){if(t&1&&(d(0,"td",21)(1,"div",29)(2,"div",30),p(3,"app-mail",31),m()()()),t&2){let i=e.$implicit,a=l(2);H("colspan",a.displayedColumns.length),r(),w("grid-rows-0fr",!a.expandedRows.isSelected(i.key))("grid-rows-1fr",a.expandedRows.isSelected(i.key)),r(2),c("mail",i)}}function mn(t,e){t&1&&p(0,"tr",32)}function cn(t,e){t&1&&p(0,"tr",33)}function ln(t,e){t&1&&p(0,"tr",34)}var sn=()=>["expandedDetail"];function pn(t,e){if(t&1&&(d(0,"table",1),g(1,2),s(2,Qa,2,0,"th",3)(3,Wa,3,3,"td",4),x(),g(4,5),s(5,Za,2,0,"th",3)(6,Xa,3,3,"td",4),x(),g(7,6),s(8,qa,2,0,"th",3)(9,Ka,3,3,"td",7),x(),g(10,8),s(11,tn,2,0,"th",9)(12,nn,2,1,"td",10),x(),g(13,11),s(14,on,1,0,"th",9)(15,rn,3,4,"td",12),x(),g(16,13),s(17,dn,4,6,"td",10),x(),s(18,mn,1,0,"tr",14)(19,cn,1,0,"tr",15)(20,ln,1,0,"tr",16),m()),t&2){let i=l();c("dataSource",i.matDataSource),r(18),c("matHeaderRowDef",i.displayHeaderColumns)("matHeaderRowDefSticky",!0),r(),c("matRowDefColumns",i.displayedColumns),r(),c("matRowDefColumns",At(5,sn))}}var Ci=(()=>{let e=class e extends rt{constructor(){super(...arguments),this.expandedRows=new jt(!0,[]),this.BASE_DISPLAY_COLUMNS=["title","sender","mailType","effects","expand"]}};e.\u0275fac=(()=>{let a;return function(o){return(a||(a=$(e)))(o||e)}})(),e.\u0275cmp=_({type:e,selectors:[["app-mail-table"]],features:[M],decls:2,vars:1,consts:[["class","can-expand","mat-table","","matSort","","multiTemplateDataRows","",3,"dataSource"],["mat-table","","matSort","","multiTemplateDataRows","",1,"can-expand",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col","mat-cell","",4,"matCellDef"],["matColumnDef","sender"],["matColumnDef","mailType"],["class","w-fit text-col","mat-cell","",4,"matCellDef"],["matColumnDef","effects"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expand"],["class","w-fit align-top !pt-2","mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","expand-row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"text-col"],["mat-cell","",1,"w-fit","text-col"],["mat-header-cell",""],["mat-cell",""],["class","flex flex-col py-3 gap-1"],[1,"flex","flex-col","py-3","gap-1"],[1,"whitespace-nowrap",3,"effect"],["class","whitespace-nowrap",3,"effect"],["mat-cell","",1,"w-fit","align-top","!pt-2"],["mat-button","",3,"click"],[1,"arrow"],[1,"expandable-body","grid","transition-all","duration-200","ease-in-out"],[1,"overflow-hidden"],[1,"py-4","max-w-prose",3,"mail"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"expand-row"]],template:function(n,o){n&1&&(d(0,"app-responsive-table"),s(1,pn,21,6,"table",0),m()),n&2&&(r(),b(1,o.matDataSource?1:-1))},dependencies:[G,Lt,Y,W,K,Z,Q,tt,X,q,et,it,nt,ot,te,wt,ni,Ue],styles:[".expand-row[_ngcontent-%COMP%]{--mat-table-row-item-container-height: 0;--mat-table-row-item-label-text-size: 16px}"]});let t=e;return t})();function bn(t,e){t&1&&(d(0,"th",13),u(1," Title"),m())}function fn(t,e){if(t&1&&(d(0,"td",14),u(1),m()),t&2){let i=e.$implicit;r(),P("",i.title," ")}}function _n(t,e){t&1&&p(0,"th",15)}function hn(t,e){if(t&1){let i=A();d(0,"td",16)(1,"button",17),y("click",function(){let o=F(i).$implicit,f=l(2);return E(f.expandedRows.toggle(o.key))}),p(2,"i",18),m()()}if(t&2){let i=e.$implicit,a=l(2);r(2),w("down",!a.expandedRows.isSelected(i.key))("up",a.expandedRows.isSelected(i.key))}}function gn(t,e){if(t&1&&(d(0,"td",19)(1,"div",20)(2,"div",21),p(3,"app-mail",22),m()()()),t&2){let i=e.$implicit,a=l(2);H("colspan",a.displayedColumns.length),r(),w("grid-rows-0fr",!a.expandedRows.isSelected(i.key))("grid-rows-1fr",a.expandedRows.isSelected(i.key)),r(2),c("mail",i)}}function xn(t,e){t&1&&p(0,"tr",23)}function vn(t,e){t&1&&p(0,"tr",24)}function Cn(t,e){t&1&&p(0,"tr",25)}var yn=()=>["expandedDetail"];function wn(t,e){if(t&1&&(d(0,"table",1),g(1,2),s(2,bn,2,0,"th",3)(3,fn,2,1,"td",4),x(),g(4,5),s(5,_n,1,0,"th",6)(6,hn,3,4,"td",7),x(),g(7,8),s(8,gn,4,6,"td",9),x(),s(9,xn,1,0,"tr",10)(10,vn,1,0,"tr",11)(11,Cn,1,0,"tr",12),m()),t&2){let i=l();c("dataSource",i.matDataSource),r(9),c("matHeaderRowDef",i.displayHeaderColumns)("matHeaderRowDefSticky",!0),r(),c("matRowDefColumns",i.displayedColumns),r(),c("matRowDefColumns",At(5,yn))}}var yi=(()=>{let e=class e extends rt{constructor(){super(...arguments),this.expandedRows=new jt(!0,[]),this.BASE_DISPLAY_COLUMNS=["title","expand"]}};e.\u0275fac=(()=>{let a;return function(o){return(a||(a=$(e)))(o||e)}})(),e.\u0275cmp=_({type:e,selectors:[["app-torn-pages-table"]],features:[M],decls:2,vars:1,consts:[["class","can-expand","mat-table","","matSort","","multiTemplateDataRows","",3,"dataSource"],["mat-table","","matSort","","multiTemplateDataRows","",1,"can-expand",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col","mat-cell","",4,"matCellDef"],["matColumnDef","expand"],["mat-header-cell","",4,"matHeaderCellDef"],["class","w-fit align-top !pt-2","mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","expand-row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"text-col"],["mat-header-cell",""],["mat-cell","",1,"w-fit","align-top","!pt-2"],["mat-button","",3,"click"],[1,"arrow"],["mat-cell",""],[1,"expandable-body","grid","transition-all","duration-200","ease-in-out"],[1,"overflow-hidden"],[1,"py-4","max-w-prose",3,"mail"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"expand-row"]],template:function(n,o){n&1&&(d(0,"app-responsive-table"),s(1,wn,12,6,"table",0),m()),n&2&&(r(),b(1,o.matDataSource?1:-1))},dependencies:[G,Y,W,K,Z,Q,tt,X,q,et,it,nt,ot,te,wt],styles:[".expand-row[_ngcontent-%COMP%]{--mat-table-row-item-container-height: 0;--mat-table-row-item-label-text-size: 16px}"]});let t=e;return t})();var wi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-torn-page"]],inputs:{tornPage:"tornPage"},decls:5,vars:2,consts:[[1,"font-semibold","font-coral"],[1,"text-2xl","mb-4","text-black"],[1,"mb-4","whitespace-break-spaces"]],template:function(n,o){n&1&&(d(0,"div",0)(1,"div",1),u(2),m(),d(3,"div",2),u(4),m()()),n&2&&(r(2),N(o.tornPage.title),r(2),N(o.tornPage.content))},encapsulation:2});let t=e;return t})();var Ti=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-torn-page-details"]],inputs:{tornPage:"tornPage"},decls:2,vars:1,consts:[[3,"tornPage"]],template:function(n,o){n&1&&(d(0,"app-card"),p(1,"app-torn-page",0),m()),n&2&&(r(),c("tornPage",o.tornPage))},dependencies:[vt,wi],encapsulation:2});let t=e;return t})();function In(t,e){if(t&1&&p(0,"app-mail-details",2),t&2){let i=l();c("mail",i.selectedEntity)}}function Mn(t,e){if(t&1&&p(0,"app-torn-page-details",3),t&2){let i=l();c("tornPage",i.selectedTornPage)}}function kn(t,e){if(t&1){let i=A();d(0,"app-item-icon",11),y("click",function(){let o=F(i).$implicit,f=l(3);return E(f.showDetails(o))}),m()}if(t&2){let i=e.$implicit,a=l(3);w("selected-icon",(a.selectedEntity==null?null:a.selectedEntity.key)===i.key)}}function Fn(t,e){if(t&1&&(d(0,"div",10),D(1,kn,1,2,"app-item-icon",12,T),m()),t&2){let i=l(2);r(),S(i.mails)}}function En(t,e){if(t&1&&p(0,"app-mail-table",9),t&2){let i=l(2);c("dataSource",i.mails)}}function Pn(t,e){if(t&1){let i=A();d(0,"app-item-icon",11),y("click",function(){let o=F(i).$implicit,f=l(3);return E(f.showTornPageDetails(o))}),m()}if(t&2){let i=e.$implicit,a=l(3);w("selected-icon",(a.selectedTornPage==null?null:a.selectedTornPage.key)===i.key)}}function Rn(t,e){if(t&1&&(d(0,"div",10),D(1,Pn,1,2,"app-item-icon",12,T),m()),t&2){let i=l(2);r(),S(i.tornPages)}}function An(t,e){if(t&1&&p(0,"app-torn-pages-table",9),t&2){let i=l(2);c("dataSource",i.tornPages)}}function Nn(t,e){if(t&1){let i=A();d(0,"mat-tab-group",5),y("selectedTabChange",function(n){F(i);let o=l();return E(o.updateUrl(n))}),d(1,"mat-tab",6)(2,"app-data-filter",7),y("showTableChange",function(n){F(i);let o=l();return E(o.showTable=n)}),m(),s(3,Fn,3,0,"div",8)(4,En,1,1,"app-mail-table",9),m(),d(5,"mat-tab",6)(6,"app-data-filter",7),y("showTableChange",function(n){F(i);let o=l();return E(o.showTornPagesTable=n)}),m(),s(7,Rn,3,0,"div",8)(8,An,1,1,"app-torn-pages-table",9),m()()}if(t&2){let i=l();c("selectedIndex",i.selectedTabIndex),r(),c("label",i.tabNames[0]),r(),c("showTable",i.showTable),r(),b(3,i.showTable?-1:3),r(),b(4,i.showTable?4:-1),r(),c("label",i.tabNames[1]),r(),c("showTable",i.showTornPagesTable),r(),b(7,i.showTornPagesTable?-1:7),r(),b(8,i.showTornPagesTable?8:-1)}}var Di=(()=>{let e=class e extends Ht{constructor(){super(),this.showTornPagesTable=!1,this.mails=[],this.tornPages=[],this.tabNames=["Letters","Torn pages"],this.data$=gt([this._database.fetchMailData$(),this._database.fetchTornPagesData$()]).pipe(ue(([a,n])=>{this.mails=a,this.tornPages=n;let o=this.selectedId;if(o){let f=this.mails.find(I=>I.key.toLowerCase()===o.toLowerCase());f&&this.showDetails(f);let h=this.tornPages.find(I=>I.key.toLowerCase()===o.toLowerCase());h&&this.showTornPageDetails(h)}this.activateTabFromRoute(this.tabNames)}))}showDetails(a){this.selectedTornPage=void 0,super.showDetails(a)}showTornPageDetails(a){this.selectedEntity=void 0,this.selectedTornPage=a,this.openDrawer=!0}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-notes"]],features:[M],decls:6,vars:6,consts:[[3,"openDrawer","openDrawerChange"],["listDetail",""],[3,"mail"],[3,"tornPage"],["class","px-2 xl:px-[50px] w-full","mat-stretch-tabs","false",3,"selectedIndex"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],[3,"label"],[3,"showTable","showTableChange"],["class","grid gap-4 icon-grid  mt-8"],[3,"dataSource"],[1,"grid","gap-4","icon-grid","mt-8"],["itemName","Torn_page",1,"icon-grid-item",3,"click"],["class","icon-grid-item","itemName","Torn_page",3,"selected-icon"]],template:function(n,o){n&1&&(d(0,"app-list-detail-container",0),y("openDrawerChange",function(h){return o.openDrawer=h}),g(1,1),s(2,In,1,1,"app-mail-details",2)(3,Mn,1,1,"app-torn-page-details",3),x(),s(4,Nn,9,9,"mat-tab-group",4),v(5,"async"),m()),n&2&&(c("openDrawer",o.openDrawer),r(2),b(2,o.selectedEntity?2:-1),r(),b(3,o.selectedTornPage?3:-1),r(),b(4,C(5,4,o.data$)?4:-1))},dependencies:[R,J,at,ft,U,gi,Ci,yi,Ti,L],encapsulation:2});let t=e;return t})();var Si=(()=>{let e=class e{constructor(){this.version=z(Fe).getSettings().useBeta?"beta":"live",this._setClass=!0}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-bestiary-image"]],hostVars:2,hostBindings:function(n,o){n&2&&w("bestiary-image",o._setClass)},inputs:{imageName:"imageName"},decls:1,vars:2,consts:[["alt","","loading","lazy","onerror","this.onerror=null;this.src='assets/ui/images/placeholder.png'",1,"w-full","h-auto",3,"src"]],template:function(n,o){n&1&&p(0,"img",0),n&2&&Te("src","assets/",o.version,"/items/icons/",o.imageName,".webp",_e)},encapsulation:2});let t=e;return t})();function zn(t,e){if(t&1&&p(0,"app-item-icon",1),t&2){let i=l();we("itemName",i.enemy.iconName)}}function jn(t,e){if(t&1&&p(0,"app-bestiary-image",2),t&2){let i=l();c("imageName",i.enemy.image)}}function $n(t,e){if(t&1&&(d(0,"span",10),u(1),m()),t&2){let i=l();r(),N(i.enemy.description)}}var Ii=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-bestiary-details"]],inputs:{enemy:"enemy"},decls:15,vars:6,consts:[[1,"text-lg","font-semibold","relative"],["cardIcon","",3,"itemName"],[3,"imageName"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col"],[1,"text-black","text-2xl"],[1,"my-5"],["class","text-lg mb-6"],[1,"text-black"],[1,"block","my-2",3,"chances"],[1,"text-lg","mb-6"]],template:function(n,o){n&1&&(d(0,"app-card",0),s(1,zn,1,1,"app-item-icon",1)(2,jn,1,1,"app-bestiary-image",2),d(3,"div",3)(4,"div",4)(5,"div",5),u(6),m()()(),p(7,"hr",6),s(8,$n,2,1,"span",7),d(9,"div"),u(10," Experience: "),d(11,"span",8),u(12),m()(),u(13," Drops: "),p(14,"app-chance-per-item-list",9),m()),n&2&&(r(),b(1,o.enemy.image?-1:1),r(),b(2,o.enemy.image?2:-1),r(4),N(o.enemy.displayName),r(2),b(8,o.enemy.description?8:-1),r(4),N(o.enemy.experience),r(2),c("chances",o.enemy.dropRates))},dependencies:[R,vt,oi,Si],styles:[".bestiary-image[_ngcontent-%COMP%]{border-top-left-radius:30px;border-top-right-radius:30px;overflow:hidden;margin:-20px -20px .5rem}@media (min-width: 1280px){.bestiary-image[_ngcontent-%COMP%]{margin:-36px -36px .5rem}}"]});let t=e;return t})();function Ln(t,e){if(t&1&&(d(0,"td",11),p(1,"app-item-icon",12),m()),t&2){let i=e.$implicit;r(),c("itemName",i.iconName)}}function On(t,e){t&1&&(d(0,"th",13),u(1,"Item "),m()),t&2&&H("colspan",2)}function Vn(t,e){if(t&1&&(d(0,"td",14),u(1),m()),t&2){let i=e.$implicit;r(),P(" ",i.displayName," ")}}function Jn(t,e){t&1&&(d(0,"th",15),u(1,"Drops"),m())}function Un(t,e){if(t&1&&(d(0,"td",14),p(1,"app-chance-per-item-table-list",16),m()),t&2){let i=e.$implicit;r(),c("chances",i.dropRates)}}function Gn(t,e){t&1&&(d(0,"th",13),u(1,"Exp"),m())}function Yn(t,e){if(t&1&&(d(0,"td",14),u(1),m()),t&2){let i=e.$implicit;r(),P(" ",i.experience," ")}}function Qn(t,e){t&1&&p(0,"tr",17)}function Wn(t,e){t&1&&p(0,"tr",18)}function Zn(t,e){if(t&1&&(d(0,"table",0),g(1,1),s(2,Ln,2,1,"td",2),x(),g(3,3),s(4,On,2,1,"th",4)(5,Vn,2,1,"td",5),x(),g(6,6),s(7,Jn,2,0,"th",7)(8,Un,2,1,"td",5),x(),g(9,8),s(10,Gn,2,0,"th",4)(11,Yn,2,1,"td",5),x(),s(12,Qn,1,0,"tr",9)(13,Wn,1,0,"tr",10),m()),t&2){let i=l();c("dataSource",i.matDataSource),r(12),c("matHeaderRowDef",i.displayHeaderColumns)("matHeaderRowDefSticky",!0),r(),c("matRowDefColumns",i.displayedColumns)}}var Mi=(()=>{let e=class e extends rt{constructor(){super(...arguments),this.BASE_DISPLAY_COLUMNS=["icon","displayName","experience","dropRates"]}};e.\u0275fac=(()=>{let a;return function(o){return(a||(a=$(e)))(o||e)}})(),e.\u0275cmp=_({type:e,selectors:[["app-bestiary-table"]],features:[M],decls:2,vars:1,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","icon","sticky",""],["class","!pl-2 !pr-0 w-10 text-center icon-col ","mat-cell","",4,"matCellDef"],["matColumnDef","displayName"],["class","backdrop-blur-xl","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col whitespace-nowrap","mat-cell","",4,"matCellDef"],["matColumnDef","dropRates"],["class","backdrop-blur-xl","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","experience"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"!pl-2","!pr-0","w-10","text-center","icon-col"],[3,"itemName"],["mat-header-cell","","mat-sort-header","",1,"backdrop-blur-xl"],["mat-cell","",1,"text-col","whitespace-nowrap"],["mat-header-cell","",1,"backdrop-blur-xl"],[3,"chances"],["mat-header-row",""],["mat-row",""]],template:function(n,o){n&1&&(d(0,"app-responsive-table"),s(1,Zn,14,4,"table",0),m()),n&2&&(r(),b(1,o.matDataSource?1:-1))},dependencies:[R,G,ri,Y,W,K,Z,Q,tt,X,q,et,it,nt,ot],encapsulation:2});let t=e;return t})();function qn(t,e){if(t&1&&p(0,"app-bestiary-details",1),t&2){let i=l();c("enemy",i.selectedEntity)}}function Kn(t,e){if(t&1){let i=A();d(0,"app-item-icon",7),y("click",function(){let o=F(i).$implicit,f=l(3);return E(f.showDetails(o))}),m()}if(t&2){let i=e.$implicit,a=l(3);w("selected-icon",(a.selectedEntity==null?null:a.selectedEntity.key)===i.key),c("itemName",i.iconName)}}function to(t,e){if(t&1&&(d(0,"div",6),D(1,Kn,1,3,"app-item-icon",8,T),m()),t&2){let i=l();r(),S(i)}}function eo(t,e){if(t&1&&p(0,"app-bestiary-table",5),t&2){let i=l();c("dataSource",i)}}function io(t,e){if(t&1&&s(0,to,3,0,"div",4)(1,eo,1,1,"app-bestiary-table",5),t&2){let i=l();b(0,i.showTable?-1:0),r(),b(1,i.showTable?1:-1)}}var ki=(()=>{let e=class e extends ei{constructor(){super(...arguments),this.bestiary$=z(zt).fetchBestiary$()}};e.\u0275fac=(()=>{let a;return function(o){return(a||(a=$(e)))(o||e)}})(),e.\u0275cmp=_({type:e,selectors:[["app-bestiary"]],features:[M],decls:6,vars:6,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"enemy"],[1,"px-2","xl:px-[50px]","w-full","max-w-full-safe"],[3,"showTable","showTableChange"],["class","grid gap-4 icon-grid"],[3,"dataSource"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item",3,"itemName","click"],["class","icon-grid-item",3,"selected-icon","itemName"]],template:function(n,o){if(n&1&&(d(0,"app-list-detail-container",0),y("openDrawerChange",function(h){return o.openDrawer=h}),s(1,qn,1,1,"app-bestiary-details",1),d(2,"div",2)(3,"app-data-filter",3),y("showTableChange",function(h){return o.showTable=h}),m(),s(4,io,2,2),v(5,"async"),m()()),n&2){let f;c("openDrawer",o.openDrawer),r(),b(1,o.selectedEntity?1:-1),r(2),c("showTable",o.showTable),r(),b(4,(f=C(5,4,o.bestiary$))?4:-1,f)}},dependencies:[R,J,at,Ii,Mi,L],encapsulation:2});let t=e;return t})();var ao=[{path:"",pathMatch:"full",redirectTo:"produce"},{path:"",component:ci,children:[{path:"caught",redirectTo:"caught/",pathMatch:"full"},{path:"caught/:tabName",component:Qt,title:"Caught - Journal"},{path:"found",redirectTo:"found/",pathMatch:"full"},{path:"found/:tabName",component:pi,title:"Found - Journal"},{path:"produce",redirectTo:"produce/",pathMatch:"full"},{path:"produce/:tabName",component:fi,title:"Produce - Journal"},{path:"bestiary",component:ki,title:"Bestiary - Journal"},{path:"notes",redirectTo:"notes/",pathMatch:"full"},{path:"notes/:tabName",component:Di,title:"Notes - Journal"},{path:"achievements",redirectTo:"achievements/",pathMatch:"full"},{path:"achievements/:achievementId",component:_i,title:"Achievements - Journal"}]}],Fi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=st({type:e}),e.\u0275inj=lt({imports:[de.forChild(ao),de]});let t=e;return t})();function no(t,e){if(t&1&&p(0,"app-fish",2),t&2){let i=l().$implicit;c("fish",i.fish)}}function oo(t,e){if(t&1&&p(0,"app-insect",3),t&2){let i=l().$implicit;c("critter",i.insect)}}function ro(t,e){if(t&1&&p(0,"app-insect",3),t&2){let i=l().$implicit;c("critter",i.oceanCritter)}}function mo(t,e){if(t&1&&s(0,no,1,1,"app-fish",2)(1,oo,1,1)(2,ro,1,1),t&2){let i=e.$implicit;b(0,i.fish?0:i.insect?1:i.oceanCritter?2:-1)}}var Ei=(()=>{let e=class e{ngOnInit(){this._setCategory()}ngOnChanges(a){a.critter&&this._setCategory()}_setCategory(){this.toDoCategory="fishName"in this.critter?O.JOURNAL_FISH:this.critter.item.inventoryCategory.toLocaleLowerCase()==="bug"?O.JOURNAL_INSECTS:O.JOURNAL_CRITTER}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-caught-details"]],inputs:{critter:"critter",registerToToDo:"registerToToDo"},features:[Pt],decls:2,vars:1,consts:[[3,"itemId"],["appDatabaseItemDetails",""],[3,"fish"],[3,"critter"]],template:function(n,o){n&1&&(d(0,"app-database-item-details",0),s(1,mo,3,1,"ng-template",1),m()),n&2&&c("itemId",o.critter.item.id)},dependencies:[_t,Gt,Yt,Ct],encapsulation:2});let t=e;return t})();var Pi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=st({type:e}),e.\u0275inj=lt({imports:[xt,Nt,xt]});let t=e;return t})();var Ri=new Map([["Common",10],["Uncommon",20],["Rare",30],["Super Rare",40],["SuperRare",40],["Legendary",50]]),Ai=new Map([["Small",10],["Medium",20],["Large",30],["Gigantic",40]]);function co(t,e){if(t&1&&(d(0,"td",15),p(1,"app-item-icon",16),m()),t&2){let i=e.$implicit;r(),c("itemName",i.item.iconName)}}function lo(t,e){t&1&&(d(0,"th",17),u(1," Name"),m()),t&2&&H("colspan",2)}function so(t,e){if(t&1&&(d(0,"td",18),u(1),m()),t&2){let i=e.$implicit;r(),N(i.item.displayName)}}function po(t,e){t&1&&(d(0,"th",17),u(1," Rarity"),m())}function uo(t,e){if(t&1&&(d(0,"td",18),u(1),m()),t&2){let i=e.$implicit,a=l(2);r(),N(a.addSpacesToPascalCase(i.rarity))}}function bo(t,e){t&1&&(d(0,"th",19),u(1," Location"),m())}function fo(t,e){if(t&1&&(d(0,"td",18),u(1),v(2,"isFish"),m()),t&2){let i=e.$implicit;r(),P("",(C(2,1,i)?i.spawnSettings[0]:i).spawnLocation.join(", ")," ")}}function _o(t,e){t&1&&(d(0,"th",17),u(1," Weather"),m())}function ho(t,e){if(t&1&&(d(0,"td",18),u(1),v(2,"isFish"),m()),t&2){let i=e.$implicit,a=l(2);r(),P("",a.getTruthyValues((C(2,1,i)?i.spawnSettings[0]:i).spawnWeather)," ")}}function go(t,e){t&1&&(d(0,"th",19),u(1," Season"),m())}function xo(t,e){if(t&1&&(u(0),v(1,"isFish")),t&2){let i=l().$implicit,a=l(2);P(" ",a.getTruthyValues((C(1,1,i)?i.spawnSettings[0]:i).spawnSeason)," ")}}function vo(t,e){if(t&1&&(d(0,"div",20),u(1),m()),t&2){let i=e.$implicit,a=e.$index,n=e.$count;r(),Rt("",i,"",a!==n-1?", ":""," ")}}function Co(t,e){if(t&1&&(D(0,vo,2,2,"div",21,T),v(2,"isFish")),t&2){let i=l().$implicit,a=l(2);S(a.dateRangesToString((C(2,0,i)?i.spawnSettings[0]:i).dateRangeList))}}function yo(t,e){if(t&1&&(d(0,"td",18),s(1,xo,2,3),v(2,"isFish"),s(3,Co,3,2),v(4,"isFish"),m()),t&2){let i=e.$implicit;r(),b(1,(C(2,2,i)?i.spawnSettings[0]:i).isUsingSpecificDate?-1:1),r(2),b(3,(C(4,4,i)?i.spawnSettings[0]:i).isUsingSpecificDate?3:-1)}}function wo(t,e){t&1&&(d(0,"th",17),u(1," Time"),m())}function To(t,e){if(t&1&&(d(0,"td",18),u(1),v(2,"isFish"),m()),t&2){let i=e.$implicit,a=l(2);r(),P("",a.getTruthyValues((C(2,1,i)?i.spawnSettings[0]:i).spawnTime)," ")}}function Do(t,e){t&1&&(d(0,"th",17),u(1," Size"),m())}function So(t,e){if(t&1&&(d(0,"td",18),u(1),m()),t&2){let i=e.$implicit;r(),N(i.fishSize)}}function Io(t,e){t&1&&p(0,"tr",22)}function Mo(t,e){t&1&&p(0,"tr",23)}function ko(t,e){if(t&1&&(d(0,"table",0),g(1,1),s(2,co,2,1,"td",2),x(),g(3,3),s(4,lo,2,1,"th",4)(5,so,2,1,"td",5),x(),g(6,6),s(7,po,2,0,"th",4)(8,uo,2,1,"td",5),x(),g(9,7),s(10,bo,2,0,"th",8)(11,fo,3,3,"td",5),x(),g(12,9),s(13,_o,2,0,"th",4)(14,ho,3,3,"td",5),x(),g(15,10),s(16,go,2,0,"th",8)(17,yo,5,6,"td",5),x(),g(18,11),s(19,wo,2,0,"th",4)(20,To,3,3,"td",5),x(),g(21,12),s(22,Do,2,0,"th",4)(23,So,2,1,"td",5),x(),s(24,Io,1,0,"tr",13)(25,Mo,1,0,"tr",14),m()),t&2){let i=l();c("dataSource",i.matDataSource),r(24),c("matHeaderRowDef",i.displayHeaderColumns)("matHeaderRowDefSticky",!0),r(),c("matRowDefColumns",i.displayedColumns)}}var Ni=(()=>{let e=class e extends rt{constructor(){super(...arguments),this.getTruthyValues=ht,this.addSpacesToPascalCase=Ee,this.BASE_DISPLAY_COLUMNS=["icon","key","rarity","weather","season","time","location"],this.sortingDataAccessor=(a,n)=>{switch(n){case"rarity":return Ri.get(a[n])??0;case"key":return a[n];case"time":{let o=this._isFish(a)?a.spawnSettings[0].spawnTime:a.spawnTime;return ht(o)==="Any"?1:o.morning?10:o.afternoon?20:o.evening?30:o.night?40:0}case"weather":{let o=this._isFish(a)?a.spawnSettings[0].spawnWeather:a.spawnWeather;return ht(o)==="Any"?1:o.sunny?10:o.rain?20:o.snow?30:o.blizzard?40:o.windy?50:o.storm?60:0}}if(this._isFish(a))switch(n){case"fishSize":return Ai.get(a.fishSize)??0;default:}return 0}}static _isFishArray(a){return!!a?.[0]&&"fishName"in a[0]}dateRangesToString(a){return a.map(n=>`From ${n.startsFrom.season} ${n.startsFrom.day} to ${n.lastsTill.season} ${n.lastsTill.day}`)}setupDataSource(a){let n=a;e._isFishArray(a)&&(n=a.map(o=>o.spawnSettings.map(f=>le(Ft({},o),{spawnSettings:[f]}))).flat()),super.setupDataSource(n),e._isFishArray(this.dataSource)&&(this.displayedColumns.splice(3,0,"fishSize"),this.displayHeaderColumns.splice(2,0,"fishSize"))}_isFish(a){return!!a&&"fishName"in a}};e.\u0275fac=(()=>{let a;return function(o){return(a||(a=$(e)))(o||e)}})(),e.\u0275cmp=_({type:e,selectors:[["app-caught-table"]],features:[M],decls:2,vars:1,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","icon","sticky",""],["mat-cell","","class","!px-2 ",4,"matCellDef"],["matColumnDef","key"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rarity"],["matColumnDef","location"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","weather"],["matColumnDef","season"],["matColumnDef","time"],["matColumnDef","fishSize"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"!px-2"],[1,"mx-2",3,"itemName"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"whitespace-nowrap"],["class","whitespace-nowrap"],["mat-header-row",""],["mat-row",""]],template:function(n,o){n&1&&(d(0,"app-responsive-table"),s(1,ko,26,4,"table",0),m()),n&2&&(r(),b(1,o.matDataSource?1:-1))},dependencies:[R,G,Y,W,K,Z,Q,tt,X,q,et,it,nt,ot,ii],encapsulation:2});let t=e;return t})();var Jm=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=st({type:e}),e.\u0275inj=lt({imports:[Nt,Fi,di,Xe,Pi,Ze,qe,Ke,Ye,Qe,je,mi,xi,Je,_t,Gt,Yt,Ot,Vt,Jt,Ut]});let t=e;return t})();Me(Qt,[R,J,at,ft,U,Ei,Ni],[L]);export{bi as a,te as b,xi as c,Mi as d,Ni as e,Jm as f};
