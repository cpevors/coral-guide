import{a as P}from"./chunk-JEJZD6V6.js";import{a as E,b as I,c as R,d as v,e as M,f as H,g as A,h as q,i as L,j as N,k as $,l as k,m as F,n as B,o as G}from"./chunk-H3WVOQZP.js";import{b as O}from"./chunk-EV4S2XUE.js";import{Ba as w,Ib as S,Jb as f,Pb as C,Tc as D,Ub as n,Vb as a,Vc as y,Wb as d,Xb as p,Yb as c,bc as u,db as l,qa as x,sb as T,sc as r,uc as _,wb as g,zb as m}from"./chunk-J7WD3OMO.js";import{a as h,b}from"./chunk-4CLCTAJ7.js";function U(e,i){if(e&1&&(n(0,"td",17),d(1,"app-item-icon",18),a()),e&2){let t=i.$implicit;l(),f("itemName",t.offerings[0].imageName)}}function Y(e,i){e&1&&(n(0,"th",19),r(1," Offering "),a()),e&2&&S("colspan",2)}function j(e,i){if(e&1&&(n(0,"td",20),r(1),a()),e&2){let t=i.$implicit;l(),_(" ",t.offerings[0].title," ")}}function z(e,i){e&1&&(n(0,"th",19),r(1,"Altar"),a())}function J(e,i){if(e&1&&(n(0,"td",20),r(1),a()),e&2){let t=i.$implicit;l(),_(" ",t.offeringGroupTitle," ")}}function K(e,i){e&1&&(n(0,"th",21),r(1," Number of required Items"),a())}function Q(e,i){if(e&1&&(n(0,"td",22),r(1),a()),e&2){let t=i.$implicit;l(),_("",t.offerings[0].numOfItemRequired===-1?"All":t.offerings[0].numOfItemRequired," ")}}function V(e,i){e&1&&(n(0,"th",23),r(1," Required Items"),a())}function W(e,i){if(e&1&&(n(0,"td",24),d(1,"app-table-item-list",25),a()),e&2){let t=i.$implicit;l(),f("itemList",t.offerings[0].requiredItems)}}function X(e,i){e&1&&(n(0,"th",23),r(1," Rewards"),a())}function Z(e,i){if(e&1&&(n(0,"span",27),r(1," Recipes"),a(),d(2,"app-table-item-list",25)),e&2){let t=u().$implicit;l(2),f("itemList",t.offerings[0].rewards.recipes)}}function ee(e,i){if(e&1&&(n(0,"td",26),d(1,"app-table-item-list",25),m(2,Z,3,1),a()),e&2){let t=i.$implicit;l(),f("itemList",t.offerings[0].rewards.items),l(),C(t.offerings[0].rewards.recipes.length?2:-1)}}function te(e,i){e&1&&d(0,"tr",28)}function ie(e,i){e&1&&d(0,"tr",29)}function ne(e,i){if(e&1&&(n(0,"table",0),p(1,1),m(2,U,2,1,"td",2),c(),p(3,3),m(4,Y,2,1,"th",4)(5,j,2,1,"td",5),c(),p(6,6),m(7,z,2,0,"th",4)(8,J,2,1,"td",5),c(),p(9,7),m(10,K,2,0,"th",8)(11,Q,2,1,"td",9),c(),p(12,10),m(13,V,2,0,"th",11)(14,W,2,1,"td",12),c(),p(15,13),m(16,X,2,0,"th",11)(17,ee,3,2,"td",14),c(),m(18,te,1,0,"tr",15)(19,ie,1,0,"tr",16),a()),e&2){let t=u();f("dataSource",t.matDataSource),l(18),f("matHeaderRowDef",t.displayHeaderColumns)("matHeaderRowDefSticky",!0),l(),f("matRowDefColumns",t.displayedColumns)}}var _e=(()=>{class e extends B{constructor(){super(...arguments),this.showAltar=w(!1,{transform:D}),this._dataSource=y(()=>{let t=[];return this.dataSource().forEach(o=>{o.offerings.forEach(s=>{t.push(b(h({},o),{offerings:[s]}))})}),t}),this.BASE_DISPLAY_COLUMNS=["icon","displayName","numOfItemRequired","requiredItems","rewards"]}setupDataSource(t){super.setupDataSource(t);let o=this.displayedColumns.indexOf("altar");this.showAltar()&&o===-1?(this.displayedColumns.splice(2,0,"altar"),this.displayHeaderColumns=this.displayedColumns.filter(s=>s!=="icon")):!this.showAltar()&&o!==-1&&(this.displayedColumns.splice(o,1),this.displayHeaderColumns=this.displayedColumns.filter(s=>s!=="icon"))}static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=x(e)))(s||e)}})()}static{this.\u0275cmp=T({type:e,selectors:[["app-offerings-table"]],inputs:{showAltar:[1,"showAltar"]},features:[g],decls:2,vars:1,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","icon","sticky",""],["class","!pl-2 !pr-0 w-10 text-center icon-col ","mat-cell","",4,"matCellDef"],["matColumnDef","displayName"],["class","backdrop-blur-xl","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col whitespace-nowrap","mat-cell","",4,"matCellDef"],["matColumnDef","altar"],["matColumnDef","numOfItemRequired"],["class","whitespace-nowrap","mat-header-cell","",4,"matHeaderCellDef"],["class","text-col !text-right w-[1%]","mat-cell","",4,"matCellDef"],["matColumnDef","requiredItems"],["mat-header-cell","",4,"matHeaderCellDef"],["class","list-col","mat-cell","",4,"matCellDef"],["matColumnDef","rewards"],["class","list-col w-[1%]","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"!pl-2","!pr-0","w-10","text-center","icon-col"],[3,"itemName"],["mat-header-cell","","mat-sort-header","",1,"backdrop-blur-xl"],["mat-cell","",1,"text-col","whitespace-nowrap"],["mat-header-cell","",1,"whitespace-nowrap"],["mat-cell","",1,"text-col","!text-right","w-[1%]"],["mat-header-cell",""],["mat-cell","",1,"list-col"],[1,"mb-3",3,"itemList"],["mat-cell","",1,"list-col","w-[1%]"],[1,"text-black","font-semibold","mt-2"],["mat-header-row",""],["mat-row",""]],template:function(o,s){o&1&&(n(0,"app-responsive-table"),m(1,ne,20,4,"table",0),a()),o&2&&(l(),C(s.matDataSource?1:-1))},dependencies:[G,$,E,R,A,v,I,q,M,H,L,N,O,P,F,k],encapsulation:2})}}return e})();export{_e as a};
