import{c as $}from"./chunk-NRMPYCZJ.js";import{a as z}from"./chunk-HXFFMZVC.js";import{a as H,b as J,c as W,d as X,e as Y,g as Z,h as tt}from"./chunk-J3AOBVKI.js";import{b as U}from"./chunk-QQ6QL743.js";import{W as K,d as T}from"./chunk-IYHG6KR3.js";import{n as j}from"./chunk-UGZM4TBL.js";import{a as V}from"./chunk-BLXOHTRX.js";import{Ac as G,Db as p,Fa as u,K as k,Lc as h,Nb as l,Nc as y,Oc as v,Tb as c,Yb as s,Yc as N,Zb as r,_b as m,ad as x,bc as M,bd as w,fc as P,gb as n,hc as d,ia as C,jb as b,kc as Q,ob as I,od as L,qb as q,rd as B,tc as A,vc as O,vd as R,wb as F,yb as E,yc as _,zc as D}from"./chunk-ZXANYF3K.js";var it=t=>["/database",t],nt=t=>({$implicit:t});function at(t,a){t&1&&m(0,"mat-spinner",5)}function ot(t,a){if(t&1&&(p(0,at,1,0,"mat-spinner",5),m(1,"app-to-do-toggle",6)),t&2){let e=d();c(e.isFetching()?0:-1),n(),l("item",a.item)("context",e.context())("amount",e.amount())("quality",e.quality())}}function mt(t,a){if(t&1&&m(0,"app-item-icon",4),t&2){let e=d();Q("itemName",a.item.iconName),l("amount",e.amount())}}function lt(t,a){t&1&&M(0)}function st(t,a){if(t&1&&m(0,"app-quality-grid",17),t&2){let e=d();l("item",e.item)}}function rt(t,a){if(t&1&&(s(0,"div",18),_(1," Sells for: "),m(2,"app-money",19),r()),t&2){let e=d();n(2),l("amount",e.item.sellPrice)}}function pt(t,a){if(t&1&&(s(0,"div",7)(1,"div",8)(2,"div",9),_(3),r(),s(4,"span",10),_(5),y(6,"addSpacesToPascalCase"),r()(),s(7,"span",11)(8,"a",12),m(9,"app-ui-icon",13),r()()(),m(10,"hr",14),s(11,"span",15),_(12),r(),p(13,lt,1,0,"ng-container",16)(14,st,1,1,"app-quality-grid",17),y(15,"keyvalue"),p(16,rt,3,1,"div",18)),t&2){let e,i=a,o=d();n(3),D(i.item.displayName),n(2),G(" ",v(6,8,i.item.displayKey),""),n(3),l("routerLink",h(12,it,i.item.id)),n(),l("uiIcon",o.uiIcon.DATABASE),n(3),D(i.item.description),n(),l("ngTemplateOutlet",(e=o.databaseItemDetails())!==null&&e!==void 0?e:null)("ngTemplateOutletContext",h(14,nt,i)),n(),c(v(15,10,i.item.qualities).length&&!o.hideQualityGrid()?14:16)}}function ct(t,a){t&1&&m(0,"mat-spinner",20)}function dt(t,a){if(t&1&&p(0,ct,1,0,"mat-spinner",20),t&2){let e=d();c(e.isFetching()?0:-1)}}var Pt=(()=>{class t{#t;constructor(){this.itemId=u.required(),this.hideQualityGrid=u(!1,{transform:N}),this.context=u(),this.amount=u(),this.quality=u(),this.databaseItemDetails=q(b),this.databaseItem=I(void 0),this.isFetching=I(!1),this.UiIcon=T,this.uiIcon=T,this.listDetails=C(z),this.database=C(U),w(()=>{this.#t=setTimeout(()=>x(()=>this.isFetching.set(!0)),150),this.database.fetchDatabaseItem$(this.itemId()).pipe(k(1)).subscribe({next:e=>{x(()=>{clearTimeout(this.#t),this.isFetching.set(!1),this.databaseItem.set(e)})},error:()=>{clearTimeout(this.#t),x(()=>this.isFetching.set(!1))}})})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=F({type:t,selectors:[["app-database-item-details"]],contentQueries:function(i,o,f){i&1&&A(f,o.databaseItemDetails,b,5),i&2&&O()},inputs:{itemId:[1,"itemId"],hideQualityGrid:[1,"hideQualityGrid"],context:[1,"context"],amount:[1,"amount"],quality:[1,"quality"]},decls:8,vars:4,consts:[[1,"text-lg","font-semibold","relative"],["cardActions","",1,"card-actions"],["matTooltip","Close",3,"click"],[1,"!w-8","!h-8","hover:text-black","focus-visible:text-black",3,"uiIcon"],["cardIcon","",3,"amount","itemName"],["diameter","30"],[3,"item","context","amount","quality"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col"],[1,"text-black","text-2xl"],[1,"text-accent","text-2xl"],["matTooltip","Open in database","matTooltipPosition","before"],[3,"routerLink"],[1,"focus-visible:!text-black","hover:!text-black",3,"uiIcon"],[1,"my-5"],[1,"text-lg","mb-6"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["includePrices","",1,"mt-6",3,"item"],[1,"flex"],[1,"ml-2","text-black",3,"amount"],[1,"mx-auto"]],template:function(i,o){if(i&1&&(s(0,"app-card",0)(1,"div",1),p(2,ot,2,5),s(3,"button",2),P("click",function(){return o.listDetails.close()}),m(4,"app-ui-icon",3),r()(),p(5,mt,1,2,"app-item-icon",4)(6,pt,17,16)(7,dt,1,1),r()),i&2){let f,g,S;n(2),c((f=o.databaseItem())?2:-1,f),n(2),l("uiIcon",o.uiIcon.CROSS),n(),c((g=o.databaseItem())?5:-1,g),n(),c((S=o.databaseItem())?6:7,S)}},dependencies:[R,L,B,W,J,j,H,X,K,$,Y,tt,Z,V],encapsulation:2})}}return t})();var At=(()=>{class t{static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=E({type:t,selectors:[["","appDatabaseItemDetails",""]]})}}return t})();export{Pt as a,At as b};
