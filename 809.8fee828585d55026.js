"use strict";(self.webpackChunkguide=self.webpackChunkguide||[]).push([[809],{2809:(ut,M,r)=>{r.r(M),r.d(M,{JournalModule:()=>pt});var c=r(6895),y=r(2095),m=r(3848),l=r(4931),v=r(15),t=r(4650),I=r(2364),F=r(5141),A=r(973);let J=(()=>{class a{constructor(){this.UI_ICONS=v.a}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-journal"]],decls:9,vars:3,consts:[["routerLink","produce",3,"uiIcon"],["routerLink","caught",3,"uiIcon"],["routerLink","found",3,"uiIcon"],[1,"hidden"]],template:function(e,i){1&e&&(t.TgZ(0,"app-sidebar-container")(1,"app-module-sidebar")(2,"app-module-sidebar-item",0),t._uU(3,"Produce"),t.qZA(),t.TgZ(4,"app-module-sidebar-item",1),t._uU(5,"Caught"),t.qZA(),t.TgZ(6,"app-module-sidebar-item",2),t._uU(7,"Found"),t.qZA()(),t._UZ(8,"router-outlet",3),t.qZA()),2&e&&(t.xp6(2),t.Q6J("uiIcon",i.UI_ICONS.FARMING),t.xp6(2),t.Q6J("uiIcon",i.UI_ICONS.CATCHING),t.xp6(2),t.Q6J("uiIcon",i.UI_ICONS.ARTISAN))},dependencies:[l.lC,l.rH,I.R,F.z,A.L]}),a})();var Z=r(1577),x=r(4004),b=r(9969),w=r(2289);let f=(()=>{class a{constructor(){this.uiIcon=v.a,this.tabs=[],this.openDrawer=!1,this._database=(0,t.f3M)(b.k),this.media=(0,t.f3M)(w.vx),this.changeDetectorRef=(0,t.f3M)(t.sBO),this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>this.changeDetectorRef.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}getFilteredJournalData(e,i){return(0,Z.a)([e,i]).pipe((0,x.U)(([d,o])=>{const s=[];return d.sort((u,g)=>u.order>g.order?1:-1).forEach(u=>{const g=o.find(h=>"item"in h?h.item.id===u.key:h.id===u.key);g&&s.push(g)}),s}))}showDetails(e){this.selectedEntity=e,this.openDrawer=!0}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,i){},encapsulation:2}),a})();var p=r(9813),_=r(9473),D=r(5583),C=r(4175);function N(a,n){if(1&a&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2,"Size: "),t.TgZ(3,"span",2),t._uU(4),t.qZA()(),t.TgZ(5,"div"),t._uU(6,"Time: "),t.TgZ(7,"span",2),t._uU(8),t.qZA()(),t.TgZ(9,"div"),t._uU(10," Season: "),t.TgZ(11,"span",2),t._uU(12),t.qZA()(),t.TgZ(13,"div"),t._uU(14,"Weather: "),t.TgZ(15,"span",2),t._uU(16),t.qZA()(),t.BQk()),2&a){const e=t.oxw(2);t.xp6(4),t.Oqu(e.critter.fishSize),t.xp6(4),t.Oqu(e.getTruthyValues(e.critter.spawnTime)),t.xp6(4),t.Oqu(e.critter.isUsingSpecificDate?e.dateRangesToString(e.critter.dateRangeList):e.getTruthyValues(e.critter.spawnSeason)),t.xp6(4),t.Oqu(e.getTruthyValues(e.critter.spawnWeather))}}function S(a,n){if(1&a&&(t.TgZ(0,"app-base-item-card",1)(1,"div"),t._uU(2,"Rarity: "),t.TgZ(3,"span",2),t._uU(4),t.qZA()(),t.YNc(5,N,17,4,"ng-container",3),t.qZA()),2&a){const e=t.oxw();t.Q6J("item",e.critter.item),t.xp6(4),t.Oqu(e.critter.rarity),t.xp6(1),t.Q6J("ngIf",e.isFish(e.critter))}}let O=(()=>{class a{constructor(){this.getTruthyValues=D.C1}isFish(e){return"fishName"in e}dateRangesToString(e){return e.map(i=>`From ${i.startsFrom.season} ${i.startsFrom.day} to ${i.lastsTill.season} ${i.lastsTill.day}`).join(", ")}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-caught-details"]],inputs:{critter:"critter"},decls:1,vars:1,consts:[[3,"item",4,"ngIf"],[3,"item"],[1,"text-black"],[4,"ngIf"]],template:function(e,i){1&e&&t.YNc(0,S,6,3,"app-base-item-card",0),2&e&&t.Q6J("ngIf",i.critter)},dependencies:[c.O5,C.T]}),a})();function Q(a,n){if(1&a&&t._UZ(0,"app-caught-details",4),2&a){const e=t.oxw();t.Q6J("critter",e.selectedEntity)}}function U(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"app-item-icon",9),t.NdJ("click",function(){const o=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.showDetails(o))}),t.qZA()}2&a&&t.Q6J("itemName",n.$implicit.item.iconName)}function j(a,n){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,U,1,1,"app-item-icon",8),t.qZA()),2&a){const e=n.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function P(a,n){if(1&a&&(t.TgZ(0,"mat-tab",5),t.YNc(1,j,2,1,"div",6),t.ALo(2,"async"),t.qZA()),2&a){const e=n.$implicit;t.Q6J("label",e.title),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,e.data))}}let $=(()=>{class a extends f{constructor(){super(),this.tabs=[{title:"Fish",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fish"),this._database.fetchFish$())},{title:"Insects",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-insects"),this._database.fetchBugsAndInsects$())},{title:"Sea Critters",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-sea-critters"),this._database.fetchOceanCritters$())}]}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-caught"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"critter",4,"ngIf"],["animationDuration","0",1,"px-2","xl:px-[50px]","w-full"],[3,"label",4,"ngFor","ngForOf"],["listDetail","",3,"critter"],[3,"label"],["class","grid gap-4 icon-grid",4,"ngIf"],[1,"grid","gap-4","icon-grid"],["class","icon-grid-item",3,"itemName","click",4,"ngFor","ngForOf"],[1,"icon-grid-item",3,"itemName","click"]],template:function(e,i){1&e&&(t.TgZ(0,"app-list-detail-container",0),t.NdJ("openDrawerChange",function(o){return i.openDrawer=o}),t.YNc(1,Q,1,1,"app-caught-details",1),t.TgZ(2,"mat-tab-group",2),t.YNc(3,P,3,4,"mat-tab",3),t.qZA()()),2&e&&(t.Q6J("openDrawer",i.openDrawer),t.xp6(1),t.Q6J("ngIf",i.selectedEntity),t.xp6(2),t.Q6J("ngForOf",i.tabs))},dependencies:[c.sg,c.O5,p.D,_.I,m.SP,m.uX,O,c.Ov]}),a})();function L(a,n){if(1&a&&t._UZ(0,"app-base-item-card",1),2&a){const e=t.oxw();t.Q6J("item",e.item)}}let Y=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-found-details"]],inputs:{item:"item"},decls:1,vars:1,consts:[[3,"item",4,"ngIf"],[3,"item"]],template:function(e,i){1&e&&t.YNc(0,L,1,1,"app-base-item-card",0),2&e&&t.Q6J("ngIf",i.item)},dependencies:[c.O5,C.T]}),a})();function q(a,n){if(1&a&&t._UZ(0,"app-found-details",4),2&a){const e=t.oxw();t.Q6J("item",e.selectedEntity)}}function X(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"app-item-icon",9),t.NdJ("click",function(){const o=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.showDetails(o))}),t.qZA()}2&a&&t.Q6J("itemName",n.$implicit.iconName)}function B(a,n){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,X,1,1,"app-item-icon",8),t.qZA()),2&a){const e=n.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function k(a,n){if(1&a&&(t.TgZ(0,"mat-tab",5),t.YNc(1,B,2,1,"div",6),t.ALo(2,"async"),t.qZA()),2&a){const e=n.$implicit;t.Q6J("label",e.title),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,e.data))}}let E=(()=>{class a extends f{constructor(){super(),this.tabs=[{title:"Artifacts",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artifacts"),this._database.fetchItems$())},{title:"Gems",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-gems"),this._database.fetchItems$())},{title:"Fossils",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fossils"),this._database.fetchItems$())},{title:"Scavangables",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-scavangable"),this._database.fetchItems$())}]}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-found"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"item",4,"ngIf"],["animationDuration","0",1,"px-2","xl:px-[50px]","w-full"],[3,"label",4,"ngFor","ngForOf"],["listDetail","",3,"item"],[3,"label"],["class","grid gap-4 icon-grid",4,"ngIf"],[1,"grid","gap-4","icon-grid"],["class","icon-grid-item",3,"itemName","click",4,"ngFor","ngForOf"],[1,"icon-grid-item",3,"itemName","click"]],template:function(e,i){1&e&&(t.TgZ(0,"app-list-detail-container",0),t.NdJ("openDrawerChange",function(o){return i.openDrawer=o}),t.YNc(1,q,1,1,"app-found-details",1),t.TgZ(2,"mat-tab-group",2),t.YNc(3,k,3,4,"mat-tab",3),t.qZA()()),2&e&&(t.Q6J("openDrawer",i.openDrawer),t.xp6(1),t.Q6J("ngIf",i.selectedEntity),t.xp6(2),t.Q6J("ngForOf",i.tabs))},dependencies:[c.sg,c.O5,p.D,_.I,m.SP,m.uX,Y,c.Ov]}),a})();var H=r(3900),G=r(2314);let R=(()=>{class a{transform(e){return Math.max(...e)}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275pipe=t.Yjl({name:"max",type:a,pure:!0}),a})();const z=function(a){return[1,a]};function V(a,n){if(1&a&&(t.TgZ(0,"div"),t._uU(1,"Regrows: "),t.TgZ(2,"span",7),t._uU(3),t.ALo(4,"max"),t.qZA()()),2&a){const e=t.oxw().ngIf;t.xp6(3),t.hij("",t.lcZ(4,1,t.VKq(3,z,e.regrowableLength))," days")}}function K(a,n){if(1&a&&(t.TgZ(0,"div"),t._uU(1,"Can combine: "),t.TgZ(2,"span",7),t._uU(3),t.qZA()()),2&a){const e=t.oxw().ngIf;t.xp6(3),t.hij("",e.chanceToCombine.chance,"%")}}function W(a,n){1&a&&(t.TgZ(0,"div",7),t._uU(1,"Scythe required"),t.qZA())}function tt(a,n){1&a&&(t.TgZ(0,"div",7),t._uU(1,"Is trellis crop"),t.qZA())}function at(a,n){if(1&a&&(t.ynx(0),t.TgZ(1,"div",3),t._UZ(2,"app-item-icon",4),t.TgZ(3,"span",5),t._uU(4),t.qZA(),t._UZ(5,"app-money",6),t.qZA(),t.TgZ(6,"div"),t._uU(7,"Season: "),t.TgZ(8,"span",7),t._uU(9),t.qZA()(),t.TgZ(10,"div"),t._uU(11,"Time to mature: "),t.TgZ(12,"span",7),t._uU(13),t.qZA()(),t.YNc(14,V,5,5,"div",2),t.YNc(15,K,4,1,"div",2),t.TgZ(16,"div"),t._uU(17,"Size (WxL): "),t.TgZ(18,"span",7),t._uU(19),t.qZA()(),t.YNc(20,W,2,0,"div",8),t.YNc(21,tt,2,0,"div",8),t.BQk()),2&a){const e=n.ngIf;t.xp6(2),t.Q6J("itemName",e.item.iconName),t.xp6(2),t.Oqu(e.readableName),t.xp6(1),t.Q6J("amount",e.item.price),t.xp6(4),t.Oqu(e.growableSeason.join(", ")),t.xp6(4),t.hij("",e.growTime," days"),t.xp6(1),t.Q6J("ngIf",e.isRegrowable),t.xp6(1),t.Q6J("ngIf",e.canCombine),t.xp6(4),t.AsE("",e.size.width,"x",e.size.length,""),t.xp6(1),t.Q6J("ngIf",e.isScytheRequired),t.xp6(1),t.Q6J("ngIf",e.isTrellisCrop)}}function et(a,n){if(1&a&&(t.TgZ(0,"app-base-item-card",1),t.YNc(1,at,22,11,"ng-container",2),t.ALo(2,"async"),t.qZA()),2&a){const e=t.oxw();t.Q6J("item",e.item),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,e.crop$))}}let nt=(()=>{class a{constructor(e){this._database=e,this.getTruthyValues=D.C1}ngOnChanges(e){const i=e.item?.currentValue;i&&(this.crop$=this._database.fetchCrops$().pipe((0,x.U)(d=>d.find(o=>o.pickupableItemId===i.id))))}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(b.k))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-produce-details"]],inputs:{item:"item"},features:[t.TTD],decls:1,vars:1,consts:[[3,"item",4,"ngIf"],[3,"item"],[4,"ngIf"],[1,"flex","items-center","mb-2"],[1,"h-10","w-10","mr-1",3,"itemName"],[1,"text-black","mr-3"],[3,"amount"],[1,"text-black"],["class","text-black",4,"ngIf"]],template:function(e,i){1&e&&t.YNc(0,et,3,4,"app-base-item-card",0),2&e&&t.Q6J("ngIf",i.item)},dependencies:[c.O5,p.D,C.T,G.y,c.Ov,R]}),a})();function it(a,n){if(1&a&&t._UZ(0,"app-produce-details",4),2&a){const e=t.oxw();t.Q6J("item",e.selectedEntity)}}function rt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"app-item-icon",9),t.NdJ("click",function(){const o=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.showDetails(o))}),t.qZA()}2&a&&t.Q6J("itemName",n.$implicit.iconName)}function ot(a,n){if(1&a&&(t.TgZ(0,"div",7),t.YNc(1,rt,1,1,"app-item-icon",8),t.qZA()),2&a){const e=n.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function ct(a,n){if(1&a&&(t.TgZ(0,"mat-tab",5),t.YNc(1,ot,2,1,"div",6),t.ALo(2,"async"),t.qZA()),2&a){const e=n.$implicit;t.Q6J("label",e.title),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,e.data))}}const dt=[{path:"",pathMatch:"full",redirectTo:"produce"},{path:"",component:J,children:[{path:"caught",component:$},{path:"found",component:E},{path:"produce",component:(()=>{class a extends f{constructor(){super(),this.tabs=[{title:"Crops",data:this._database.fetchCrops$().pipe((0,H.w)(()=>this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-crops"),this._database.fetchItems$())))},{title:"Animal Products",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-animal-products"),this._database.fetchItems$())},{title:"Artisan Products",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artisan-products"),this._database.fetchItems$())}]}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-produce"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"item",4,"ngIf"],["animationDuration","0",1,"px-2","xl:px-[50px]","w-full"],[3,"label",4,"ngFor","ngForOf"],["listDetail","",3,"item"],[3,"label"],["class","grid gap-4 icon-grid",4,"ngIf"],[1,"grid","gap-4","icon-grid"],["class","icon-grid-item",3,"itemName","click",4,"ngFor","ngForOf"],[1,"icon-grid-item",3,"itemName","click"]],template:function(e,i){1&e&&(t.TgZ(0,"app-list-detail-container",0),t.NdJ("openDrawerChange",function(o){return i.openDrawer=o}),t.YNc(1,it,1,1,"app-produce-details",1),t.TgZ(2,"mat-tab-group",2),t.YNc(3,ct,3,4,"mat-tab",3),t.qZA()()),2&e&&(t.Q6J("openDrawer",i.openDrawer),t.xp6(1),t.Q6J("ngIf",i.selectedEntity),t.xp6(2),t.Q6J("ngForOf",i.tabs))},dependencies:[c.sg,c.O5,p.D,_.I,m.SP,m.uX,nt,c.Ov]}),a})()}]}];let st=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[l.Bz.forChild(dt),l.Bz]}),a})();var T=r(3238);let mt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[T.BQ,T.BQ]}),a})();var lt=r(3267);let pt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[c.ez,st,y.m,m.Nh,mt,lt.SJ]}),a})()}}]);