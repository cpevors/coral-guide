import{f as qe}from"./chunk-AOZA2FFG.js";import{A as oe,Aa as u,Ab as Ce,Ac as ke,Ad as Q,B as Yt,Ba as g,Bd as Z,Ca as x,Cb as st,Cc as B,Cd as X,D as ae,Db as qt,Dc as Ee,Dd as q,Ea as N,Eb as Rt,Ec as Fe,Ed as K,Fc as gt,Fd as Le,G as dt,Ga as C,Gc as zt,Gd as He,Ha as m,Hd as Oe,Ia as Zt,Ic as L,J as z,Ja as Dt,K as h,Ka as be,L as mt,M as Qt,Ma as fe,Mc as Pe,N as kt,Nb as ct,O as T,Oa as s,Ob as ve,Oc as Re,P as D,Pa as R,Pc as xt,Qa as w,Qb as ye,Qc as jt,Qd as tt,Ra as _t,Rd as et,S as j,Sb as Nt,Sd as it,Td as Ve,Uc as Ne,Ud as nt,Va as _e,Vd as At,Wa as Et,Wd as Je,Xa as Ft,Xb as we,Xd as Ue,Ya as v,Yd as $t,Za as y,Zd as Ge,_ as re,_b as Te,a as ie,aa as Tt,ab as he,ac as Kt,ad as pt,ba as ce,bb as ge,be as We,ca as de,da as d,db as xe,dd as St,ea as lt,ee as Lt,fa as me,fc as De,ga as le,h as It,ib as Xt,ic as Bt,id as Be,ie as Ye,j as ne,ja as se,je as Qe,k as ft,ka as S,ke as Ze,la as pe,lc as Se,ld as ze,ma as A,mc as Me,md as je,na as l,nb as $,nd as Ae,ne as Xe,od as H,pa as P,pd as ut,qa as ue,rd as O,sc as ht,sd as $e,ta as p,tb as Pt,ua as b,ud as V,va as M,vd as J,wa as I,wd as U,xa as k,xd as G,ya as a,yc as Ie,yd as W,za as r,zd as Y}from"./chunk-IDSY5RWV.js";var Ke=(()=>{let e=class e{constructor(){this.UI_ICONS=Rt}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-journal"]],decls:15,vars:6,consts:[["routerLink","produce",3,"uiIcon"],["routerLink","caught",3,"uiIcon"],["routerLink","found",3,"uiIcon"],["routerLink","bestiary",3,"uiIcon"],["routerLink","notes",3,"uiIcon"],["routerLink","achievements",3,"uiIcon"],[1,"hidden"]],template:function(o,c){o&1&&(a(0,"app-sidebar-container")(1,"app-module-sidebar")(2,"app-module-sidebar-item",0),s(3,"Produce"),r(),a(4,"app-module-sidebar-item",1),s(5,"Caught"),r(),a(6,"app-module-sidebar-item",2),s(7,"Found"),r(),a(8,"app-module-sidebar-item",3),s(9,"Bestiary"),r(),a(10,"app-module-sidebar-item",4),s(11,"Notes"),r(),a(12,"app-module-sidebar-item",5),s(13,"Badges "),r()(),u(14,"router-outlet",6),r()),o&2&&(d(2),l("uiIcon",c.UI_ICONS.FARMING),d(2),l("uiIcon",c.UI_ICONS.CATCHING),d(2),l("uiIcon",c.UI_ICONS.ARTISAN),d(2),l("uiIcon",c.UI_ICONS.BESTIARY),d(2),l("uiIcon",c.UI_ICONS.NOTES),d(2),l("uiIcon",c.UI_ICONS.BADGES))},dependencies:[we,Te,Fe,Ee,je],encapsulation:2});let t=e;return t})();var Ct=(()=>{let e=class e extends $t{constructor(n){super(),this.uiIcon=Rt,this.tabs=[],this.season=st,this.media=z(Se),this.changeDetectorRef=z(le),this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>this.changeDetectorRef.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener),this.formControl=n}getFilteredJournalData(n,o,c){return ft([n,o,this.formControl.valueChanges.pipe(oe(this.formControl.value)),It(c)]).pipe(ne(([f,_,F,at])=>{let rt=[];return f.sort((yt,bt)=>yt.order>bt.order?1:-1).forEach(yt=>{let bt=_.find(wt=>"dropData"in wt?wt.dropData[0].item?.id===yt.key:"item"in wt?wt.item.id===yt.key:wt.id===yt.key);bt&&(this.filterPredicate||rt.push(bt),this.filterPredicate&&this.filterPredicate(bt,F,at)&&rt.push(bt))}),rt}))}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}};e.\u0275fac=function(o){return new(o||e)(lt(pt))},e.\u0275cmp=h({type:e,selectors:[["ng-component"]],viewQuery:function(o,c){if(o&1&&ge(O,5),o&2){let f;he(f=xe())&&(c.matTabGroup=f.first)}},features:[S],decls:0,vars:0,template:function(o,c){},encapsulation:2});let t=e;return t})();function Di(t,e){if(t&1&&u(0,"app-caught-details",1),t&2){let i=m();l("critter",i.selectedEntity)("registerToToDo",i.registerToToDo)}}function Si(t,e){if(t&1){let i=N();a(0,"app-item-icon",8),C("click",function(){let c=T(i).$implicit,f=m(4);return D(f.showDetails(c))}),r()}if(t&2){let i=e.$implicit,n=m(4);P("selected-icon",(n.selectedEntity==null||n.selectedEntity.item==null?null:n.selectedEntity.item.id)===i.item.id),l("itemName",i.item.iconName)}}function Mi(t,e){if(t&1&&(a(0,"div",7),I(1,Si,1,3,"app-item-icon",9,M),r()),t&2){let i=m();k(1,i)}}function Ii(t,e){if(t&1&&u(0,"app-caught-table",6),t&2){let i=m();l("dataSource",i)}}function ki(t,e){if(t&1&&p(0,Mi,3,0,"div",5)(1,Ii,1,1,"app-caught-table",6),t&2){let i=m(2);b(0,i.showTable?-1:0),d(1),b(1,i.showTable?1:-1)}}function Ei(t,e){if(t&1){let i=N();a(0,"mat-tab",3)(1,"app-data-filter",4),C("showTableChange",function(o){T(i);let c=m();return D(c.showTable=o)}),r(),p(2,ki,2,2),v(3,"async"),r()}if(t&2){let i=e.$implicit,n=m(),o;l("label",i.title),d(1),l("showTable",n.showTable)("parentFormGroup",n.formControl),d(1),b(2,(o=y(3,4,i.data))?2:-1,o)}}var Ht=(()=>{let e=class e extends Ct{constructor(){super(new pt({season:new St(Object.values(st),{nonNullable:!0}),weather:new St(Object.values(qt),{nonNullable:!0})})),this.SEA_CRITTERS_INDEX=2,this.registerToToDo=this.registerToToDo.bind(this),this.tabs=[{title:"Fish",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fish"),this._database.fetchFish$(),0)},{title:"Insects",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-insects"),this._database.fetchBugsAndInsects$(),1)},{title:"Sea Critters",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-sea-critters"),this._database.fetchOceanCritters$(),this.SEA_CRITTERS_INDEX)}],this.activateTabFromRoute(this.tabs.map(n=>n.title))}registerToToDo(n){"fishName"in n?this._todo.add(L.JOURNAL_FISH,n):this.matTabGroup?.selectedIndex===this.SEA_CRITTERS_INDEX?this._todo.add(L.JOURNAL_CRITTER,n):this._todo.add(L.JOURNAL_INSECTS,n)}filterPredicate(n,o,c){if(!o.season?.length||!o.weather?.length)return!1;let f=ct(n.spawnSeason).toLowerCase(),_=f==="any"||o.season?.length===Object.values(st).length||!!o.season?.some(rt=>f.includes((""+rt).toLowerCase())),F=ct(n.spawnWeather).toLowerCase(),at=c===this.SEA_CRITTERS_INDEX||F==="any"||o.weather?.length===Object.values(qt).length||!!o.weather?.some(rt=>F.includes((""+rt).toLowerCase()));return _&&at}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-caught"]],features:[S],decls:5,vars:4,consts:[[3,"openDrawer","removePlaceholder","openDrawerChange"],["listDetail","",3,"critter","registerToToDo"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],[3,"label"],[3,"showTable","parentFormGroup","showTableChange"],["class","grid gap-4 icon-grid"],[3,"dataSource"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item",3,"itemName","click"],["class","icon-grid-item",3,"itemName","selected-icon"]],template:function(o,c){o&1&&(a(0,"app-list-detail-container",0),C("openDrawerChange",function(_){return c.openDrawer=_}),p(1,Di,1,2,"app-caught-details",1),a(2,"mat-tab-group",2),C("selectedTabChange",function(_){return c.updateUrl(_)}),I(3,Ei,4,6,"mat-tab",3,M),r()()),o&2&&(l("openDrawer",c.openDrawer)("removePlaceholder",c.showTable),d(1),b(1,c.selectedEntity?1:-1),d(1),l("selectedIndex",c.selectedTabIndex),k(3,c.tabs))},encapsulation:2});let t=e;return t})();function Pi(t,e){if(t&1){let i=N();a(0,"app-base-item-card",3),C("addedToToDo",function(){T(i);let o=m();return D(o.selectedTabIndex>-1&&o.selectedTabIndex<3&&o.registerToToDo(o.selectedEntity))}),r()}if(t&2){let i=m();l("toDoCategory",i.toDoCategory)("item",i.selectedEntity)}}function Ri(t,e){if(t&1){let i=N();a(0,"app-item-icon",9),C("click",function(){let c=T(i).$implicit,f=m(4);return D(f.showDetails(c))}),r()}if(t&2){let i=e.$implicit,n=m(4);P("selected-icon",(n.selectedEntity==null?null:n.selectedEntity.id)===i.id),l("itemName",i.iconName)}}function Ni(t,e){if(t&1&&(a(0,"div",8),I(1,Ri,1,3,"app-item-icon",10,M),r()),t&2){let i=m();k(1,i)}}function Bi(t,e){if(t&1&&u(0,"app-non-specialized-table",7),t&2){let i=m();l("dataSource",i)}}function zi(t,e){if(t&1&&p(0,Ni,3,0,"div",6)(1,Bi,1,1,"app-non-specialized-table",7),t&2){let i=m(2);b(0,i.showTable?-1:0),d(1),b(1,i.showTable?1:-1)}}function ji(t,e){if(t&1){let i=N();a(0,"mat-tab",4)(1,"app-data-filter",5),C("showTableChange",function(o){T(i);let c=m();return D(c.showTable=o)}),r(),p(2,zi,2,2),v(3,"async"),r()}if(t&2){let i=e.$implicit,n=m(),o;l("label",i.title),d(1),l("showTable",n.showTable)("parentFormGroup",n.formControl),d(1),b(2,(o=y(3,4,i.data))?2:-1,o)}}var ei=(()=>{let e=class e extends Ct{constructor(){super(new pt({})),this.tabs=[{title:"Artifacts",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artifacts"),this._database.fetchItems$(),0)},{title:"Gems",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-gems"),this._database.fetchItems$(),1)},{title:"Fossils",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fossils"),this._database.fetchItems$(),2)},{title:"Scavangables",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-scavangable"),this._database.fetchItems$(),3)}],this.activateTabFromRoute(this.tabs.map(n=>n.title))}showDetails(n){super.showDetails(n),this.toDoCategory=this.selectedTabIndex===0?L.JOURNAL_ARTIFACTS:this.selectedTabIndex===1?L.JOURNAL_GEMS:this.selectedTabIndex===2?L.JOURNAL_FOSSILS:void 0}registerToToDo(n){let o=this.toDoCategory;o&&this._todo.add(o,n)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-found"]],features:[S],decls:5,vars:3,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"toDoCategory","item"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],["listDetail","",3,"toDoCategory","item","addedToToDo"],[3,"label"],[3,"showTable","parentFormGroup","showTableChange"],["class","grid gap-4 icon-grid"],[3,"dataSource"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item",3,"itemName","click"],["class","icon-grid-item",3,"selected-icon","itemName"]],template:function(o,c){o&1&&(a(0,"app-list-detail-container",0),C("openDrawerChange",function(_){return c.openDrawer=_}),p(1,Pi,1,2,"app-base-item-card",1),a(2,"mat-tab-group",2),C("selectedTabChange",function(_){return c.updateUrl(_)}),I(3,ji,4,6,"mat-tab",4,M),r()()),o&2&&(l("openDrawer",c.openDrawer),d(1),b(1,c.selectedEntity?1:-1),d(1),l("selectedIndex",c.selectedTabIndex),k(3,c.tabs))},dependencies:[B,xt,H,tt,At,ut,O,$],encapsulation:2});let t=e;return t})();var Li=t=>[1,t];function Hi(t,e){if(t&1&&(a(0,"div"),s(1,"Regrows: "),a(2,"span",5),s(3),v(4,"max"),r()()),t&2){let i=m(3);d(3),w("",y(4,1,Ft(3,Li,i.item.regrowableLength))," days")}}function Oi(t,e){if(t&1&&(a(0,"div"),s(1,"Can combine: "),a(2,"span",5),s(3),r()()),t&2){let i=m(4);d(3),w("",i.item.chanceToCombine.chance,"%")}}function Vi(t,e){t&1&&(a(0,"div",5),s(1,"Scythe required"),r())}function Ji(t,e){t&1&&(a(0,"div",5),s(1,"Is trellis crop"),r())}function Ui(t,e){if(t&1&&p(0,Oi,4,1,"div")(1,Vi,2,0,"div",6)(2,Ji,2,0,"div",6),t&2){let i=m(3);b(0,i.item.canCombine?0:-1),d(1),b(1,i.item.isScytheRequired?1:-1),d(1),b(2,i.item.isTrellisCrop?2:-1)}}function Gi(t,e){if(t&1&&(a(0,"div",1),u(1,"app-item-icon",2),a(2,"span",3),s(3),r(),u(4,"app-money",4),r(),a(5,"div"),s(6,"Season: "),a(7,"span",5),s(8),r()(),a(9,"div"),s(10,"Time to mature: "),a(11,"span",5),s(12),r()(),p(13,Hi,5,5,"div")(14,Ui,3,3),v(15,"isCrop"),a(16,"div"),s(17,"Size (WxL): "),a(18,"span",5),s(19),r()()),t&2){let i=m(2);d(1),l("itemName",i.item.item.iconName),d(2),R(i.item.readableName),d(1),l("amount",i.item.item.price),d(4),R(i.item.growableSeason.join(", ")),d(4),w("",i.item.growTime," days"),d(1),b(13,i.item.isRegrowable?13:-1),d(1),b(14,y(15,9,i.item)?14:-1),d(5),_t("",i.item.size.width,"x",i.item.size.length,"")}}function Wi(t,e){if(t&1&&(a(0,"app-base-item-card",0),v(1,"isBaseCrop"),p(2,Gi,20,11),v(3,"isBaseCrop"),r()),t&2){let i=m();l("item",y(1,2,i.item)?i.item.dropData[0].item:i.item),d(2),b(2,y(3,4,i.item)?2:-1)}}var ii=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-produce-details"]],inputs:{item:"item"},decls:1,vars:1,consts:[[3,"item"],[1,"flex","items-center","mb-2"],[1,"h-10","w-10","mr-1",3,"itemName"],[1,"text-black","mr-3"],[3,"amount"],[1,"text-black"],["class","text-black"]],template:function(o,c){o&1&&p(0,Wi,4,6,"app-base-item-card",0),o&2&&b(0,c.item?0:-1)},dependencies:[B,xt,zt,jt,Oe,Je],encapsulation:2});let t=e;return t})();function Qi(t,e){if(t&1&&(a(0,"td",19),u(1,"app-item-icon",20),r()),t&2){let i=e.$implicit;d(1),l("itemName",i.dropData[0]==null||i.dropData[0].item==null?null:i.dropData[0].item.iconName)}}function Zi(t,e){t&1&&(a(0,"th",21),s(1," Output "),r()),t&2&&A("colspan",2)}function Xi(t,e){if(t&1&&(a(0,"td",22),s(1),r()),t&2){let i=e.$implicit;d(1),w("",i.dropData[0]==null?null:i.dropData[0].item.displayName," ")}}function qi(t,e){t&1&&(a(0,"th",23),s(1," Size"),r())}function Ki(t,e){if(t&1&&(a(0,"td",22),s(1),r()),t&2){let i=e.$implicit;d(1),_t(" ",i.size.width,"x",i.size.length," ")}}function tn(t,e){t&1&&(a(0,"th",23),s(1," Seasons"),r())}function en(t,e){if(t&1&&(a(0,"td",22),s(1),r()),t&2){let i=e.$implicit;d(1),w(" ",i.growableSeason.join(", ")," ")}}function nn(t,e){t&1&&(a(0,"th",23),s(1," Regrow"),r())}var on=t=>[1,t];function an(t,e){if(t&1&&(s(0),v(1,"max")),t&2){let i=m().$implicit;w(`
`,y(1,1,Ft(3,on,i.regrowableLength)),` days
`)}}function rn(t,e){if(t&1&&(a(0,"td",24),p(1,an,2,5),r()),t&2){let i=e.$implicit;d(1),b(1,i.isRegrowable?1:-1)}}function cn(t,e){t&1&&(a(0,"th",23),s(1," Grow time"),r())}function dn(t,e){if(t&1&&(a(0,"td",24),s(1),r()),t&2){let i=e.$implicit;d(1),w(" ",i.growTime," days ")}}function mn(t,e){t&1&&(a(0,"th",25),s(1," Seed"),r())}function ln(t,e){if(t&1&&(a(0,"td",22)(1,"div",26),u(2,"app-item-icon",27),s(3),r()()),t&2){let i=e.$implicit;d(2),l("itemName",i.item==null?null:i.item.iconName),d(1),w(" ",i.readableName," ")}}function sn(t,e){t&1&&(a(0,"th",25),s(1," Seed buy price"),r())}function pn(t,e){if(t&1&&(a(0,"td",28),u(1,"app-money",29),r()),t&2){let i=e.$implicit;d(1),l("amount",i.item.price)}}function un(t,e){t&1&&(a(0,"th",25),s(1," Sell price"),r())}function bn(t,e){if(t&1&&(a(0,"td",28),u(1,"app-money",29),r()),t&2){let i=e.$implicit;d(1),l("amount",i.dropData[0]==null||i.dropData[0].item==null?null:i.dropData[0].item.sellPrice)}}function fn(t,e){t&1&&u(0,"tr",30)}function _n(t,e){t&1&&u(0,"tr",31)}function hn(t,e){if(t&1&&(a(0,"table",0),g(1,1),p(2,Qi,2,1,"td",2),x(),g(3,3),p(4,Zi,2,1,"th",4)(5,Xi,2,1,"td",5),x(),g(6,6),p(7,qi,2,0,"th",7)(8,Ki,2,2,"td",5),x(),g(9,8),p(10,tn,2,0,"th",7)(11,en,2,1,"td",5),x(),g(12,9),p(13,nn,2,0,"th",7)(14,rn,2,1,"td",10),x(),g(15,11),p(16,cn,2,0,"th",7)(17,dn,2,1,"td",10),x(),g(18,12),p(19,mn,2,0,"th",13)(20,ln,4,2,"td",5),x(),g(21,14),p(22,sn,2,0,"th",13)(23,pn,2,1,"td",15),x(),g(24,16),p(25,un,2,0,"th",13)(26,bn,2,1,"td",15),x(),p(27,fn,1,0,"tr",17)(28,_n,1,0,"tr",18),r()),t&2){let i=m();l("dataSource",i.matDataSource),d(27),l("matHeaderRowDef",i.displayHeaderColumns)("matHeaderRowDefSticky",!0),d(1),l("matRowDefColumns",i.displayedColumns)}}var ni=(()=>{let e=class e extends nt{constructor(){super(...arguments),this.BASE_DISPLAY_COLUMNS=["icon","displayName","growTime","regrow","season","size","seed","seedPrice","sellPrice"],this.sortingDataAccessor=(n,o)=>{let c=this.sortHelper(n.dropData[0].item,o);if(c!==null)return c;switch(o){case"key":return n[o];case"seed":return n.item.displayName;case"regrow":return n.isRegrowable?n.regrowableLength:-1;case"growTime":return n.growTime;case"seedPrice":return n.item.price;case"season":return this.sortHelper(n.growableSeason)??5;case"size":return n.size.length*n.size.width}return 0}}};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=j(e)))(c||e)}})(),e.\u0275cmp=h({type:e,selectors:[["app-crop-table"]],features:[S],decls:2,vars:1,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","icon","sticky",""],["class","!pl-2 !pr-0  w-10 text-center icon-col ","mat-cell","",4,"matCellDef"],["matColumnDef","displayName"],["class","backdrop-blur-xl","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col whitespace-nowrap","mat-cell","",4,"matCellDef"],["matColumnDef","size"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","season"],["matColumnDef","regrow"],["class","text-col text-right whitespace-nowrap","mat-cell","",4,"matCellDef"],["matColumnDef","growTime"],["matColumnDef","seed"],["class","whitespace-nowrap","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","seedPrice"],["class","text-col !text-right w-[1%]","mat-cell","",4,"matCellDef"],["matColumnDef","sellPrice"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"!pl-2","!pr-0","w-10","text-center","icon-col"],[3,"itemName"],["mat-header-cell","","mat-sort-header","",1,"backdrop-blur-xl"],["mat-cell","",1,"text-col","whitespace-nowrap"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"text-col","text-right","whitespace-nowrap"],["mat-header-cell","","mat-sort-header","",1,"whitespace-nowrap"],[1,"flex","gap-x-3","items-center"],[1,"!w-7",3,"itemName"],["mat-cell","",1,"text-col","!text-right","w-[1%]"],[3,"amount"],["mat-header-row",""],["mat-row",""]],template:function(o,c){o&1&&(a(0,"app-responsive-table"),p(1,hn,29,4,"table",0),r()),o&2&&(d(1),b(1,c.matDataSource?1:-1))},dependencies:[B,zt,V,J,G,Z,W,U,X,Y,Q,q,K,et,it,jt],encapsulation:2});let t=e;return t})();function xn(t,e){if(t&1&&u(0,"app-produce-details",1),t&2){let i=m();l("item",i.selectedEntity)}}function Cn(t,e){if(t&1){let i=N();a(0,"app-item-icon",7),C("click",function(){let c=T(i).$implicit,f=m(4);return D(f.showDetails(c))}),v(1,"isMinimalItem"),v(2,"isMinimalItem"),v(3,"isMinimalItem"),r()}if(t&2){let i=e.$implicit,n=m(4);P("selected-icon",(y(1,3,n.selectedEntity)?n.selectedEntity.id:n.selectedEntity==null||n.selectedEntity.dropData==null||n.selectedEntity.dropData[0]==null||n.selectedEntity.dropData[0].item==null?null:n.selectedEntity.dropData[0].item.id)===(y(2,5,i)?i.id:i.dropData[0].item.id)),l("itemName",y(3,7,i)?i.iconName:i.dropData[0].item.iconName)}}function vn(t,e){if(t&1&&(a(0,"div",6),I(1,Cn,4,9,"app-item-icon",8,M),r()),t&2){let i=m();k(1,i)}}function yn(t,e){if(t&1&&u(0,"app-non-specialized-table",9),t&2){let i=m(2),n=m(2);l("dataSource",n.castToItemArray(i))}}function wn(t,e){if(t&1&&u(0,"app-crop-table",9),t&2){let i=m(2),n=m(2);l("dataSource",n.castToBaseCropArray(i))}}function Tn(t,e){if(t&1&&p(0,yn,1,1,"app-non-specialized-table",9)(1,wn,1,1,"app-crop-table",9),t&2){let i=m(2).$implicit,n=m();b(0,i.title!==n.tabs[0].title?0:-1),d(1),b(1,i.title===n.tabs[0].title?1:-1)}}function Dn(t,e){if(t&1&&p(0,vn,3,0,"div",5)(1,Tn,2,2),t&2){let i=m(2);b(0,i.showTable?-1:0),d(1),b(1,i.showTable?1:-1)}}function Sn(t,e){if(t&1){let i=N();a(0,"mat-tab",3)(1,"app-data-filter",4),C("showTableChange",function(o){T(i);let c=m();return D(c.showTable=o)}),r(),p(2,Dn,2,2),v(3,"async"),r()}if(t&2){let i=e.$implicit,n=m(),o;l("label",i.title),d(1),l("showTable",n.showTable)("parentFormGroup",n.formControl),d(1),b(2,(o=y(3,4,i.data))?2:-1,o)}}var oi=(()=>{let e=class e extends Ct{constructor(){super(new pt({season:new St(Object.values(st),{nonNullable:!0})})),this.tabs=[{title:"Crops",data:ft([this._database.fetchCrops$(),this._database.fetchFruitTrees$(),this._database.fetchFruitPlants$()]).pipe(Yt(([n,o,c])=>this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-crops"),this._database.fetchItems$().pipe(Yt(f=>It(f.map(_=>n.find(F=>F.pickupableItemId===_.id)??c.find(F=>F.dropData.some(at=>at.itemId===_.id))??o.find(F=>F.dropData.some(at=>at.itemId===_.id))).filter(ye)))),0)))},{title:"Animal Products",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-animal-products"),this._database.fetchItems$(),1)},{title:"Artisan Products",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artisan-products"),this._database.fetchItems$(),2)}],this.activateTabFromRoute(this.tabs.map(n=>n.title))}filterPredicate(n,o,c){if(!("growableSeason"in n))return!0;if(!o.season?.length)return!1;let f=n.growableSeason.join(" ").toLowerCase();return o.season?.length===Object.values(st).length||!!o.season?.some(F=>f.includes((""+F).toLowerCase()))}castToItemArray(n){return n}castToBaseCropArray(n){return n}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-produce"]],features:[S],decls:5,vars:3,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"item"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],[3,"label"],[3,"showTable","parentFormGroup","showTableChange"],["class","grid gap-4 icon-grid"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item",3,"itemName","click"],["class","icon-grid-item",3,"selected-icon","itemName"],[3,"dataSource"]],template:function(o,c){o&1&&(a(0,"app-list-detail-container",0),C("openDrawerChange",function(_){return c.openDrawer=_}),p(1,xn,1,1,"app-produce-details",1),a(2,"mat-tab-group",2),C("selectedTabChange",function(_){return c.updateUrl(_)}),I(3,Sn,4,6,"mat-tab",3,M),r()()),o&2&&(l("openDrawer",c.openDrawer),d(1),b(1,c.selectedEntity?1:-1),d(1),l("selectedIndex",c.selectedTabIndex),k(3,c.tabs))},dependencies:[B,H,tt,At,ut,O,ii,ni,$,We],encapsulation:2});let t=e;return t})();function Mn(t,e){if(t&1&&(a(0,"div",2),u(1,"app-item-icon",3),a(2,"div",4)(3,"div",5),s(4),r(),a(5,"div"),s(6),r()()()),t&2){let i=e.$implicit;d(1),l("itemName",i.iconName),d(3),R(i.title),d(2),R(i.description)}}function In(t,e){t&1&&(a(0,"div",1),I(1,Mn,7,3,"div",6,M),r()),t&2&&k(1,e)}var ai=(()=>{let e=class e{constructor(){this._database=z(Nt).fetchAchievements$()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-achievements"]],decls:2,vars:3,consts:[["class","grid gap-4 sm:grid-cols-2 2xl:grid-cols-3  xl:px-[50px] pt-2 pb-6 2xl:pt-[60px]"],[1,"grid","gap-4","sm:grid-cols-2","2xl:grid-cols-3","xl:px-[50px]","pt-2","pb-6","2xl:pt-[60px]"],[1,"flex","bg-white/30","rounded-[15px]","gap-x-4","p-2"],[1,"!w-14",3,"itemName"],[1,"flex","flex-col","text-black"],[1,"font-semibold","text-2xl"],["class","flex bg-white/30 rounded-[15px] gap-x-4 p-2"]],template:function(o,c){if(o&1&&(p(0,In,3,0,"div",0),v(1,"async")),o&2){let f;b(0,(f=y(1,1,c._database))?0:-1,f)}},dependencies:[B,$],encapsulation:2});let t=e;return t})();function kn(t,e){if(t&1&&u(0,"div",6),t&2){let i=m();l("innerHTML",i.mail.title,Tt)}}function En(t,e){if(t&1&&u(0,"span",7),t&2){let i=m();l("innerHTML",i.mail.greetCloseMessage,Tt)}}function Fn(t,e){if(t&1&&u(0,"span",8),t&2){let i=m();l("innerHTML",i.mail.sender,Tt)}}var vt=(()=>{let e=class e{ngOnChanges(n){n.mail&&(this.mail=this._parseTexts(n.mail.currentValue))}_parseTexts(n){let o=ie({},n);return["title","sender","content","greetCloseMessage"].forEach(f=>{let _=o[f];if(_){_=_.replaceAll(/<PlayerName>\$player<\/>/gmi,'<span class="text-[#69ac52]">Player</span>');let F=f==="content"?'<span class="text-accent">$1</span>':"$1";_=_.replaceAll(/<NPCName>(.*?)<\/>/gmi,F),_=_.replaceAll(/<items>(.*?)<\/>/gmi,F),_=_.replaceAll(/<RickText.Place>(.*?)<\/>/gmi,F),_=_.replaceAll(/<Places>(.*?)<\/>/gmi,F),o[f]=_}}),o}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-mail"]],inputs:{mail:"mail"},features:[kt],decls:6,vars:4,consts:[[1,"font-semibold","font-coral"],["class","text-2xl mb-4 text-black",3,"innerHTML"],[1,"mb-4","whitespace-break-spaces",3,"innerHTML"],[1,"mt-4","flex","flex-col","items-end"],["class","text-accent",3,"innerHTML"],["class","text-black",3,"innerHTML"],[1,"text-2xl","mb-4","text-black",3,"innerHTML"],[1,"text-accent",3,"innerHTML"],[1,"text-black",3,"innerHTML"]],template:function(o,c){o&1&&(a(0,"div",0),p(1,kn,1,1,"div",1),u(2,"div",2),a(3,"div",3),p(4,En,1,1,"span",4)(5,Fn,1,1,"span",5),r()()),o&2&&(d(1),b(1,c.mail.title?1:-1),d(1),l("innerHTML",c.mail.content,Tt),d(2),b(4,c.mail.greetCloseMessage?4:-1),d(1),b(5,c.mail.sender?5:-1))},styles:["[_nghost-%COMP%]{display:block}"]});let t=e;return t})();function Rn(t,e){if(t&1&&u(0,"app-effect",4),t&2){let i=e.$implicit;l("effect",i)}}function Nn(t,e){if(t&1&&(a(0,"div",2)(1,"div",3),s(2,"Effects:"),r(),I(3,Rn,1,1,"app-effect",4,M),r()),t&2){let i=m();k(3,i.mail.effects)}}var ci=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-mail-details"]],inputs:{mail:"mail"},decls:3,vars:2,consts:[[3,"mail"],["class","mt-6"],[1,"mt-6"],[1,"text-lg","font-semibold"],[3,"effect"]],template:function(o,c){o&1&&(a(0,"app-card"),u(1,"app-mail",0),p(2,Nn,5,0,"div",1),r()),o&2&&(d(1),l("mail",c.mail),d(1),b(2,c.mail.effects!=null&&c.mail.effects.length?2:-1))},dependencies:[gt,Lt,vt],encapsulation:2});let t=e;return t})();var zn=["mat-button",""],jn=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],An=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var $n=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ln=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,o,c,f){this._elementRef=n,this._platform=o,this._ngZone=c,this._animationMode=f,this._focusMonitor=z(Me),this._rippleLoader=z(ke),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});let _=this._elementRef.nativeElement,F=_.classList;for(let{attribute:at,mdcClasses:rt}of $n)_.hasAttribute(at)&&F.add(...rt)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n="program",o){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,o):this._elementRef.nativeElement.focus(o)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(o){me()},e.\u0275dir=Qt({type:e,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",Xt],disabled:["disabled","disabled",Xt]},features:[pe]});let t=e;return t})();var Wt=(()=>{let e=class e extends Ln{constructor(n,o,c,f){super(n,o,c,f)}};e.\u0275fac=function(o){return new(o||e)(lt(de),lt(De),lt(se),lt(re,8))},e.\u0275cmp=h({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:9,hostBindings:function(o,c){o&2&&(A("disabled",c.disabled||null),ue(c.color?"mat-"+c.color:""),P("_mat-animation-noopable",c._animationMode==="NoopAnimations")("mat-unthemed",!c.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[S],attrs:zn,ngContentSelectors:An,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,c){o&1&&(Zt(jn),u(0,"span",0),Dt(1),a(2,"span",1),Dt(3,1),r(),Dt(4,2),u(5,"span",2)(6,"span",3)),o&2&&P("mdc-button__ripple",!c._isFab)("mdc-fab__ripple",c._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var di=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=mt({type:e}),e.\u0275inj=dt({imports:[ht,Ie,ht]});let t=e;return t})();function Hn(t,e){t&1&&(a(0,"th",17),s(1," Title"),r())}function On(t,e){if(t&1&&(a(0,"td",18),s(1),v(2,"removeTags"),r()),t&2){let i=e.$implicit;d(1),w("",y(2,1,i.title)," ")}}function Vn(t,e){t&1&&(a(0,"th",17),s(1," Sender"),r())}function Jn(t,e){if(t&1&&(a(0,"td",18),s(1),v(2,"removeTags"),r()),t&2){let i=e.$implicit;d(1),w("",y(2,1,i.sender)," ")}}function Un(t,e){t&1&&(a(0,"th",17),s(1,"Type"),r())}function Gn(t,e){if(t&1&&(a(0,"td",19),s(1),v(2,"addSpacesToPascalCase"),r()),t&2){let i=e.$implicit;d(1),w("",y(2,1,i.mailType)," ")}}function Wn(t,e){t&1&&(a(0,"th",20),s(1,"Effects"),r())}function Yn(t,e){if(t&1&&u(0,"app-effect",24),t&2){let i=e.$implicit;l("effect",i)}}function Qn(t,e){if(t&1&&(a(0,"div",23),I(1,Yn,1,1,"app-effect",25,M),r()),t&2){let i=m().$implicit;k(1,i.effects)}}function Zn(t,e){if(t&1&&(a(0,"td",21),p(1,Qn,3,0,"div",22),r()),t&2){let i=e.$implicit;d(1),b(1,i.effects!=null&&i.effects.length?1:-1)}}function Xn(t,e){t&1&&u(0,"th",20)}function qn(t,e){if(t&1){let i=N();a(0,"td",26)(1,"button",27),C("click",function(){let c=T(i).$implicit,f=m(2);return D(f.expandedRows.toggle(c.key))}),u(2,"i",28),r()()}if(t&2){let i=e.$implicit,n=m(2);d(2),P("down",!n.expandedRows.isSelected(i.key))("up",n.expandedRows.isSelected(i.key))}}function Kn(t,e){if(t&1&&(a(0,"td",21)(1,"div",29)(2,"div",30),u(3,"app-mail",31),r()()()),t&2){let i=e.$implicit,n=m(2);A("colspan",n.displayedColumns.length),d(1),P("grid-rows-0fr",!n.expandedRows.isSelected(i.key))("grid-rows-1fr",n.expandedRows.isSelected(i.key)),d(2),l("mail",i)}}function to(t,e){t&1&&u(0,"tr",32)}function eo(t,e){t&1&&u(0,"tr",33)}function io(t,e){t&1&&u(0,"tr",34)}var no=()=>["expandedDetail"];function oo(t,e){if(t&1&&(a(0,"table",1),g(1,2),p(2,Hn,2,0,"th",3)(3,On,3,3,"td",4),x(),g(4,5),p(5,Vn,2,0,"th",3)(6,Jn,3,3,"td",4),x(),g(7,6),p(8,Un,2,0,"th",3)(9,Gn,3,3,"td",7),x(),g(10,8),p(11,Wn,2,0,"th",9)(12,Zn,2,1,"td",10),x(),g(13,11),p(14,Xn,1,0,"th",9)(15,qn,3,4,"td",12),x(),g(16,13),p(17,Kn,4,6,"td",10),x(),p(18,to,1,0,"tr",14)(19,eo,1,0,"tr",15)(20,io,1,0,"tr",16),r()),t&2){let i=m();l("dataSource",i.matDataSource),d(18),l("matHeaderRowDef",i.displayHeaderColumns)("matHeaderRowDefSticky",!0),d(1),l("matRowDefColumns",i.displayedColumns),d(1),l("matRowDefColumns",Et(5,no))}}var li=(()=>{let e=class e extends nt{constructor(){super(...arguments),this.expandedRows=new Bt(!0,[]),this.BASE_DISPLAY_COLUMNS=["title","sender","mailType","effects","expand"]}};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=j(e)))(c||e)}})(),e.\u0275cmp=h({type:e,selectors:[["app-mail-table"]],features:[S],decls:2,vars:1,consts:[["class","can-expand","mat-table","","matSort","","multiTemplateDataRows","",3,"dataSource"],["mat-table","","matSort","","multiTemplateDataRows","",1,"can-expand",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col","mat-cell","",4,"matCellDef"],["matColumnDef","sender"],["matColumnDef","mailType"],["class","w-fit text-col","mat-cell","",4,"matCellDef"],["matColumnDef","effects"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expand"],["class","w-fit align-top !pt-2","mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","expand-row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"text-col"],["mat-cell","",1,"w-fit","text-col"],["mat-header-cell",""],["mat-cell",""],["class","flex flex-col py-3 gap-1"],[1,"flex","flex-col","py-3","gap-1"],[1,"whitespace-nowrap",3,"effect"],["class","whitespace-nowrap",3,"effect"],["mat-cell","",1,"w-fit","align-top","!pt-2"],["mat-button","",3,"click"],[1,"arrow"],[1,"expandable-body","grid","transition-all","duration-200","ease-in-out"],[1,"overflow-hidden"],[1,"py-4","max-w-prose",3,"mail"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"expand-row"]],template:function(o,c){o&1&&(a(0,"app-responsive-table"),p(1,oo,21,6,"table",0),r()),o&2&&(d(1),b(1,c.matDataSource?1:-1))},dependencies:[V,Lt,J,G,Z,W,U,X,Y,Q,q,K,et,it,Wt,vt,Re,Ye],styles:[".expand-row[_ngcontent-%COMP%]{--mat-table-row-item-container-height: 0;--mat-table-row-item-label-text-size: 16px}"]});let t=e;return t})();function ro(t,e){t&1&&(a(0,"th",13),s(1," Title"),r())}function co(t,e){if(t&1&&(a(0,"td",14),s(1),r()),t&2){let i=e.$implicit;d(1),w("",i.title," ")}}function mo(t,e){t&1&&u(0,"th",15)}function lo(t,e){if(t&1){let i=N();a(0,"td",16)(1,"button",17),C("click",function(){let c=T(i).$implicit,f=m(2);return D(f.expandedRows.toggle(c.key))}),u(2,"i",18),r()()}if(t&2){let i=e.$implicit,n=m(2);d(2),P("down",!n.expandedRows.isSelected(i.key))("up",n.expandedRows.isSelected(i.key))}}function so(t,e){if(t&1&&(a(0,"td",19)(1,"div",20)(2,"div",21),u(3,"app-mail",22),r()()()),t&2){let i=e.$implicit,n=m(2);A("colspan",n.displayedColumns.length),d(1),P("grid-rows-0fr",!n.expandedRows.isSelected(i.key))("grid-rows-1fr",n.expandedRows.isSelected(i.key)),d(2),l("mail",i)}}function po(t,e){t&1&&u(0,"tr",23)}function uo(t,e){t&1&&u(0,"tr",24)}function bo(t,e){t&1&&u(0,"tr",25)}var fo=()=>["expandedDetail"];function _o(t,e){if(t&1&&(a(0,"table",1),g(1,2),p(2,ro,2,0,"th",3)(3,co,2,1,"td",4),x(),g(4,5),p(5,mo,1,0,"th",6)(6,lo,3,4,"td",7),x(),g(7,8),p(8,so,4,6,"td",9),x(),p(9,po,1,0,"tr",10)(10,uo,1,0,"tr",11)(11,bo,1,0,"tr",12),r()),t&2){let i=m();l("dataSource",i.matDataSource),d(9),l("matHeaderRowDef",i.displayHeaderColumns)("matHeaderRowDefSticky",!0),d(1),l("matRowDefColumns",i.displayedColumns),d(1),l("matRowDefColumns",Et(5,fo))}}var si=(()=>{let e=class e extends nt{constructor(){super(...arguments),this.expandedRows=new Bt(!0,[]),this.BASE_DISPLAY_COLUMNS=["title","expand"]}};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=j(e)))(c||e)}})(),e.\u0275cmp=h({type:e,selectors:[["app-torn-pages-table"]],features:[S],decls:2,vars:1,consts:[["class","can-expand","mat-table","","matSort","","multiTemplateDataRows","",3,"dataSource"],["mat-table","","matSort","","multiTemplateDataRows","",1,"can-expand",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col","mat-cell","",4,"matCellDef"],["matColumnDef","expand"],["mat-header-cell","",4,"matHeaderCellDef"],["class","w-fit align-top !pt-2","mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","expand-row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"text-col"],["mat-header-cell",""],["mat-cell","",1,"w-fit","align-top","!pt-2"],["mat-button","",3,"click"],[1,"arrow"],["mat-cell",""],[1,"expandable-body","grid","transition-all","duration-200","ease-in-out"],[1,"overflow-hidden"],[1,"py-4","max-w-prose",3,"mail"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"expand-row"]],template:function(o,c){o&1&&(a(0,"app-responsive-table"),p(1,_o,12,6,"table",0),r()),o&2&&(d(1),b(1,c.matDataSource?1:-1))},dependencies:[V,J,G,Z,W,U,X,Y,Q,q,K,et,it,Wt,vt],styles:[".expand-row[_ngcontent-%COMP%]{--mat-table-row-item-container-height: 0;--mat-table-row-item-label-text-size: 16px}"]});let t=e;return t})();var pi=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-torn-page"]],inputs:{tornPage:"tornPage"},decls:5,vars:2,consts:[[1,"font-semibold","font-coral"],[1,"text-2xl","mb-4","text-black"],[1,"mb-4","whitespace-break-spaces"]],template:function(o,c){o&1&&(a(0,"div",0)(1,"div",1),s(2),r(),a(3,"div",2),s(4),r()()),o&2&&(d(2),R(c.tornPage.title),d(2),R(c.tornPage.content))},encapsulation:2});let t=e;return t})();var ui=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-torn-page-details"]],inputs:{tornPage:"tornPage"},decls:2,vars:1,consts:[[3,"tornPage"]],template:function(o,c){o&1&&(a(0,"app-card"),u(1,"app-torn-page",0),r()),o&2&&(d(1),l("tornPage",c.tornPage))},dependencies:[gt,pi],encapsulation:2});let t=e;return t})();function Co(t,e){if(t&1&&u(0,"app-mail-details",2),t&2){let i=m();l("mail",i.selectedEntity)}}function vo(t,e){if(t&1&&u(0,"app-torn-page-details",3),t&2){let i=m();l("tornPage",i.selectedTornPage)}}function yo(t,e){if(t&1){let i=N();a(0,"app-item-icon",11),C("click",function(){let c=T(i).$implicit,f=m(3);return D(f.showDetails(c))}),r()}if(t&2){let i=e.$implicit,n=m(3);P("selected-icon",(n.selectedEntity==null?null:n.selectedEntity.key)===i.key)}}function wo(t,e){if(t&1&&(a(0,"div",10),I(1,yo,1,2,"app-item-icon",12,M),r()),t&2){let i=m(2);k(1,i.mails)}}function To(t,e){if(t&1&&u(0,"app-mail-table",9),t&2){let i=m(2);l("dataSource",i.mails)}}function Do(t,e){if(t&1){let i=N();a(0,"app-item-icon",11),C("click",function(){let c=T(i).$implicit,f=m(3);return D(f.showTornPageDetails(c))}),r()}if(t&2){let i=e.$implicit,n=m(3);P("selected-icon",(n.selectedTornPage==null?null:n.selectedTornPage.key)===i.key)}}function So(t,e){if(t&1&&(a(0,"div",10),I(1,Do,1,2,"app-item-icon",12,M),r()),t&2){let i=m(2);k(1,i.tornPages)}}function Mo(t,e){if(t&1&&u(0,"app-torn-pages-table",9),t&2){let i=m(2);l("dataSource",i.tornPages)}}function Io(t,e){if(t&1){let i=N();a(0,"mat-tab-group",5),C("selectedTabChange",function(o){T(i);let c=m();return D(c.updateUrl(o))}),a(1,"mat-tab",6)(2,"app-data-filter",7),C("showTableChange",function(o){T(i);let c=m();return D(c.showTable=o)}),r(),p(3,wo,3,0,"div",8)(4,To,1,1,"app-mail-table",9),r(),a(5,"mat-tab",6)(6,"app-data-filter",7),C("showTableChange",function(o){T(i);let c=m();return D(c.showTornPagesTable=o)}),r(),p(7,So,3,0,"div",8)(8,Mo,1,1,"app-torn-pages-table",9),r()()}if(t&2){let i=m();l("selectedIndex",i.selectedTabIndex),d(1),l("label",i.tabNames[0]),d(1),l("showTable",i.showTable),d(1),b(3,i.showTable?-1:3),d(1),b(4,i.showTable?4:-1),d(1),l("label",i.tabNames[1]),d(1),l("showTable",i.showTornPagesTable),d(1),b(7,i.showTornPagesTable?-1:7),d(1),b(8,i.showTornPagesTable?8:-1)}}var bi=(()=>{let e=class e extends $t{constructor(){super(),this.showTornPagesTable=!1,this.mails=[],this.tornPages=[],this.tabNames=["Letters","Torn pages"],this.data$=ft([this._database.fetchMailData$(),this._database.fetchTornPagesData$()]).pipe(ae(([n,o])=>{this.mails=n,this.tornPages=o;let c=this.selectedId;if(c){let f=this.mails.find(F=>F.key.toLowerCase()===c.toLowerCase());f&&this.showDetails(f);let _=this.tornPages.find(F=>F.key.toLowerCase()===c.toLowerCase());_&&this.showTornPageDetails(_)}this.activateTabFromRoute(this.tabNames)}))}showDetails(n){this.selectedTornPage=void 0,super.showDetails(n)}showTornPageDetails(n){this.selectedEntity=void 0,this.selectedTornPage=n,this.openDrawer=!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-notes"]],features:[S],decls:6,vars:6,consts:[[3,"openDrawer","openDrawerChange"],["listDetail",""],[3,"mail"],[3,"tornPage"],["class","px-2 xl:px-[50px] w-full","mat-stretch-tabs","false",3,"selectedIndex"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],[3,"label"],[3,"showTable","showTableChange"],["class","grid gap-4 icon-grid  mt-8"],[3,"dataSource"],[1,"grid","gap-4","icon-grid","mt-8"],["itemName","Torn_page",1,"icon-grid-item",3,"click"],["class","icon-grid-item","itemName","Torn_page",3,"selected-icon"]],template:function(o,c){o&1&&(a(0,"app-list-detail-container",0),C("openDrawerChange",function(_){return c.openDrawer=_}),g(1,1),p(2,Co,1,1,"app-mail-details",2)(3,vo,1,1,"app-torn-page-details",3),x(),p(4,Io,9,9,"mat-tab-group",4),v(5,"async"),r()),o&2&&(l("openDrawer",c.openDrawer),d(2),b(2,c.selectedEntity?2:-1),d(1),b(3,c.selectedTornPage?3:-1),d(1),b(4,y(5,4,c.data$)?4:-1))},dependencies:[B,H,tt,ut,O,ci,li,si,ui,$],encapsulation:2});let t=e;return t})();var fi=(()=>{let e=class e{constructor(){this.version=z(Ce).getSettings().useBeta?"beta":"live",this._setClass=!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-bestiary-image"]],hostVars:2,hostBindings:function(o,c){o&2&&P("bestiary-image",c._setClass)},inputs:{imageName:"imageName"},decls:1,vars:2,consts:[["alt","","loading","lazy","onerror","this.onerror=null;this.src='assets/ui/images/placeholder.png'",1,"w-full","h-auto",3,"src"]],template:function(o,c){o&1&&u(0,"img",0),o&2&&fe("src","assets/",c.version,"/items/icons/",c.imageName,".webp",ce)},encapsulation:2});let t=e;return t})();function Eo(t,e){if(t&1&&u(0,"app-item-icon",1),t&2){let i=m();be("itemName",i.enemy.iconName)}}function Fo(t,e){if(t&1&&u(0,"app-bestiary-image",2),t&2){let i=m();l("imageName",i.enemy.image)}}function Po(t,e){if(t&1&&(a(0,"span",10),s(1),r()),t&2){let i=m();d(1),R(i.enemy.description)}}var _i=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-bestiary-details"]],inputs:{enemy:"enemy"},decls:15,vars:6,consts:[[1,"text-lg","font-semibold","relative"],["cardIcon","",3,"itemName"],[3,"imageName"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col"],[1,"text-black","text-2xl"],[1,"my-5"],["class","text-lg mb-6"],[1,"text-black"],[1,"block","my-2",3,"chances"],[1,"text-lg","mb-6"]],template:function(o,c){o&1&&(a(0,"app-card",0),p(1,Eo,1,1,"app-item-icon",1)(2,Fo,1,1,"app-bestiary-image",2),a(3,"div",3)(4,"div",4)(5,"div",5),s(6),r()()(),u(7,"hr",6),p(8,Po,2,1,"span",7),a(9,"div"),s(10," Experience: "),a(11,"span",8),s(12),r()(),s(13," Drops: "),u(14,"app-chance-per-item-list",9),r()),o&2&&(d(1),b(1,c.enemy.image?-1:1),d(1),b(2,c.enemy.image?2:-1),d(4),R(c.enemy.displayName),d(2),b(8,c.enemy.description?8:-1),d(4),R(c.enemy.experience),d(2),l("chances",c.enemy.dropRates))},dependencies:[B,gt,Qe,fi],styles:[".bestiary-image[_ngcontent-%COMP%]{border-top-left-radius:30px;border-top-right-radius:30px;overflow:hidden;margin:-20px -20px .5rem}@screen xl{.bestiary-image {margin: -36px -36px .5rem;}}"]});let t=e;return t})();function No(t,e){if(t&1&&(a(0,"td",11),u(1,"app-item-icon",12),r()),t&2){let i=e.$implicit;d(1),l("itemName",i.iconName)}}function Bo(t,e){t&1&&(a(0,"th",13),s(1,"Item "),r()),t&2&&A("colspan",2)}function zo(t,e){if(t&1&&(a(0,"td",14),s(1),r()),t&2){let i=e.$implicit;d(1),w(" ",i.displayName," ")}}function jo(t,e){t&1&&(a(0,"th",15),s(1,"Drops"),r())}function Ao(t,e){if(t&1&&(a(0,"td",14),u(1,"app-chance-per-item-table-list",16),r()),t&2){let i=e.$implicit;d(1),l("chances",i.dropRates)}}function $o(t,e){t&1&&(a(0,"th",13),s(1,"Exp"),r())}function Lo(t,e){if(t&1&&(a(0,"td",14),s(1),r()),t&2){let i=e.$implicit;d(1),w(" ",i.experience," ")}}function Ho(t,e){t&1&&u(0,"tr",17)}function Oo(t,e){t&1&&u(0,"tr",18)}function Vo(t,e){if(t&1&&(a(0,"table",0),g(1,1),p(2,No,2,1,"td",2),x(),g(3,3),p(4,Bo,2,1,"th",4)(5,zo,2,1,"td",5),x(),g(6,6),p(7,jo,2,0,"th",7)(8,Ao,2,1,"td",5),x(),g(9,8),p(10,$o,2,0,"th",4)(11,Lo,2,1,"td",5),x(),p(12,Ho,1,0,"tr",9)(13,Oo,1,0,"tr",10),r()),t&2){let i=m();l("dataSource",i.matDataSource),d(12),l("matHeaderRowDef",i.displayHeaderColumns)("matHeaderRowDefSticky",!0),d(1),l("matRowDefColumns",i.displayedColumns)}}var hi=(()=>{let e=class e extends nt{constructor(){super(...arguments),this.BASE_DISPLAY_COLUMNS=["icon","displayName","experience","dropRates"]}};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=j(e)))(c||e)}})(),e.\u0275cmp=h({type:e,selectors:[["app-bestiary-table"]],features:[S],decls:2,vars:1,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","icon","sticky",""],["class","!pl-2 !pr-0 w-10 text-center icon-col ","mat-cell","",4,"matCellDef"],["matColumnDef","displayName"],["class","backdrop-blur-xl","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","text-col whitespace-nowrap","mat-cell","",4,"matCellDef"],["matColumnDef","dropRates"],["class","backdrop-blur-xl","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","experience"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"!pl-2","!pr-0","w-10","text-center","icon-col"],[3,"itemName"],["mat-header-cell","","mat-sort-header","",1,"backdrop-blur-xl"],["mat-cell","",1,"text-col","whitespace-nowrap"],["mat-header-cell","",1,"backdrop-blur-xl"],[3,"chances"],["mat-header-row",""],["mat-row",""]],template:function(o,c){o&1&&(a(0,"app-responsive-table"),p(1,Vo,14,4,"table",0),r()),o&2&&(d(1),b(1,c.matDataSource?1:-1))},dependencies:[B,V,Ze,J,G,Z,W,U,X,Y,Q,q,K,et,it],encapsulation:2});let t=e;return t})();function Uo(t,e){if(t&1&&u(0,"app-bestiary-details",1),t&2){let i=m();l("enemy",i.selectedEntity)}}function Go(t,e){if(t&1){let i=N();a(0,"app-item-icon",7),C("click",function(){let c=T(i).$implicit,f=m(3);return D(f.showDetails(c))}),r()}if(t&2){let i=e.$implicit,n=m(3);P("selected-icon",(n.selectedEntity==null?null:n.selectedEntity.key)===i.key),l("itemName",i.iconName)}}function Wo(t,e){if(t&1&&(a(0,"div",6),I(1,Go,1,3,"app-item-icon",8,M),r()),t&2){let i=m();k(1,i)}}function Yo(t,e){if(t&1&&u(0,"app-bestiary-table",5),t&2){let i=m();l("dataSource",i)}}function Qo(t,e){if(t&1&&p(0,Wo,3,0,"div",4)(1,Yo,1,1,"app-bestiary-table",5),t&2){let i=m();b(0,i.showTable?-1:0),d(1),b(1,i.showTable?1:-1)}}var gi=(()=>{let e=class e extends Ue{constructor(){super(...arguments),this.bestiary$=z(Nt).fetchBestiary$()}};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=j(e)))(c||e)}})(),e.\u0275cmp=h({type:e,selectors:[["app-bestiary"]],features:[S],decls:6,vars:6,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"enemy"],[1,"px-2","xl:px-[50px]","w-full","max-w-full-safe"],[3,"showTable","showTableChange"],["class","grid gap-4 icon-grid"],[3,"dataSource"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item",3,"itemName","click"],["class","icon-grid-item",3,"selected-icon","itemName"]],template:function(o,c){if(o&1&&(a(0,"app-list-detail-container",0),C("openDrawerChange",function(_){return c.openDrawer=_}),p(1,Uo,1,1,"app-bestiary-details",1),a(2,"div",2)(3,"app-data-filter",3),C("showTableChange",function(_){return c.showTable=_}),r(),p(4,Qo,2,2),v(5,"async"),r()()),o&2){let f;l("openDrawer",c.openDrawer),d(1),b(1,c.selectedEntity?1:-1),d(2),l("showTable",c.showTable),d(1),b(4,(f=y(5,4,c.bestiary$))?4:-1,f)}},dependencies:[B,H,tt,_i,hi,$],encapsulation:2});let t=e;return t})();var Zo=[{path:"",pathMatch:"full",redirectTo:"produce"},{path:"",component:Ke,children:[{path:"caught",redirectTo:"caught/",pathMatch:"full"},{path:"caught/:tabName",component:Ht,title:"Caught - Journal"},{path:"found",redirectTo:"found/",pathMatch:"full"},{path:"found/:tabName",component:ei,title:"Found - Journal"},{path:"produce",redirectTo:"produce/",pathMatch:"full"},{path:"produce/:tabName",component:oi,title:"Produce - Journal"},{path:"bestiary",component:gi,title:"Bestiary - Journal"},{path:"notes",redirectTo:"notes/",pathMatch:"full"},{path:"notes/:tabName",component:bi,title:"Notes - Journal"},{path:"achievements",redirectTo:"achievements/",pathMatch:"full"},{path:"achievements/:achievementId",component:ai,title:"Achievements - Journal"}]}],xi=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=mt({type:e}),e.\u0275inj=dt({imports:[Kt.forChild(Zo),Kt]});let t=e;return t})();function Xo(t,e){if(t&1&&(a(0,"div"),s(1,"Size: "),a(2,"span",2),s(3),r()()),t&2){let i=m(2);d(3),R(i.critter.fishSize)}}function qo(t,e){if(t&1&&(a(0,"div"),s(1," Season: "),a(2,"span",2),s(3),r()()),t&2){let i=m(2);d(3),R(i.critter.isUsingSpecificDate?i.dateRangesToString(i.critter.dateRangeList):i.getTruthyValues(i.critter.spawnSeason))}}function Ko(t,e){if(t&1&&(a(0,"div"),s(1," Season: "),a(2,"span",2),s(3),r()()),t&2){let i=m(2);d(3),R(i.getTruthyValues(i.critter.spawnSeason))}}function ta(t,e){t&1&&(a(0,"div"),s(1,"Weather: "),a(2,"span",2),s(3),r()()),t&2&&(d(3),R(e))}function ea(t,e){if(t&1&&(a(0,"div",3)(1,"span"),s(2),r(),a(3,"span",2),s(4),r()()),t&2){let i=e.$implicit;d(2),R(i[0]),d(2),R(i[1])}}function ia(t,e){if(t&1&&(a(0,"div"),s(1,"Spawn amount modifiers "),I(2,ea,5,2,"div",4,M),u(4,"hr"),r()),t&2){let i=m(3);k(2,i.critter.spawnAmountModifiers)}}function na(t,e){if(t&1&&p(0,ia,5,0,"div"),t&2){let i=m(2);b(0,i.critter.spawnAmountModifiers&&i.critter.spawnAmountModifiers.length?0:-1)}}function oa(t,e){if(t&1){let i=N();a(0,"app-base-item-card",1),C("addedToToDo",function(){T(i);let o=m();return D(o.registerToToDo&&o.registerToToDo(o.critter))}),a(1,"div"),s(2,"Rarity: "),a(3,"span",2),s(4),v(5,"spacesToPascalCase"),r()(),p(6,Xo,4,1,"div"),v(7,"isFish"),a(8,"div"),s(9,"Time: "),a(10,"span",2),s(11),r()(),p(12,qo,4,1,"div"),v(13,"isFish"),p(14,Ko,4,1,"div"),v(15,"isFish"),p(16,ta,4,1,"div"),a(17,"div"),s(18," Location: "),a(19,"span",2),s(20),r()(),p(21,na,1,1),v(22,"isFish"),r()}if(t&2){let i=m(),n;l("toDoCategory",i.toDoCategory)("item",i.critter.item),d(4),R(y(5,10,i.critter.rarity)),d(2),b(6,y(7,12,i.critter)?6:-1),d(5),R(i.getTruthyValues(i.critter.spawnTime)),d(1),b(12,y(13,14,i.critter)?12:-1),d(2),b(14,y(15,16,i.critter)?-1:14),d(2),b(16,(n=i.getTruthyValues(i.critter.spawnWeather))?16:-1,n),d(4),R(i.critter.spawnLocation.join(", ")),d(1),b(21,y(22,18,i.critter)?-1:21)}}var Ci=(()=>{let e=class e{constructor(){this.getTruthyValues=ct}ngOnInit(){this._setCategory()}dateRangesToString(n){return n.map(o=>`From ${o.startsFrom.season} ${o.startsFrom.day} to ${o.lastsTill.season} ${o.lastsTill.day}`).join(", ")}ngOnChanges(n){n.critter&&this._setCategory()}_setCategory(){this.toDoCategory="fishName"in this.critter?L.JOURNAL_FISH:this.critter.item.inventoryCategory.toLocaleLowerCase()==="bug"?L.JOURNAL_INSECTS:L.JOURNAL_CRITTER}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-caught-details"]],inputs:{critter:"critter",registerToToDo:"registerToToDo"},features:[kt],decls:1,vars:1,consts:[[3,"toDoCategory","item"],[3,"toDoCategory","item","addedToToDo"],[1,"text-black"],[1,"flex","justify-between"],["class","flex justify-between"]],template:function(o,c){o&1&&p(0,oa,23,20,"app-base-item-card",0),o&2&&b(0,c.critter?0:-1)},dependencies:[xt,He,Ge],encapsulation:2});let t=e;return t})();var vi=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=mt({type:e}),e.\u0275inj=dt({imports:[ht,Pt,ht]});let t=e;return t})();var yi=new Map([["Common",10],["Uncommon",20],["Rare",30],["Super Rare",40],["SuperRare",40],["Legendary",50]]),wi=new Map([["Small",10],["Medium",20],["Large",30],["Gigantic",40]]);function aa(t,e){if(t&1&&(a(0,"td",15),u(1,"app-item-icon",16),r()),t&2){let i=e.$implicit;d(1),l("itemName",i.item.iconName)}}function ra(t,e){t&1&&(a(0,"th",17),s(1," Name"),r()),t&2&&A("colspan",2)}function ca(t,e){if(t&1&&(a(0,"td",18),s(1),r()),t&2){let i=e.$implicit;d(1),w("",i.item.displayName," ")}}function da(t,e){t&1&&(a(0,"th",17),s(1," Rarity"),r())}function ma(t,e){if(t&1&&(a(0,"td",18),s(1),r()),t&2){let i=e.$implicit,n=m(2);d(1),w("",n.addSpacesToPascalCase(i.rarity)," ")}}function la(t,e){t&1&&(a(0,"th",19),s(1," Location"),r())}function sa(t,e){if(t&1&&(a(0,"td",18),s(1),r()),t&2){let i=e.$implicit;d(1),w("",i.spawnLocation.join(", ")," ")}}function pa(t,e){t&1&&(a(0,"th",17),s(1," Weather"),r())}function ua(t,e){if(t&1&&(a(0,"td",18),s(1),r()),t&2){let i=e.$implicit,n=m(2);d(1),w("",n.getTruthyValues(i.spawnWeather)," ")}}function ba(t,e){t&1&&(a(0,"th",19),s(1," Season"),r())}function fa(t,e){if(t&1&&s(0),t&2){let i=m().$implicit,n=m(2);w(`
`,n.getTruthyValues(i.spawnSeason),`
`)}}function _a(t,e){if(t&1&&(a(0,"div",20),s(1),r()),t&2){let i=e.$implicit,n=e.$index,o=e.$count;d(1),_t("",i,"",n!==o-1?", ":""," ")}}function ha(t,e){if(t&1&&I(0,_a,2,2,"div",21,M),t&2){let i=m().$implicit,n=m(2);k(0,n.dateRangesToString(i.dateRangeList))}}function ga(t,e){if(t&1&&(a(0,"td",18),p(1,fa,1,1)(2,ha,2,0),r()),t&2){let i=e.$implicit;d(1),b(1,i.isUsingSpecificDate?-1:1),d(1),b(2,i.isUsingSpecificDate?2:-1)}}function xa(t,e){t&1&&(a(0,"th",17),s(1," Time"),r())}function Ca(t,e){if(t&1&&(a(0,"td",18),s(1),r()),t&2){let i=e.$implicit,n=m(2);d(1),w("",n.getTruthyValues(i.spawnTime)," ")}}function va(t,e){t&1&&(a(0,"th",17),s(1," Size"),r())}function ya(t,e){if(t&1&&(a(0,"td",18),s(1),r()),t&2){let i=e.$implicit;d(1),w("",i.fishSize," ")}}function wa(t,e){t&1&&u(0,"tr",22)}function Ta(t,e){t&1&&u(0,"tr",23)}function Da(t,e){if(t&1&&(a(0,"table",0),g(1,1),p(2,aa,2,1,"td",2),x(),g(3,3),p(4,ra,2,1,"th",4)(5,ca,2,1,"td",5),x(),g(6,6),p(7,da,2,0,"th",4)(8,ma,2,1,"td",5),x(),g(9,7),p(10,la,2,0,"th",8)(11,sa,2,1,"td",5),x(),g(12,9),p(13,pa,2,0,"th",4)(14,ua,2,1,"td",5),x(),g(15,10),p(16,ba,2,0,"th",8)(17,ga,3,2,"td",5),x(),g(18,11),p(19,xa,2,0,"th",4)(20,Ca,2,1,"td",5),x(),g(21,12),p(22,va,2,0,"th",4)(23,ya,2,1,"td",5),x(),p(24,wa,1,0,"tr",13)(25,Ta,1,0,"tr",14),r()),t&2){let i=m();l("dataSource",i.matDataSource),d(24),l("matHeaderRowDef",i.displayHeaderColumns)("matHeaderRowDefSticky",!0),d(1),l("matRowDefColumns",i.displayedColumns)}}var Ti=(()=>{let e=class e extends nt{constructor(){super(...arguments),this.getTruthyValues=ct,this.addSpacesToPascalCase=ve,this.BASE_DISPLAY_COLUMNS=["icon","key","rarity","weather","season","time","location"],this.sortingDataAccessor=(n,o)=>{switch(o){case"rarity":return yi.get(n[o])??0;case"key":return n[o];case"time":return ct(n.spawnTime)==="Any"?1:n.spawnTime.morning?10:n.spawnTime.afternoon?20:n.spawnTime.evening?30:n.spawnTime.night?40:0;case"weather":return ct(n.spawnWeather)==="Any"?1:n.spawnWeather.sunny?10:n.spawnWeather.rain?20:n.spawnWeather.snow?30:n.spawnWeather.blizzard?40:n.spawnWeather.windy?50:n.spawnWeather.storm?60:0}if(this._isFish(n))switch(o){case"fishSize":return wi.get(n.fishSize)??0;default:}return 0}}static _isFishArray(n){return!!n?.[0]&&"fishName"in n[0]}dateRangesToString(n){return n.map(o=>`From ${o.startsFrom.season} ${o.startsFrom.day} to ${o.lastsTill.season} ${o.lastsTill.day}`)}setupDataSource(n){super.setupDataSource(n),e._isFishArray(this.dataSource)&&(this.displayedColumns.splice(3,0,"fishSize"),this.displayHeaderColumns.splice(2,0,"fishSize"))}_isFish(n){return!!n&&"fishName"in n}};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=j(e)))(c||e)}})(),e.\u0275cmp=h({type:e,selectors:[["app-caught-table"]],features:[S],decls:2,vars:1,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","icon","sticky",""],["mat-cell","","class","!px-2 ",4,"matCellDef"],["matColumnDef","key"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rarity"],["matColumnDef","location"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","weather"],["matColumnDef","season"],["matColumnDef","time"],["matColumnDef","fishSize"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"!px-2"],[1,"mx-2",3,"itemName"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"whitespace-nowrap"],["class","whitespace-nowrap"],["mat-header-row",""],["mat-row",""]],template:function(o,c){o&1&&(a(0,"app-responsive-table"),p(1,Da,26,4,"table",0),r()),o&2&&(d(1),b(1,c.matDataSource?1:-1))},dependencies:[B,V,J,G,Z,W,U,X,Y,Q,q,K,et,it],encapsulation:2});let t=e;return t})();var Dd=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=mt({type:e}),e.\u0275inj=dt({imports:[Pt,xi,Xe,$e,vi,Ae,Le,Ve,Ne,ze,Be,qe,di,Pe]});let t=e;return t})();_e(Ht,[B,H,tt,ut,O,Ci,Ti],[$]);export{ni as a,Wt as b,di as c,hi as d,Ti as e,Dd as f};
