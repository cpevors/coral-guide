import{a as B,b as dt}from"./chunk-7IFOP52N.js";import{f as P,g as V}from"./chunk-MXT3O4VA.js";import{a as Et}from"./chunk-YBC3GFJ3.js";import"./chunk-WEZ63LNF.js";import{$a as W,$c as nt,Ad as ct,Ba as p,Da as b,Ga as d,Ha as E,Hd as pt,Ia as I,Ja as w,K as $,Ka as r,La as a,Le as St,Ma as k,N as x,P as v,Q,Qa as D,Qd as ut,Rb as ot,Sa as h,Sd as ft,Ta as c,Ua as J,Va as K,W as y,Wd as Ct,X as g,Xd as _t,_d as ht,ab as X,af as N,ba as H,bb as Z,ca as M,cc as it,cf as Tt,d as j,da as T,e as q,ed as rt,ee as S,f as z,fb as m,fd as at,gb as C,hb as tt,hd as L,ib as et,id as lt,la as s,ne as xt,pe as yt,qe as gt,re as Dt,sa as G,sd as st,u as U,ua as Y,ue as vt,uf as bt,xa as u,xd as mt}from"./chunk-A6GZZ5JF.js";var O=["offerings","journal_fish","journal_critter","journal_insects","journal_gems","journal_fossils","journal_artifacts","journal_crops","journal_animal_produce","journal_scavangables","journal_ocean_produce","cooking_recipes","crafting","artisan","museum","uncategorized","item_mixing","database"],F={offerings:"Offerings",journal_fish:"Fish",journal_critter:"Sea Critter",journal_insects:"Insects",journal_gems:"Gems",journal_fossils:"Fossils",journal_artifacts:"Artifacts",journal_crops:"Crops",journal_animal_produce:"Animal Produce",journal_ocean_produce:"Ocean Produce",journal_scavangables:"Scavangables",cooking_recipes:"Cooking recipes",crafting:"Crafting",artisan:"Artisan",museum:"Museum",uncategorized:"Uncategorized",item_mixing:"Item mixing",database:"Database"};var Mt=["*"];function Bt(e,o){if(e&1&&k(0,"app-rarity-icon",6),e&2){let t=c(2);p("quality",t.quality())}}function Nt(e,o){if(e&1){let t=D();r(0,"div",3),h("click",function(){y(t);let l=c();return g(l.entrySelected.emit(l.item()))}),k(1,"app-item-icon",4),r(2,"span",5),m(3),a(),u(4,Bt,1,1,"app-rarity-icon",6),a()}if(e&2){let t=c();s(),p("itemName",t.item().iconName),s(),b("line-through",t.isChecked),s(),C(t.item().displayName),s(),d(t.quality()?4:-1)}}var It=(()=>{var o,t;let n=class n{constructor(){q(this,o);q(this,t);this.amount=T(),this.quality=T(),this.item=T.required(),this.category=T.required(),this.entrySelected=M(),this.qualities=it,this.isChecked=!1,z(this,o,x(S)),z(this,t,x(H))}ngOnInit(){j(this,o).categoryCompleted$().pipe(N(j(this,t)),U(i=>i===this.category())).subscribe({next:()=>{this.toggleCompletionStatus(!0),this.checkbox&&(this.checkbox.checked=!0)}})}toggleCompletionStatus(i){this.isChecked=i,j(this,o).updateStatus(this.category(),this.item(),i)}};o=new WeakMap,t=new WeakMap,n.\u0275fac=function(f){return new(f||n)},n.\u0275cmp=v({type:n,selectors:[["app-to-do-entry-base"]],viewQuery:function(f,_){if(f&1&&W(B,7),f&2){let A;X(A=Z())&&(_.checkbox=A.first)}},hostVars:2,hostBindings:function(f,_){f&2&&b("opacity-50",_.isChecked)},inputs:{amount:[1,"amount"],quality:[1,"quality"],item:[1,"item"],category:[1,"category"]},outputs:{entrySelected:"entrySelected"},ngContentSelectors:Mt,decls:5,vars:2,consts:[[1,"flex","gap-2","items-center","cursor-pointer"],[1,"ml-auto","font-semibold","mr-4"],[3,"change"],[1,"flex","gap-2","items-center","cursor-pointer",3,"click"],[1,"!w-7",3,"itemName"],[1,"ml-1","whitespace-nowrap"],[1,"!w-4",3,"quality"]],template:function(f,_){f&1&&(J(),u(0,Nt,5,5,"div",0),K(1),r(2,"span",1),m(3),a(),r(4,"mat-checkbox",2),h("change",function(jt){return _.toggleCompletionStatus(jt.checked)}),a()),f&2&&(d(_.item()?0:-1),s(3),C(_.amount()?"x"+_.amount():""))},dependencies:[_t,Ct,B],styles:["[_nghost-%COMP%]{display:flex;height:48px;align-items:center;gap:.5rem;border-radius:1rem;background-color:rgb(0 0 0 / var(--tw-bg-opacity));--tw-bg-opacity: .05;padding-left:1rem;padding-right:1rem;font-size:1.125rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}"]});let e=n;return e})();function Vt(e,o){if(e&1){let t=D();r(0,"app-to-do-entry-base",4),h("entrySelected",function(l){y(t);let i=c(2);return g(i.entrySelected.emit(l))}),a()}if(e&2){let t=o.$implicit,n=c(2);p("amount",t.amount)("category",n.context)("item",t.itemEntry)("quality",t.quality)("@leaveAnimation",void 0)}}function Ft(e,o){if(e&1){let t=D();r(0,"header",0)(1,"h2",1),m(2),a(),r(3,"button",2),h("click",function(){y(t);let l=c();return g(l.completeList())}),m(4,"complete list"),a()(),r(5,"div"),I(6,Vt,1,5,"app-to-do-entry-base",3,E),a()}if(e&2){let t=c();s(2),C(t.context==="uncategorized"||t.context===void 0?"Uncategorized":t.ToDoContextDisplayNames[t.context]),s(3),p("@.disabled",!(t.toDoId!=null&&t.toDoId.includes(t.context)||t.toDoId===void 0)),s(),w(t.data)}}var wt=(()=>{let o=class o{constructor(){this.entrySelected=M(),this.ToDoContextDisplayNames=F,this._toDoService=x(S)}get data(){return this._toDoService.getCategoryList(this.context==="uncategorized"?void 0:this.context)}get hidden(){return!this.toDoId?.includes(this.context)||!this.data.length}completeList(){this._toDoService.completeCategory(this.context==="uncategorized"?void 0:this.context)}};o.\u0275fac=function(l){return new(l||o)},o.\u0275cmp=v({type:o,selectors:[["app-to-do-partial"]],hostVars:2,hostBindings:function(l,i){l&2&&b("hidden",i.hidden)},inputs:{context:"context",toDoId:"toDoId"},outputs:{entrySelected:"entrySelected"},decls:1,vars:1,consts:[[1,"flex","justify-between","items-center","mt-5","mb-2"],[1,"font-semibold","text-xl","text-black"],[1,"btn-amber",3,"click"],[1,"mb-2","block",3,"amount","category","item","quality"],[1,"mb-2","block",3,"entrySelected","amount","category","item","quality"]],template:function(l,i){l&1&&u(0,Ft,8,2),l&2&&d(i.data.length&&(i.toDoId!=null&&i.toDoId.includes(i.context))?0:-1)},dependencies:[It],encapsulation:2,data:{animation:[rt("leaveAnimation",[lt(":leave",[L({height:"*",opacity:1}),at("200ms ease-in",L({height:0,opacity:0}))])])]}});let e=o;return e})();function qt(e,o){if(e&1&&k(0,"app-offering",12),e&2){let t=o.$implicit;p("details",t)}}function zt(e,o){if(e&1&&(r(0,"app-item-card-switch",1),u(1,qt,1,1,"ng-template",11),a()),e&2){let t=c();p("item",t.selectedEntity)("context",t.selectedContext())}}function Lt(e,o){e&1&&m(0," All ")}function Ot(e,o){if(e&1&&(r(0,"span",13),m(1),a()),e&2){let t=c(3);s(),et(" (+",t.toDoCategoryControl.value.length-1," ",t.toDoCategoryControl.value.length===2?"other":"others"," ) ")}}function Rt(e,o){if(e&1&&(m(0),u(1,Ot,2,2,"span",13)),e&2){let t=c(2);tt(" ",t.toDoCategoryControl.value[0]!=="all"?t.toDoCategoryControl.value[0]==="uncategorized"?"Uncategorized":t.toDoContextDisplayNames[t.toDoCategoryControl.value[0]]:""," "),s(),d(t.toDoCategoryControl.value.length>1?1:-1)}}function Ut(e,o){if(e&1&&u(0,Rt,2,2),e&2){let t=c();d(t.toDoCategoryControl.value.length?0:-1)}}function $t(e,o){if(e&1&&(r(0,"mat-option",7)(1,"div",2)(2,"span"),m(3),a(),r(4,"span"),m(5),a()()()),e&2){let t=o.$implicit,n=c();p("value",t),s(3),C(n.toDoContextDisplayNames[t]),s(2),C(n.toDoService.getCategoryList(t).length)}}function Qt(e,o){if(e&1){let t=D();r(0,"app-to-do-partial",14),h("entrySelected",function(l){let i=y(t).$implicit,f=c();return g(f.openEntry(l,i))}),a()}if(e&2){let t=o.$implicit,n=c();p("context",t)("toDoId",n.toDoCategoryControl.value)}}function Ht(e,o){e&1&&(r(0,"div",10)(1,"h2",15),m(2,"No entries in to-do list"),a(),r(3,"p",16),m(4," Your current to-do list is empty! Visit the "),r(5,"a",17),m(6,"journal"),a(),m(7,", the "),r(8,"a",18),m(9,"offerings"),a(),m(10," or other places to add entries to your to-do list. "),a()())}function Gt(e,o){e&1&&(r(0,"div",10)(1,"h2",15),m(2,"No entries for selection"),a(),r(3,"p",16),m(4," There are no entries for your current filter settings. "),a()())}var kt=(()=>{let o=class o extends Tt{constructor(){super(),this.toDoContexts=O,this.toDoContextDisplayNames=F,this.toDoCategoryControl=new mt(["all",...O,"uncategorized"],{nonNullable:!0}),this.toDoService=x(S),this.selectedContext=G("uncategorized"),this.hadAllBefore=!0,this.toDoCategoryControl.valueChanges.pipe(N()).subscribe({next:n=>{this.hadAllBefore&&!n.includes("all")?(this.toDoCategoryControl.setValue([],{emitEvent:!1}),this.hadAllBefore=!1):!this.hadAllBefore&&n.includes("all")?(this.toDoCategoryControl.setValue(["all",...this.toDoContexts],{emitEvent:!1}),this.hadAllBefore=!0):this.hadAllBefore&&n.length<this.toDoContexts.length+1&&(this.toDoCategoryControl.setValue(n.filter(l=>l!=="all"),{emitEvent:!1}),this.hadAllBefore=!1)}})}openEntry(n,l){this.showDetails(n),this.selectedContext.set(l)}};o.\u0275fac=function(l){return new(l||o)},o.\u0275cmp=v({type:o,selectors:[["app-to-do"]],features:[Y],decls:29,vars:9,consts:[[3,"removePlaceholder"],["listDetail","",3,"item","context"],[1,"flex","justify-between"],[1,"mb-4","font-semibold","text-2xl","text-black"],[1,"btn","btn-secondary"],["multiple","","placeholder","None",3,"formControl"],["value","all"],[3,"value"],["value","uncategorized"],[3,"context","toDoId"],[1,"show-when-none-displayed"],["appDatabaseItemDetails",""],[3,"details"],[1,"text-sm","opacity-80"],[3,"entrySelected","context","toDoId"],[1,"mb-2","mt-4","font-semibold","text-xl","text-black"],[1,"text-black"],["routerLink","/journal",1,"underline"],["routerLink","/locations/lake-temple",1,"underline"]],template:function(l,i){l&1&&(r(0,"app-list-detail-container",0),u(1,zt,2,2,"app-item-card-switch",1),r(2,"app-card")(3,"div",2)(4,"h1",3),m(5,"To-Dos"),a(),r(6,"mat-form-field",4)(7,"mat-select",5)(8,"mat-select-trigger"),u(9,Lt,1,0)(10,Ut,1,1),a(),r(11,"mat-option",6)(12,"div",2)(13,"span"),m(14,"All"),a(),r(15,"span"),m(16),a()()(),I(17,$t,6,3,"mat-option",7,E),r(19,"mat-option",8)(20,"div",2)(21,"span"),m(22,"Uncategorized"),a(),r(23,"span"),m(24),a()()()()()(),I(25,Qt,1,2,"app-to-do-partial",9,E),u(27,Ht,11,0,"div",10)(28,Gt,5,0,"div",10),a()()),l&2&&(p("removePlaceholder",i.showTable),s(),d(i.selectedEntity?1:-1),s(6),p("formControl",i.toDoCategoryControl),s(2),d(i.toDoCategoryControl.value.includes("all")?9:-1),s(),d(i.toDoCategoryControl.value.includes("all")?-1:10),s(6),C(i.toDoService.currentToDoAmount),s(),w(i.toDoContexts),s(7),C(i.toDoService.getCategoryList().length),s(),w(i.toDoContexts),s(2),d(i.toDoService.currentIsEmpty?27:-1),s(),d(i.toDoService.currentIsEmpty?-1:28))},dependencies:[ut,ht,vt,xt,yt,gt,nt,st,ct,Et,P,V,wt],styles:["app-to-do-partial[_ngcontent-%COMP%]:not(.hidden) ~ .show-when-none-displayed[_ngcontent-%COMP%]{display:none}"]});let e=o;return e})();var Yt=[{path:"",component:kt},{path:":toDoId",redirectTo:""}],to=(()=>{let o=class o{};o.\u0275fac=function(l){return new(l||o)},o.\u0275mod=Q({type:o}),o.\u0275inj=$({imports:[ot,ft.forChild(Yt),bt,dt,St,Dt,pt,P,V]});let e=o;return e})();export{to as ToDoModule};
