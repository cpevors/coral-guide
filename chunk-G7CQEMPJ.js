import{a as Te,b as Vt,c as Rt}from"./chunk-A2PSOISD.js";import"./chunk-DJJM56ZO.js";import"./chunk-GPI7MHXO.js";import{a as Ot}from"./chunk-V7RKZLQ2.js";import{f as Gt}from"./chunk-7P5ZBEP4.js";import{a as N,b as _t}from"./chunk-M22KCL2Z.js";import{a as ve,b as Ie,c as Se,d as Et,e as $t,q as Z,r as ee,t as Pt}from"./chunk-QVSQOUAD.js";import{a as K,b as X,c as Nt,d as Fe,g as Bt}from"./chunk-OHRRW4BO.js";import{a as xe}from"./chunk-WFTBLPSZ.js";import{$d as J,Aa as l,Ab as fe,Ad as ut,Bd as ht,C as $e,Ca as G,Cd as Ce,Dd as Ct,Fa as h,G as V,Ga as v,Ha as _,Hd as yt,Ia as C,Ib as R,J as Ke,Ja as a,Jb as Xe,K as le,Ka as s,Kb as ue,Kd as ye,La as f,Md as Pe,N as D,Nd as xt,Ob as Ze,P as b,Pa as T,Pd as $,Q as ce,Qb as et,Qd as gt,Ra as y,Rd as kt,Sa as p,Sd as bt,Ue as ge,V as I,Va as Qe,Ve as Dt,W as S,Wa as x,Wc as mt,We as wt,Xb as he,Xe as ke,Yb as tt,Z as We,_b as ae,ba as ze,ca as He,ce as vt,d as w,db as d,dc as it,e as oe,eb as ne,f as je,fb as re,fe as It,gc as ot,he as St,j as Ne,jd as lt,ka as m,ke as Ft,kf as Mt,l as me,lc as nt,mb as pe,me as q,mf as be,nd as A,ne as Y,ob as Be,oc as rt,od as L,p as Ue,pc as at,pd as ct,pe as Q,qb as g,qc as st,qd as _e,qe as Tt,ra as W,rb as F,sb as de,sd as E,ta as M,ud as pt,wa as u,wd as j,x as qe,xa as Je,xd as U,ya as Ye,yd as dt,zd as ft}from"./chunk-4KZEYPV3.js";var At=(()=>{let t=class t{constructor(){this.uiIcon=ae}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-my-coral-guide"]],decls:15,vars:6,consts:[["exact","","routerLink",".",3,"uiIcon"],["routerLink","to-do",3,"uiIcon"],["routerLink","offerings-checklist",3,"uiIcon"],["routerLink","museum-checklist",3,"uiIcon"],["routerLink","cooking-recipes-checklist",3,"uiIcon"],["routerLink","settings",3,"uiIcon"],[1,"hidden"]],template:function(n,r){n&1&&(a(0,"app-sidebar-container")(1,"app-module-sidebar")(2,"app-module-sidebar-item",0),d(3,"Dashboard"),s(),a(4,"app-module-sidebar-item",1),d(5,"To-dos"),s(),a(6,"app-module-sidebar-item",2),d(7," Offerings checklist "),s(),a(8,"app-module-sidebar-item",3),d(9," Museum checklist "),s(),a(10,"app-module-sidebar-item",4),d(11," Cooking recipes checklist "),s(),a(12,"app-module-sidebar-item",5),d(13," Settings "),s()(),f(14,"router-outlet",6),s()),n&2&&(m(2),l("uiIcon",r.uiIcon.MY_CORAL),m(2),l("uiIcon",r.uiIcon.TO_DO),m(2),l("uiIcon",r.uiIcon.OFFERING),m(2),l("uiIcon",r.uiIcon.MUSEUM),m(2),l("uiIcon",r.uiIcon.COOKING),m(2),l("uiIcon",r.uiIcon.SETTINGS))},dependencies:[yt,ye,kt,gt,Ft],encapsulation:2});let e=t;return e})();var Lt=(()=>{var t,i;let o=class o extends at{constructor(){super(...arguments);oe(this,t,W([]));oe(this,i,W([]))}getFish$(){return w(this,t).call(this).length?Ne(w(this,t).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/fish.json`).pipe(V(c=>w(this,t).set(c)),$e(1))}getFish(){return w(this,t).asReadonly()}getBirthdays$(){return w(this,i).call(this).length?Ne(w(this,i).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/birthdays.json`).pipe(V(c=>w(this,i).set(c)),$e(1))}getBirthdays(){return w(this,i).asReadonly()}};t=new WeakMap,i=new WeakMap,o.\u0275fac=(()=>{let c;return function(O){return(c||(c=We(o)))(O||o)}})(),o.\u0275prov=Ke({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})();function Yt(e,t){if(e&1&&(a(0,"mat-option",6),d(1),s()),e&2){let i=t.$implicit;l("value",i),m(),ne(i)}}function Qt(e,t){if(e&1&&(a(0,"mat-option",6),d(1),s()),e&2){let i=t.$implicit;l("value",i),m(),ne(i)}}var De=(()=>{let t=class t{constructor(){this.Weathers=ot,this.Seasons=it}increaseDay(o){this.parentFormGroup.patchValue(he(this.parentFormGroup.getRawValue(),o))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-dashboard-filter"]],inputs:{parentFormGroup:"parentFormGroup"},standalone:!0,features:[pe],decls:25,vars:1,consts:[[1,"flex","flex-wrap","gap-x-3","gap-y-4",3,"formGroup"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","3rem"],["formControlName","day","inputmode","number","matInput","","max","28","min","1","pattern","[0-9]","type","number"],[1,"btn","-ml-2","touch-manipulation",3,"click"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","5rem"],["disableOptionCentering","","formControlName","season"],[3,"value"],["formControlName","year","inputmode","number","matInput","","min","1","pattern","[0-9]","type","number"],["disableOptionCentering","","formControlName","weather"],["formControlName","hideCompleted",1,"text-white","self-center"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),d(3,"Day"),s(),f(4,"input",2),s(),a(5,"button",3),y("click",function(){return r.increaseDay(1)}),d(6,"+"),s(),a(7,"mat-form-field",4)(8,"mat-label"),d(9,"Season"),s(),a(10,"mat-select",5),_(11,Yt,2,2,"mat-option",6,v),s()(),a(13,"mat-form-field",1)(14,"mat-label"),d(15,"Year"),s(),f(16,"input",7),s(),a(17,"mat-form-field",4)(18,"mat-label"),d(19,"Weather"),s(),a(20,"mat-select",8),_(21,Qt,2,2,"mat-option",6,v),s()(),a(23,"mat-checkbox",9),d(24,"Hide completed"),s()()),n&2&&(l("formGroup",r.parentFormGroup),m(11),C(r.Seasons),m(10),C(r.Weathers))},dependencies:[ht,lt,pt,A,L,ut,ft,dt,It,vt,mt,St,Ce,j,U,N,Ot],encapsulation:2});let e=t;return e})();var jt=e=>["/npcs",e];function Zt(e,t){if(e&1){let i=T();a(0,"app-item-icon",11),y("click",function(){I(i);let n=p().$implicit,r=p(2);return S(r.itemClicked.emit(n.item))}),s()}if(e&2){let i=p().$implicit;l("itemName",i.item.iconName)}}function ei(e,t){if(e&1&&(a(0,"span"),d(1),g(2,"addSpacesToPascalCase"),s()),e&2){let i=p().$implicit;m(),re("All ",F(2,1,i.categoryName),"")}}function ti(e,t){if(e&1&&u(0,Zt,1,1,"app-item-icon",10)(1,ei,3,3,"span"),e&2){let i=t.$implicit;h(i.type==="item"?0:-1),m(),h(i.type==="category"?1:-1)}}function ii(e,t){e&1&&d(0," No individual loved gifts. ")}function oi(e,t){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"a",2),f(3,"app-item-icon",3),s(),a(4,"div",4)(5,"a",5),d(6),s()()(),a(7,"div",6)(8,"div",7),f(9,"app-ui-icon",8),d(10," Loved "),s(),a(11,"div",9),_(12,ti,2,2,null,null,v,!1,ii,1,0),s()()()),e&2){let i=t.$implicit,o=p();m(2),l("routerLink",Be(6,jt,i.npcKey)),m(),l("itemName",i.iconName),m(2),l("routerLink",Be(8,jt,i.npcKey)),m(),re(" ",i.characterName," "),m(3),l("uiIcon",o.UiIcon.LOVE),m(3),C(i.lovedGifts)}}function ni(e,t){e&1&&(a(0,"p"),d(1,"No birthdays."),s())}var Me=(()=>{let t=class t{constructor(){this.birthdays=He.required(),this.itemClicked=ze(),this.UiIcon=ae,this.uiIcon=ae}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-birthday-dashboard"]],hostAttrs:[1,"flex","flex-col","gap-3"],inputs:{birthdays:[1,"birthdays"]},outputs:{itemClicked:"itemClicked"},standalone:!0,features:[pe],decls:3,vars:1,consts:[[1,"flex","gap-1","flex-col"],[1,"text-2xl","text-black","font-semibold","flex","gap-2","items-center","gifting-portrait"],[3,"routerLink"],[1,"h-12","birthday-npc-image",3,"itemName"],[1,"flex","flex-col"],[1,"flex","gap-2","items-center",3,"routerLink"],[1,"flex","gap-2"],[1,"font-semibold","flex","items-center","flex-col","shrink-0","basis-12","text-black"],[1,"!text-gifting","!h-6","!w-6",3,"uiIcon"],[1,"flex","items-center","gap-2.5","flex-wrap"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"itemName"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"click","itemName"]],template:function(n,r){n&1&&_(0,oi,15,10,"div",0,v,!1,ni,2,0,"p"),n&2&&C(r.birthdays())},dependencies:[be,$,J,xt,ye],styles:[`.birthday-npc-image.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center bottom}.birthday-gift-icon.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center}
`],encapsulation:2});let e=t;return e})();var mi=(e,t)=>t.entry.id+t.context,li=()=>[xe];function ci(e,t){if(e&1&&f(0,"app-offering",5),e&2){let i=t.$implicit;l("details",i)}}function pi(e,t){if(e&1&&(a(0,"app-item-card-switch",1),u(1,ci,1,1,"ng-template",4),s()),e&2){let i=p();l("item",i.selectedEntity)}}function di(e,t){if(e&1){let i=T();a(0,"div",15)(1,"app-item-icon",16),y("click",function(){let n=I(i).$implicit,r=p(2);return S(r.showDetails({id:n.entry.id,displayName:"",iconName:n.entry.iconName}))}),s(),a(2,"label",17)(3,"mat-checkbox",18),y("change",function(n){let r=I(i).$implicit;return p(2).updateChecklist(n,r.entry.id,r.context),S(r.completed=!r.completed)}),s()()()}if(e&2){let i=t.$implicit;G("checklist-checked",i.completed),m(),l("itemName",i.entry.iconName),m(),x("for","entry-",i.entry.id,"-input"),m(),x("id","entry-",i.entry.id,""),x("name","entry-",i.entry.id,""),l("checked",i.completed)}}function fi(e,t){e&1&&(a(0,"p",14),d(1,"No more fish to catch :)"),s())}function ui(e,t){if(e&1){let i=T();a(0,"section",6)(1,"h2",7),d(2," Birthdays "),s(),a(3,"app-card",8)(4,"div",9)(5,"div")(6,"h2",10),d(7," Today "),s(),a(8,"app-birthday-dashboard",11),y("itemClicked",function(n){I(i);let r=p();return S(r.showDetails(n))}),s()(),a(9,"div")(10,"h2",10),d(11," Tomorrow "),s(),a(12,"app-birthday-dashboard",11),y("itemClicked",function(n){I(i);let r=p();return S(r.showDetails(n))}),s()()()()(),a(13,"section",6)(14,"h2",7),d(15," Fish "),s(),a(16,"div",12),_(17,di,4,10,"div",13,mi,!1,fi,2,0,"p",14),s()()}if(e&2){let i=p();m(8),l("birthdays",i.birthdaysToday()),m(4),l("birthdays",i.birthdaysTomorrow()),m(5),C(i.fish())}}function hi(e,t){e&1&&f(0,"mat-spinner",19)}function _i(e,t){e&1&&(u(0,hi,1,0),Je(1,0,li),Ye())}var Ut=(()=>{var t;let i=class i extends wt{constructor(){super();oe(this,t);this.dashboards=D(Lt),this.museumChecklistService=D(Te),this.userData=D(Ct),je(this,t,D(st)),this.museumChecklistDefinition$=w(this,t).fetchMuseumChecklist$(),this.museuemDef=W({}),this.requests$=Ue({museumDefinition:this.museumChecklistDefinition$.pipe(V(c=>this.museuemDef.set(c))),fish:this.dashboards.getFish$(),birthdays:this.dashboards.getBirthdays$()}),this.filterFormGroup=new ct({season:new E("Spring",{nonNullable:!0}),weather:new E("Sunny",{nonNullable:!0}),day:new E(1,{nonNullable:!0}),year:new E(1,{nonNullable:!0}),hideCompleted:new E(!0,{nonNullable:!0})}),this.filterFormGroup.patchValue(this.userData.getCurrentData().myGuideFilter);let r=Dt(this.filterFormGroup.valueChanges.pipe(me(()=>this.filterFormGroup.getRawValue()),V(c=>{this.userData.getCurrentData().myGuideFilter=c,this.userData.save()})),{initialValue:this.filterFormGroup.getRawValue()});this.fish=fe(()=>{let c=this.dashboards.getFish(),k=r().season,O=r().weather,P=r().hideCompleted,se=c().filter(z=>{let ie=z.seasons.includes(k)&&z.weathers.includes(O),H={day:r().day,season:r().season,year:r().year},Jt=z.dateRanges.map(Le=>({from:Le.startsFrom,to:Le.lastsTill}));return ie&&(!z.dateRanges.length||tt(H,Jt,!0))}),te=[];return this.museuemDef().Fish.forEach(z=>{let ie=se.find(H=>H.id===z.id);if(ie){let H=this.museumChecklistService.isChecked(ie.id);H&&P||te.push({completed:H,context:"museum",entry:ie})}}),te}),this.birthdaysToday=fe(()=>{let c=this.dashboards.getBirthdays()(),k=r().season,O=r().day;return c.filter(P=>P.birthday.day===O&&P.birthday.season===k)}),this.birthdaysTomorrow=fe(()=>{let c=this.dashboards.getBirthdays()(),k=r().season,P={day:r().day,season:k,year:1},se=he(P,1);return c.filter(te=>te.birthday.day===se.day&&te.birthday.season===se.season)})}updateChecklist(r,c,k){this.museumChecklistService.isChecked(c)?this.museumChecklistService.remove(c):this.museumChecklistService.add(c)}};t=new WeakMap,i.\u0275fac=function(c){return new(c||i)},i.\u0275cmp=b({type:i,selectors:[["app-index"]],features:[M],decls:8,vars:6,consts:[[3,"removePlaceholder"],["listDetail","",3,"item"],[1,"mb-4","font-semibold","text-3xl","text-white","flex","items-center","gap-x-4"],[1,"my-5","block",3,"parentFormGroup"],["appDatabaseItemDetails",""],[3,"details"],[1,"my-2"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[1,"@container"],[1,"@3xl:grid-cols-2","grid","gap-x-3","gap-y-5"],[1,"mb-4","font-semibold","text-2xl","text-black"],[3,"itemClicked","birthdays"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked"],[1,"col-span-full"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"change","id","checked","name"],[1,"mx-auto"]],template:function(c,k){c&1&&(a(0,"app-list-detail-container",0),u(1,pi,2,1,"app-item-card-switch",1),a(2,"h1",2),d(3," My Coral Guide "),s(),f(4,"app-dashboard-filter",3),u(5,ui,20,3),g(6,"async"),u(7,_i,3,0),s()),c&2&&(l("removePlaceholder",k.showTable),m(),h(k.selectedEntity?1:-1),m(3),l("parentFormGroup",k.filterFormGroup),m(),h(F(6,4,k.requests$)?5:7))},dependencies:[$,bt,q,N,K,Z,ee,De,Me,R],encapsulation:2});let e=i;return e})();var Ee=(()=>{let t=class t extends ke{constructor(){super(),this.checklistForm=new _e({}),this.checklistForm.valueChanges.pipe(ge()).subscribe({next:o=>{let n=[];Object.keys(o).forEach(r=>{o[r]&&n.push(r)}),this.checklistService.set(n)}})}ngOnInit(){this.checklistDefinition$=this.checklistDefinition$.pipe(qe(1),V(o=>{let n=Object.keys(o);n.forEach(r=>{o[r].forEach(c=>{this.checklistForm.addControl(c.id,new E(this.checklistService.isChecked(c.id),{nonNullable:!0}),{emitEvent:!1})})}),this.activateTabFromRoute(n)}))}keyValueNoOrder(){return 0}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["ng-component"]],features:[M],decls:0,vars:0,template:function(n,r){},encapsulation:2});let e=t;return e})();function yi(e,t){if(e&1&&f(0,"app-fish",4),e&2){let i=p().$implicit;l("fish",i.fish)}}function xi(e,t){if(e&1&&f(0,"app-insect",5),e&2){let i=p().$implicit;l("critter",i.insect)}}function gi(e,t){if(e&1&&f(0,"app-insect",5),e&2){let i=p().$implicit;l("critter",i.oceanCritter)}}function ki(e,t){if(e&1&&f(0,"app-shop-processing-result",6),e&2){let i=p().$implicit;l("itemProcessData",i.chanceAsProcessResult)}}function bi(e,t){if(e&1&&u(0,yi,1,1,"app-fish",4)(1,xi,1,1,"app-insect",5)(2,gi,1,1,"app-insect",5)(3,ki,1,1,"app-shop-processing-result",6),e&2){let i=t.$implicit;h(i.fish?0:i.insect?1:i.oceanCritter?2:i.chanceAsProcessResult?3:-1)}}function vi(e,t){if(e&1&&(a(0,"app-database-item-details",1),u(1,bi,4,1,"ng-template",3),s()),e&2){let i=p();l("itemId",i.selectedEntity.id)}}function Ii(e,t){if(e&1){let i=T();a(0,"div",11)(1,"app-item-icon",12),y("click",function(){let n=I(i).$implicit,r=p(4);return S(r.showDetails(n))}),s(),a(2,"label",13),f(3,"mat-checkbox",14),s()()}if(e&2){let i,o=t.$implicit,n=p(4);G("checklist-checked",(i=n.checklistForm.get(o.id))==null?null:i.value)("selected-icon",(n.selectedEntity==null?null:n.selectedEntity.id)===o.id),m(),l("itemName",o.iconName),m(),x("for","entry-",o.id,"-input"),m(),x("id","entry-",o.id,""),x("name","entry-",o.id,""),l("formControlName",o.id)}}function Si(e,t){if(e&1&&(a(0,"div",9),_(1,Ii,4,12,"div",10,v),s()),e&2){let i=p().$implicit;m(),C(i.value)}}function Fi(e,t){if(e&1&&(a(0,"mat-tab",8),u(1,Si,3,0,"div",9),s()),e&2){let i=t.$implicit,o=p(2);l("formGroup",o.checklistForm)("label",i.key),m(),h(o.showTable?-1:1)}}function Ti(e,t){if(e&1){let i=T();a(0,"mat-tab-group",7),y("selectedTabChange",function(n){I(i);let r=p();return S(r.updateUrl(n))}),_(1,Fi,2,3,"mat-tab",8,v),g(3,"keyvalue"),s()}if(e&2){let i=p();l("selectedIndex",i.selectedTabIndex()),m(),C(de(3,1,t,i.keyValueNoOrder))}}var Kt=(()=>{let t=class t extends Ee{constructor(){super(),this.checklistService=D(Te),this.checklistDefinition$=this._database.fetchMuseumChecklist$()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-museum-checklist"]],features:[M],decls:4,vars:5,consts:[[3,"removePlaceholder"],["listDetail","","context","museum",3,"itemId"],[3,"selectedIndex"],["appDatabaseItemDetails",""],[3,"fish"],[3,"critter"],[1,"mb-4",3,"itemProcessData"],[3,"selectedTabChange","selectedIndex"],[3,"formGroup","label"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"]],template:function(n,r){if(n&1&&(a(0,"app-list-detail-container",0),u(1,vi,2,1,"app-database-item-details",1)(2,Ti,4,4,"mat-tab-group",2),g(3,"async"),s()),n&2){let c;l("removePlaceholder",r.showTable),m(),h(r.selectedEntity?1:-1),m(),h((c=F(3,3,r.checklistDefinition$))?2:-1,c)}},dependencies:[$,q,Y,Q,N,A,L,j,U,X,K,Se,ve,Ie,R,ue],encapsulation:2});let e=t;return e})();var wi=(e,t)=>t.key;function Mi(e,t){if(e&1&&f(0,"app-cooking-recipe",5),e&2){let i=t.$implicit;l("cookingRecipe",i)}}function Ei(e,t){if(e&1&&_(0,Mi,1,1,"app-cooking-recipe",5,wi),e&2){let i=t.$implicit;C(i.cookedFrom)}}function Ni(e,t){if(e&1&&(a(0,"app-database-item-details",1),u(1,Ei,2,0,"ng-template",4),s()),e&2){let i=p();l("itemId",i.selectedEntity.id)}}function $i(e,t){if(e&1){let i=T();a(0,"div",8)(1,"app-item-icon",9),y("click",function(){let n=I(i).$implicit,r=p(3);return S(r.showDetails(n))}),s(),a(2,"label",10),f(3,"mat-checkbox",11),s()()}if(e&2){let i,o=t.$implicit,n=p(3);G("checklist-checked",(i=n.checklistForm.get(o.id))==null?null:i.value)("selected-icon",(n.selectedEntity==null?null:n.selectedEntity.id)===o.id),m(),l("itemName",o.iconName),m(),x("for","entry-",o.id,"-input"),m(),x("id","entry-",o.id,""),x("name","entry-",o.id,""),l("formControlName",o.id)}}function Bi(e,t){if(e&1&&(a(0,"div",6),_(1,$i,4,12,"div",7,v),s()),e&2){let i=p().$implicit;m(),C(i.value)}}function Pi(e,t){if(e&1&&(a(0,"mat-tab",3),g(1,"addSpacesToPascalCase"),g(2,"titlecase"),u(3,Bi,3,0,"div",6),s()),e&2){let i=t.$implicit,o=p();l("formGroup",o.checklistForm)("label",o.cookingUtensilMapping[i.key.toLowerCase()]?o.cookingUtensilMapping[i.key.toLowerCase()].displayName:F(2,5,F(1,3,i.key))),m(3),h(o.showTable?-1:3)}}var Wt=(()=>{let t=class t extends Ee{constructor(){super(),this.checklistService=D(Vt),this.checklistDefinition$=this._database.fetchCookingRecipesChecklist$(),this.cookingUtensilMapping=this._database.getCookingUtensilMapping(),this.urlPathFromLabel=o=>{let n=Object.keys(this.cookingUtensilMapping).find(r=>this.cookingUtensilMapping[r].displayName===o);return n||o.toLowerCase().replaceAll(" ","")}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-cooking-recipes-checklist"]],features:[M],decls:7,vars:8,consts:[[3,"removePlaceholder"],["listDetail","","hideQualityGrid","","context","cooking_recipes",3,"itemId"],[3,"selectedTabChange","selectedIndex"],[3,"formGroup","label"],["appDatabaseItemDetails",""],[1,"mb-4",3,"cookingRecipe"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"]],template:function(n,r){n&1&&(a(0,"app-list-detail-container",0),u(1,Ni,2,1,"app-database-item-details",1),a(2,"mat-tab-group",2),y("selectedTabChange",function(k){return r.updateUrl(k)}),_(3,Pi,4,7,"mat-tab",3,v),g(5,"async"),g(6,"keyvalue"),s()()),n&2&&(l("removePlaceholder",r.showTable),m(),h(r.selectedEntity?1:-1),m(),l("selectedIndex",r.selectedTabIndex()),m(),C(de(6,5,F(5,3,r.checklistDefinition$),r.keyValueNoOrder)))},dependencies:[$,q,Y,Q,N,A,L,j,U,Fe,X,K,R,Xe,ue,J],encapsulation:2});let e=t;return e})();function Gi(e,t){if(e&1&&f(0,"app-offering",3),e&2){let i=t.$implicit;l("details",i)}}function Oi(e,t){if(e&1&&(a(0,"app-item-card-switch",0),u(1,Gi,1,1,"ng-template",2),s()),e&2){let i=p();l("item",i.selectedEntity)}}function Vi(e,t){if(e&1){let i=T();a(0,"div",13),g(1,"entityKey"),a(2,"app-item-icon",14),y("click",function(){I(i);let n=p().$implicit,r=p(5);return S(r.showDetails(n))}),s(),a(3,"label",15),f(4,"mat-checkbox",16),s()()}if(e&2){let i,o=t,n=p().$implicit,r=p(5);G("checklist-checked",(i=r.checklistForm.get(o))==null?null:i.value)("selected-icon",r.selectedEntity&&F(1,14,r.selectedEntity)===o),m(2),l("amount",n.amount)("itemName",n.item.iconName)("quality",n.quality),m(),x("for","entry-",o,"-input"),m(),x("id","entry-",o,""),x("name","entry-",o,""),l("formControlName",o)}}function Ri(e,t){if(e&1&&(u(0,Vi,5,16,"div",12),g(1,"entityKey")),e&2){let i,o=t.$implicit;h((i=F(1,1,o.item))?0:-1,i)}}function Ai(e,t){if(e&1&&(a(0,"div",7)(1,"div",8),f(2,"img",9),a(3,"div",10)(4,"div"),d(5),s(),a(6,"div"),d(7),s()()(),a(8,"div",11),_(9,Ri,2,3,null,null,v),s()()),e&2){let i=t.$implicit,o=p(4);m(),G("bg-merino-300",(o.activeOffering==null?null:o.activeOffering.title)===i.title),m(),x("alt","",i.title," offering icon"),x("ngSrc","",o.bundleAssetPath()+i.imageName,".webp"),m(3),ne(i.title),m(2),re(" ",i.numOfItemRequired===-1?"All":i.numOfItemRequired," required: "),m(2),C(i.requiredItems)}}function Li(e,t){if(e&1&&(a(0,"div",6),_(1,Ai,11,8,"div",7,v),s()),e&2){let i=p().$implicit;m(),C(i.offerings)}}function ji(e,t){if(e&1&&(a(0,"mat-tab",5),g(1,"addSpacesToPascalCase"),u(2,Li,3,0,"div",6),s()),e&2){let i=t.$implicit,o=p(2);Qe("label",F(1,2,i.offeringGroupTitle)),m(2),h(o.showTable?-1:2)}}function Ui(e,t){if(e&1){let i=T();a(0,"mat-tab-group",4),y("selectedTabChange",function(n){I(i);let r=p();return S(r.updateUrl(n))}),_(1,ji,3,4,"mat-tab",5,v),s()}if(e&2){let i=p();l("formGroup",i.checklistForm)("selectedIndex",i.selectedTabIndex()),m(),C(t)}}var zt=(()=>{let t=class t extends ke{constructor(){super(),this.checklistService=D(Rt),this.checklistForm=new _e({}),this.useBeta=D(rt).getSettings().useBeta,this.bundleAssetPath=W(`assets/${this.useBeta?"beta":"live"}/items/icons/`),this._altars=[],this.urlPathFromLabel=o=>{let n=o.toLowerCase().replaceAll(" ",""),r=this._altars.find(c=>c.offeringGroupTitle.toLowerCase().replaceAll(" ","")===n);return r?r.urlPath:o.toLowerCase().replaceAll(" ","")},this.checklistForm.valueChanges.pipe(ge()).subscribe({next:o=>{let n=[];Object.keys(o).forEach(r=>{o[r]&&n.push(r)}),this.checklistService.set(n)}}),this.offerings$=this._database.fetchOfferings$().pipe(me(o=>{let n=o.filter(c=>!c.customType),r=n.map(c=>c.urlPath);return this._altars=n,n.forEach(c=>{c.offerings.forEach(k=>{k.requiredItems.forEach(O=>{let P=nt(O.item);this.checklistForm.addControl(P,new E(this.checklistService.isChecked(P),{nonNullable:!0}),{emitEvent:!1})})})}),this.activateTabFromRoute(r),n}))}showDetails(o){this.entryForToDo=o,o&&"amount"in o?super.showDetails(o.item):super.showDetails(o)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-offerings-checklist"]],features:[M],decls:4,vars:4,consts:[["listDetail","","context","offerings",3,"item"],[3,"formGroup","selectedIndex"],["appDatabaseItemDetails",""],[3,"details"],[3,"selectedTabChange","formGroup","selectedIndex"],[3,"label"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"flex","flex-col","gap-y-2"],[1,"rounded-lg","bg-merino","flex","items-center","gap-4","p-4"],["height","64","width","64",3,"alt","ngSrc"],[1,"flex","flex-col","text-lg","font-semibold"],[1,"icon-grid","w-full"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","amount","itemName","quality"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"]],template:function(n,r){if(n&1&&(a(0,"app-list-detail-container"),u(1,Oi,2,1,"app-item-card-switch",0)(2,Ui,3,2,"mat-tab-group",1),g(3,"async"),s()),n&2){let c;m(),h(r.selectedEntity?1:-1),m(),h((c=F(3,2,r.offerings$))?2:-1,c)}},dependencies:[$,q,Y,Q,N,A,L,j,U,K,Z,ee,et,R,Mt,J],encapsulation:2});let e=t;return e})();var qi=[{path:"",component:At,children:[{path:"",component:Ut},{path:"to-do",loadChildren:()=>import("./chunk-WAN5NSCB.js").then(e=>e.ToDoModule)},{path:"museum-checklist",redirectTo:"museum-checklist/",pathMatch:"full"},{path:"museum-checklist/:tabName",component:Kt,title:"Museum checklist - My Guide"},{path:"cooking-recipes-checklist",redirectTo:"cooking-recipes-checklist/",pathMatch:"full"},{path:"cooking-recipes-checklist/:tabName",component:Wt,title:"Cooking recipes checklist - My Guide"},{path:"offerings-checklist",redirectTo:"offerings-checklist/",pathMatch:"full"},{path:"offerings-checklist/:tabName",component:zt,title:"Offerings checklist - My Guide"},{path:"settings",loadChildren:()=>import("./chunk-X73TJLJO.js").then(e=>e.SettingsModule),title:"Settings - My Guide"}]}],Ht=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ce({type:t}),t.\u0275inj=le({imports:[Pe.forChild(qi),Pe]});let e=t;return e})();var sr=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ce({type:t}),t.\u0275inj=le({imports:[Ze,Ht,be,Gt,Tt,_t,Ce,Pt,Fe,X,Bt,Se,ve,Ie,Z,Et,$t,Nt,ee,xe,De,Me]});let e=t;return e})();export{sr as MyCoralGuideModule};
