import{a as Ee,b as At,c as Lt}from"./chunk-XIW35ZB7.js";import"./chunk-DJJM56ZO.js";import"./chunk-QLCYA646.js";import{a as Gt}from"./chunk-SPTPR4TH.js";import{f as Rt}from"./chunk-Z4COKCZ7.js";import{a as R,b as yt}from"./chunk-5Y7JXUU2.js";import{a as Te,b as Fe,c as De,d as $t,e as Pt,q as re,r as ae,t as Ot}from"./chunk-BPN5VRCO.js";import{a as Y,b as oe,c as Vt,d as we,g as Bt}from"./chunk-TL6KPAQW.js";import{a as be}from"./chunk-43NKEY2U.js";import{$b as ye,$e as Et,Ad as W,Ba as m,Bb as ee,Bd as z,C as ce,Cd as ut,Da as $,Dd as ht,Ed as _t,Fd as Ct,G as P,Ga as v,Gd as ge,Ha as F,Hd as xt,Ia as C,J as We,Ja as y,K as fe,Ka as a,Kb as q,La as s,Lb as et,Ld as gt,Ma as f,Mb as Ce,N as M,Od as ke,P as T,Q as ue,Qa as D,Qb as tt,Qd as Be,Sa as _,Sb as it,Ta as p,Td as kt,Vd as G,W as k,Wa as Ze,Wd as bt,X as b,Xa as u,Xd as vt,Yd as It,_ as ze,_c as lt,_e as ve,ac as nt,af as Mt,bf as Ie,ca as Je,cc as pe,d as g,da as Ye,e as X,eb as d,f as qe,fb as me,fe as te,gb as le,hc as ot,ie as St,j as se,kc as rt,l as de,la as c,le as Tt,nb as he,nd as pt,ne as Ft,p as Ke,pb as Pe,pc as at,qe as Dt,qf as Nt,rb as S,rd as K,sa as j,sb as w,sc as st,sd as H,se as J,sf as Se,tb as _e,tc as ct,td as dt,te as ie,ua as B,uc as mt,ud as xe,ve as ne,wd as O,we as wt,x as He,xa as h,ya as Qe,yd as ft,za as Xe}from"./chunk-PYTDIKHQ.js";var jt=(()=>{let i=class i{constructor(){this.uiIcon=pe}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=T({type:i,selectors:[["app-my-coral-guide"]],decls:15,vars:6,consts:[["exact","","routerLink",".",3,"uiIcon"],["routerLink","to-do",3,"uiIcon"],["routerLink","offerings-checklist",3,"uiIcon"],["routerLink","museum-checklist",3,"uiIcon"],["routerLink","cooking-recipes-checklist",3,"uiIcon"],["routerLink","settings",3,"uiIcon"],[1,"hidden"]],template:function(o,n){o&1&&(a(0,"app-sidebar-container")(1,"app-module-sidebar")(2,"app-module-sidebar-item",0),d(3,"Dashboard"),s(),a(4,"app-module-sidebar-item",1),d(5,"To-dos"),s(),a(6,"app-module-sidebar-item",2),d(7," Offerings checklist "),s(),a(8,"app-module-sidebar-item",3),d(9," Museum checklist "),s(),a(10,"app-module-sidebar-item",4),d(11," Cooking recipes checklist "),s(),a(12,"app-module-sidebar-item",5),d(13," Settings "),s()(),f(14,"router-outlet",6),s()),o&2&&(c(2),m("uiIcon",n.uiIcon.MY_CORAL),c(2),m("uiIcon",n.uiIcon.TO_DO),c(2),m("uiIcon",n.uiIcon.OFFERING),c(2),m("uiIcon",n.uiIcon.MUSEUM),c(2),m("uiIcon",n.uiIcon.COOKING),c(2),m("uiIcon",n.uiIcon.SETTINGS))},dependencies:[gt,ke,vt,bt,Dt],encapsulation:2});let e=i;return e})();var Ut=(()=>{var i,t,r,o;let n=class n extends ct{constructor(){super(...arguments);X(this,i,j([]));X(this,t,j([]));X(this,r,j([]));X(this,o,j([]))}getFish$(){return g(this,i).call(this).length?se(g(this,i).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/fish.json`).pipe(P(x=>g(this,i).set(x)),ce(1))}getInsects$(){return g(this,t).call(this).length?se(g(this,t).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-insects.json`).pipe(P(x=>g(this,t).set(x)),ce(1))}getOceanCritters$(){return g(this,r).call(this).length?se(g(this,r).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-ocean-critters.json`).pipe(P(x=>g(this,r).set(x)),ce(1))}getFish(){return g(this,i).asReadonly()}getInsects(){return g(this,t).asReadonly()}getOceanCritter(){return g(this,r).asReadonly()}getBirthdays$(){return g(this,o).call(this).length?se(g(this,o).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/birthdays.json`).pipe(P(x=>g(this,o).set(x)),ce(1))}getBirthdays(){return g(this,o).asReadonly()}};i=new WeakMap,t=new WeakMap,r=new WeakMap,o=new WeakMap,n.\u0275fac=(()=>{let x;return function(U){return(x||(x=ze(n)))(U||n)}})(),n.\u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function Qt(e,i){if(e&1&&(a(0,"mat-option",6),d(1),s()),e&2){let t=i.$implicit;m("value",t),c(),me(t)}}function Xt(e,i){if(e&1&&(a(0,"mat-option",6),d(1),s()),e&2){let t=i.$implicit;m("value",t),c(),me(t)}}var Me=(()=>{let i=class i{constructor(){this.Weathers=rt,this.Seasons=ot}increaseDay(r){this.parentFormGroup.patchValue(ye(this.parentFormGroup.getRawValue(),r))}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=T({type:i,selectors:[["app-dashboard-filter"]],inputs:{parentFormGroup:"parentFormGroup"},standalone:!0,features:[he],decls:25,vars:1,consts:[[1,"flex","flex-wrap","gap-x-3","gap-y-4",3,"formGroup"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","3rem"],["formControlName","day","inputmode","number","matInput","","max","28","min","1","pattern","[0-9]","type","number"],[1,"btn","-ml-2","touch-manipulation",3,"click"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","5rem"],["disableOptionCentering","","formControlName","season"],[3,"value"],["formControlName","year","inputmode","number","matInput","","min","1","pattern","[0-9]","type","number"],["disableOptionCentering","","formControlName","weather"],["formControlName","hideCompleted",1,"text-white","self-center"]],template:function(o,n){o&1&&(a(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),d(3,"Day"),s(),f(4,"input",2),s(),a(5,"button",3),_("click",function(){return n.increaseDay(1)}),d(6,"+"),s(),a(7,"mat-form-field",4)(8,"mat-label"),d(9,"Season"),s(),a(10,"mat-select",5),C(11,Qt,2,2,"mat-option",6,F),s()(),a(13,"mat-form-field",1)(14,"mat-label"),d(15,"Year"),s(),f(16,"input",7),s(),a(17,"mat-form-field",4)(18,"mat-label"),d(19,"Weather"),s(),a(20,"mat-select",8),C(21,Xt,2,2,"mat-option",6,F),s()(),a(23,"mat-checkbox",9),d(24,"Hide completed"),s()()),o&2&&(m("formGroup",n.parentFormGroup),c(11),y(n.Seasons),c(10),y(n.Weathers))},dependencies:[Ct,pt,ft,K,H,_t,ht,ut,Tt,St,lt,Ft,ge,W,z,R,Gt],encapsulation:2});let e=i;return e})();var qt=e=>["/npcs",e];function ei(e,i){if(e&1){let t=D();a(0,"app-item-icon",11),_("click",function(){k(t);let o=p().$implicit,n=p(2);return b(n.itemClicked.emit(o.item))}),s()}if(e&2){let t=p().$implicit;m("itemName",t.item.iconName)}}function ti(e,i){if(e&1&&(a(0,"span"),d(1),S(2,"addSpacesToPascalCase"),s()),e&2){let t=p().$implicit;c(),le("All ",w(2,1,t.categoryName),"")}}function ii(e,i){if(e&1&&h(0,ei,1,1,"app-item-icon",10)(1,ti,3,3,"span"),e&2){let t=i.$implicit;v(t.type==="item"?0:-1),c(),v(t.type==="category"?1:-1)}}function ni(e,i){e&1&&d(0," No individual loved gifts. ")}function oi(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"a",2),f(3,"app-item-icon",3),s(),a(4,"div",4)(5,"a",5),d(6),s()()(),a(7,"div",6)(8,"div",7),f(9,"app-ui-icon",8),d(10," Loved "),s(),a(11,"div",9),C(12,ii,2,2,null,null,F,!1,ni,1,0),s()()()),e&2){let t=i.$implicit,r=p();c(2),m("routerLink",Pe(6,qt,t.npcKey)),c(),m("itemName",t.iconName),c(2),m("routerLink",Pe(8,qt,t.npcKey)),c(),le(" ",t.characterName," "),c(3),m("uiIcon",r.UiIcon.LOVE),c(3),y(t.lovedGifts)}}function ri(e,i){e&1&&(a(0,"p"),d(1,"No birthdays."),s())}var $e=(()=>{let i=class i{constructor(){this.birthdays=Ye.required(),this.itemClicked=Je(),this.UiIcon=pe,this.uiIcon=pe}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=T({type:i,selectors:[["app-birthday-dashboard"]],hostAttrs:[1,"flex","flex-col","gap-3"],inputs:{birthdays:[1,"birthdays"]},outputs:{itemClicked:"itemClicked"},standalone:!0,features:[he],decls:3,vars:1,consts:[[1,"flex","gap-1","flex-col"],[1,"text-2xl","text-black","font-semibold","flex","gap-2","items-center","gifting-portrait"],[3,"routerLink"],[1,"h-12","birthday-npc-image",3,"itemName"],[1,"flex","flex-col"],[1,"flex","gap-2","items-center",3,"routerLink"],[1,"flex","gap-2"],[1,"font-semibold","flex","items-center","flex-col","shrink-0","basis-12","text-black"],[1,"!text-gifting","!h-6","!w-6",3,"uiIcon"],[1,"flex","items-center","gap-2.5","flex-wrap"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"itemName"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"click","itemName"]],template:function(o,n){o&1&&C(0,oi,15,10,"div",0,F,!1,ri,2,0,"p"),o&2&&y(n.birthdays())},dependencies:[Se,G,te,kt,ke],styles:[`.birthday-npc-image.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center bottom}.birthday-gift-icon.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center}
`],encapsulation:2});let e=i;return e})();var Re=(e,i)=>i.entry.id+i.context,mi=()=>[be];function li(e,i){if(e&1&&f(0,"app-offering",5),e&2){let t=i.$implicit;m("details",t)}}function pi(e,i){if(e&1&&(a(0,"app-item-card-switch",1),h(1,li,1,1,"ng-template",4),s()),e&2){let t=p();m("item",t.selectedEntity)}}function di(e,i){if(e&1){let t=D();a(0,"div",15)(1,"app-item-icon",16),_("click",function(){let o=k(t).$implicit,n=p(2);return b(n.showDetails({id:o.entry.id,displayName:"",iconName:o.entry.iconName}))}),s(),a(2,"label",17)(3,"mat-checkbox",18),_("change",function(o){let n=k(t).$implicit;return p(2).updateChecklist(o,n.entry.id,n.context),b(n.completed=!n.completed)}),s()()()}if(e&2){let t=i.$implicit;$("checklist-checked",t.completed),c(),m("itemName",t.entry.iconName),c(),u("for","entry-",t.entry.id,"-input"),c(),u("id","entry-",t.entry.id,""),u("name","entry-",t.entry.id,""),m("checked",t.completed)}}function fi(e,i){e&1&&(a(0,"p",14),d(1,"No more fish to catch :)"),s())}function ui(e,i){if(e&1){let t=D();a(0,"div",15)(1,"app-item-icon",16),_("click",function(){let o=k(t).$implicit,n=p(2);return b(n.showDetails({id:o.entry.id,displayName:"",iconName:o.entry.iconName}))}),s(),a(2,"label",17)(3,"mat-checkbox",18),_("change",function(o){let n=k(t).$implicit;return p(2).updateChecklist(o,n.entry.id,n.context),b(n.completed=!n.completed)}),s()()()}if(e&2){let t=i.$implicit;$("checklist-checked",t.completed),c(),m("itemName",t.entry.iconName),c(),u("for","entry-",t.entry.id,"-input"),c(),u("id","entry-",t.entry.id,""),u("name","entry-",t.entry.id,""),m("checked",t.completed)}}function hi(e,i){e&1&&(a(0,"p",14),d(1,"No more fish to catch :)"),s())}function _i(e,i){if(e&1){let t=D();a(0,"div",15)(1,"app-item-icon",16),_("click",function(){let o=k(t).$implicit,n=p(2);return b(n.showDetails({id:o.entry.id,displayName:"",iconName:o.entry.iconName}))}),s(),a(2,"label",17)(3,"mat-checkbox",18),_("change",function(o){let n=k(t).$implicit;return p(2).updateChecklist(o,n.entry.id,n.context),b(n.completed=!n.completed)}),s()()()}if(e&2){let t=i.$implicit;$("checklist-checked",t.completed),c(),m("itemName",t.entry.iconName),c(),u("for","entry-",t.entry.id,"-input"),c(),u("id","entry-",t.entry.id,""),u("name","entry-",t.entry.id,""),m("checked",t.completed)}}function Ci(e,i){e&1&&(a(0,"p",14),d(1,"No more fish to catch :)"),s())}function yi(e,i){if(e&1){let t=D();a(0,"section",6)(1,"h2",7),d(2," Birthdays "),s(),a(3,"app-card",8)(4,"div",9)(5,"div")(6,"h2",10),d(7," Today "),s(),a(8,"app-birthday-dashboard",11),_("itemClicked",function(o){k(t);let n=p();return b(n.showDetails(o))}),s()(),a(9,"div")(10,"h2",10),d(11," Tomorrow "),s(),a(12,"app-birthday-dashboard",11),_("itemClicked",function(o){k(t);let n=p();return b(n.showDetails(o))}),s()()()()(),a(13,"section",6)(14,"h2",7),d(15," Fish "),s(),a(16,"div",12),C(17,di,4,10,"div",13,Re,!1,fi,2,0,"p",14),s()(),a(20,"section",6)(21,"h2",7),d(22," Insects "),s(),a(23,"div",12),C(24,ui,4,10,"div",13,Re,!1,hi,2,0,"p",14),s()(),a(27,"section",6)(28,"h2",7),d(29," Ocean critters "),s(),a(30,"div",12),C(31,_i,4,10,"div",13,Re,!1,Ci,2,0,"p",14),s()()}if(e&2){let t=p();c(8),m("birthdays",t.birthdaysToday()),c(4),m("birthdays",t.birthdaysTomorrow()),c(5),y(t.fish()),c(7),y(t.insects()),c(7),y(t.oceanCritter())}}function xi(e,i){e&1&&f(0,"mat-spinner",19)}function gi(e,i){e&1&&(h(0,xi,1,0),Qe(1,0,mi),Xe())}var Kt=(()=>{var i;let t=class t extends Mt{constructor(){super();X(this,i);this.dashboards=M(Ut),this.museumChecklistService=M(Ee),this.userData=M(xt),qe(this,i,M(mt)),this.museumChecklistDefinition$=g(this,i).fetchMuseumChecklist$(),this.museuemDef=j({}),this.requests$=Ke({museumDefinition:this.museumChecklistDefinition$.pipe(P(l=>this.museuemDef.set(l))),fish:this.dashboards.getFish$(),insects:this.dashboards.getInsects$(),oceanCritters:this.dashboards.getOceanCritters$(),birthdays:this.dashboards.getBirthdays$()}),this.filterFormGroup=new dt({season:new O("Spring",{nonNullable:!0}),weather:new O("Sunny",{nonNullable:!0}),day:new O(1,{nonNullable:!0}),year:new O(1,{nonNullable:!0}),hideCompleted:new O(!0,{nonNullable:!0})}),this.filterFormGroup.patchValue(this.userData.getCurrentData().myGuideFilter);let n=Et(this.filterFormGroup.valueChanges.pipe(de(()=>this.filterFormGroup.getRawValue()),P(l=>{this.userData.getCurrentData().myGuideFilter=l,this.userData.save()})),{initialValue:this.filterFormGroup.getRawValue()});this.fish=ee(()=>{let l=this.dashboards.getFish(),I=n().season,x=n().weather,E=n().hideCompleted,U=l().filter(L=>{let N=L.seasons.includes(I)&&L.weathers.includes(x),V={day:n().day,season:n().season,year:n().year},Z=L.dateRanges.map(Ue=>({from:Ue.startsFrom,to:Ue.lastsTill}));return N&&(!L.dateRanges.length||nt(V,Z,!0))}),Q=[];return this.museuemDef().Fish.forEach(L=>{let N=U.find(V=>V.id===L.id);if(N){let V=this.museumChecklistService.isChecked(N.id);V&&E||Q.push({completed:V,context:"museum",entry:N})}}),Q}),this.insects=ee(()=>{let l=this.dashboards.getInsects();return this.critterEntriesToList(l(),n(),this.museuemDef().Insects)}),this.oceanCritter=ee(()=>{let l=this.dashboards.getOceanCritter();return this.critterEntriesToList(l(),n(),this.museuemDef()["Sea critters"])}),this.birthdaysToday=ee(()=>{let l=this.dashboards.getBirthdays()(),I=n().season,x=n().day;return l.filter(E=>E.birthday.day===x&&E.birthday.season===I)}),this.birthdaysTomorrow=ee(()=>{let l=this.dashboards.getBirthdays()(),I=n().season,E={day:n().day,season:I,year:1},U=ye(E,1);return l.filter(Q=>Q.birthday.day===U.day&&Q.birthday.season===U.season)})}critterEntriesToList(n,l,I){let x=l.season,E=l.weather,U=l.hideCompleted,Q=n.filter(N=>N.seasons.includes(x)&&(N.weathers.includes(E)||!N.weathers.length)),L=[];return I.forEach(N=>{let V=Q.find(Z=>Z.id===N.id);if(V){let Z=this.museumChecklistService.isChecked(V.id);Z&&U||L.push({completed:Z,context:"museum",entry:V})}}),L}updateChecklist(n,l,I){this.museumChecklistService.isChecked(l)?this.museumChecklistService.remove(l):this.museumChecklistService.add(l)}};i=new WeakMap,t.\u0275fac=function(l){return new(l||t)},t.\u0275cmp=T({type:t,selectors:[["app-index"]],features:[B],decls:8,vars:6,consts:[[3,"removePlaceholder"],["listDetail","",3,"item"],[1,"mb-4","font-semibold","text-3xl","text-white","flex","items-center","gap-x-4"],[1,"my-5","block",3,"parentFormGroup"],["appDatabaseItemDetails",""],[3,"details"],[1,"my-2"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[1,"@container"],[1,"@3xl:grid-cols-2","grid","gap-x-3","gap-y-5"],[1,"mb-4","font-semibold","text-2xl","text-black"],[3,"itemClicked","birthdays"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked"],[1,"col-span-full"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"change","id","checked","name"],[1,"mx-auto"]],template:function(l,I){l&1&&(a(0,"app-list-detail-container",0),h(1,pi,2,1,"app-item-card-switch",1),a(2,"h1",2),d(3," My Coral Guide "),s(),f(4,"app-dashboard-filter",3),h(5,yi,34,5),S(6,"async"),h(7,gi,3,0),s()),l&2&&(m("removePlaceholder",I.showTable),c(),v(I.selectedEntity?1:-1),c(3),m("parentFormGroup",I.filterFormGroup),c(),v(w(6,4,I.requests$)?5:7))},dependencies:[G,It,J,R,Y,re,ae,Me,$e,q],encapsulation:2});let e=t;return e})();var Ve=(()=>{let i=class i extends Ie{constructor(){super(),this.checklistForm=new xe({}),this.checklistForm.valueChanges.pipe(ve()).subscribe({next:r=>{let o=[];Object.keys(r).forEach(n=>{r[n]&&o.push(n)}),this.checklistService.set(o)}})}ngOnInit(){this.checklistDefinition$=this.checklistDefinition$.pipe(He(1),P(r=>{let o=Object.keys(r);o.forEach(n=>{r[n].forEach(l=>{this.checklistForm.addControl(l.id,new O(this.checklistService.isChecked(l.id),{nonNullable:!0}),{emitEvent:!1})})}),this.activateTabFromRoute(o)}))}keyValueNoOrder(){return 0}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=T({type:i,selectors:[["ng-component"]],features:[B],decls:0,vars:0,template:function(o,n){},encapsulation:2});let e=i;return e})();function bi(e,i){if(e&1&&f(0,"app-fish",4),e&2){let t=p().$implicit;m("fish",t.fish)}}function vi(e,i){if(e&1&&f(0,"app-insect",5),e&2){let t=p().$implicit;m("critter",t.insect)}}function Ii(e,i){if(e&1&&f(0,"app-insect",5),e&2){let t=p().$implicit;m("critter",t.oceanCritter)}}function Si(e,i){if(e&1&&f(0,"app-shop-processing-result",6),e&2){let t=p().$implicit;m("itemProcessData",t.chanceAsProcessResult)}}function Ti(e,i){if(e&1&&h(0,bi,1,1,"app-fish",4)(1,vi,1,1,"app-insect",5)(2,Ii,1,1,"app-insect",5)(3,Si,1,1,"app-shop-processing-result",6),e&2){let t=i.$implicit;v(t.fish?0:t.insect?1:t.oceanCritter?2:t.chanceAsProcessResult?3:-1)}}function Fi(e,i){if(e&1&&(a(0,"app-database-item-details",1),h(1,Ti,4,1,"ng-template",3),s()),e&2){let t=p();m("itemId",t.selectedEntity.id)}}function Di(e,i){if(e&1){let t=D();a(0,"div",11)(1,"app-item-icon",12),_("click",function(){let o=k(t).$implicit,n=p(4);return b(n.showDetails(o))}),s(),a(2,"label",13),f(3,"mat-checkbox",14),s()()}if(e&2){let t,r=i.$implicit,o=p(4);$("checklist-checked",(t=o.checklistForm.get(r.id))==null?null:t.value)("selected-icon",(o.selectedEntity==null?null:o.selectedEntity.id)===r.id),c(),m("itemName",r.iconName),c(),u("for","entry-",r.id,"-input"),c(),u("id","entry-",r.id,""),u("name","entry-",r.id,""),m("formControlName",r.id)}}function wi(e,i){if(e&1&&(a(0,"div",9),C(1,Di,4,12,"div",10,F),s()),e&2){let t=p().$implicit;c(),y(t.value)}}function Ei(e,i){if(e&1&&(a(0,"mat-tab",8),h(1,wi,3,0,"div",9),s()),e&2){let t=i.$implicit,r=p(2);m("formGroup",r.checklistForm)("label",t.key),c(),v(r.showTable?-1:1)}}function Mi(e,i){if(e&1){let t=D();a(0,"mat-tab-group",7),_("selectedTabChange",function(o){k(t);let n=p();return b(n.updateUrl(o))}),C(1,Ei,2,3,"mat-tab",8,F),S(3,"keyvalue"),s()}if(e&2){let t=p();m("selectedIndex",t.selectedTabIndex()),c(),y(_e(3,1,i,t.keyValueNoOrder))}}var Wt=(()=>{let i=class i extends Ve{constructor(){super(),this.checklistService=M(Ee),this.checklistDefinition$=this._database.fetchMuseumChecklist$()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=T({type:i,selectors:[["app-museum-checklist"]],features:[B],decls:4,vars:5,consts:[[3,"removePlaceholder"],["listDetail","","context","museum",3,"itemId"],[3,"selectedIndex"],["appDatabaseItemDetails",""],[3,"fish"],[3,"critter"],[1,"mb-4",3,"itemProcessData"],[3,"selectedTabChange","selectedIndex"],[3,"formGroup","label"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"]],template:function(o,n){if(o&1&&(a(0,"app-list-detail-container",0),h(1,Fi,2,1,"app-database-item-details",1)(2,Mi,4,4,"mat-tab-group",2),S(3,"async"),s()),o&2){let l;m("removePlaceholder",n.showTable),c(),v(n.selectedEntity?1:-1),c(),v((l=w(3,3,n.checklistDefinition$))?2:-1,l)}},dependencies:[G,J,ie,ne,R,K,H,W,z,oe,Y,De,Te,Fe,q,Ce],encapsulation:2});let e=i;return e})();var $i=(e,i)=>i.key;function Vi(e,i){if(e&1&&f(0,"app-cooking-recipe",5),e&2){let t=i.$implicit;m("cookingRecipe",t)}}function Pi(e,i){if(e&1&&C(0,Vi,1,1,"app-cooking-recipe",5,$i),e&2){let t=i.$implicit;y(t.cookedFrom)}}function Bi(e,i){if(e&1&&(a(0,"app-database-item-details",1),h(1,Pi,2,0,"ng-template",4),s()),e&2){let t=p();m("itemId",t.selectedEntity.id)}}function Oi(e,i){if(e&1){let t=D();a(0,"div",8)(1,"app-item-icon",9),_("click",function(){let o=k(t).$implicit,n=p(3);return b(n.showDetails(o))}),s(),a(2,"label",10),f(3,"mat-checkbox",11),s()()}if(e&2){let t,r=i.$implicit,o=p(3);$("checklist-checked",(t=o.checklistForm.get(r.id))==null?null:t.value)("selected-icon",(o.selectedEntity==null?null:o.selectedEntity.id)===r.id),c(),m("itemName",r.iconName),c(),u("for","entry-",r.id,"-input"),c(),u("id","entry-",r.id,""),u("name","entry-",r.id,""),m("formControlName",r.id)}}function Ri(e,i){if(e&1&&(a(0,"div",6),C(1,Oi,4,12,"div",7,F),s()),e&2){let t=p().$implicit;c(),y(t.value)}}function Gi(e,i){if(e&1&&(a(0,"mat-tab",3),S(1,"addSpacesToPascalCase"),S(2,"titlecase"),h(3,Ri,3,0,"div",6),s()),e&2){let t=i.$implicit,r=p();m("formGroup",r.checklistForm)("label",r.cookingUtensilMapping[t.key.toLowerCase()]?r.cookingUtensilMapping[t.key.toLowerCase()].displayName:w(2,5,w(1,3,t.key))),c(3),v(r.showTable?-1:3)}}var zt=(()=>{let i=class i extends Ve{constructor(){super(),this.checklistService=M(At),this.checklistDefinition$=this._database.fetchCookingRecipesChecklist$(),this.cookingUtensilMapping=this._database.getCookingUtensilMapping(),this.urlPathFromLabel=r=>{let o=Object.keys(this.cookingUtensilMapping).find(n=>this.cookingUtensilMapping[n].displayName===r);return o||r.toLowerCase().replaceAll(" ","")}}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=T({type:i,selectors:[["app-cooking-recipes-checklist"]],features:[B],decls:7,vars:8,consts:[[3,"removePlaceholder"],["listDetail","","hideQualityGrid","","context","cooking_recipes",3,"itemId"],[3,"selectedTabChange","selectedIndex"],[3,"formGroup","label"],["appDatabaseItemDetails",""],[1,"mb-4",3,"cookingRecipe"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"]],template:function(o,n){o&1&&(a(0,"app-list-detail-container",0),h(1,Bi,2,1,"app-database-item-details",1),a(2,"mat-tab-group",2),_("selectedTabChange",function(I){return n.updateUrl(I)}),C(3,Gi,4,7,"mat-tab",3,F),S(5,"async"),S(6,"keyvalue"),s()()),o&2&&(m("removePlaceholder",n.showTable),c(),v(n.selectedEntity?1:-1),c(),m("selectedIndex",n.selectedTabIndex()),c(),y(_e(6,5,w(5,3,n.checklistDefinition$),n.keyValueNoOrder)))},dependencies:[G,J,ie,ne,R,K,H,W,z,we,oe,Y,q,et,Ce,te],encapsulation:2});let e=i;return e})();function Ai(e,i){if(e&1&&f(0,"app-offering",3),e&2){let t=i.$implicit;m("details",t)}}function Li(e,i){if(e&1&&(a(0,"app-item-card-switch",0),h(1,Ai,1,1,"ng-template",2),s()),e&2){let t=p();m("item",t.selectedEntity)}}function ji(e,i){if(e&1){let t=D();a(0,"div",13),S(1,"entityKey"),a(2,"app-item-icon",14),_("click",function(){k(t);let o=p().$implicit,n=p(5);return b(n.showDetails(o))}),s(),a(3,"label",15),f(4,"mat-checkbox",16),s()()}if(e&2){let t,r=i,o=p().$implicit,n=p(5);$("checklist-checked",(t=n.checklistForm.get(r))==null?null:t.value)("selected-icon",n.selectedEntity&&w(1,14,n.selectedEntity)===r),c(2),m("amount",o.amount)("itemName",o.item.iconName)("quality",o.quality),c(),u("for","entry-",r,"-input"),c(),u("id","entry-",r,""),u("name","entry-",r,""),m("formControlName",r)}}function Ui(e,i){if(e&1&&(h(0,ji,5,16,"div",12),S(1,"entityKey")),e&2){let t,r=i.$implicit;v((t=w(1,1,r.item))?0:-1,t)}}function qi(e,i){if(e&1&&(a(0,"div",7)(1,"div",8),f(2,"img",9),a(3,"div",10)(4,"div"),d(5),s(),a(6,"div"),d(7),s()()(),a(8,"div",11),C(9,Ui,2,3,null,null,F),s()()),e&2){let t=i.$implicit,r=p(4);c(),$("bg-merino-300",(r.activeOffering==null?null:r.activeOffering.title)===t.title),c(),u("alt","",t.title," offering icon"),u("ngSrc","",r.bundleAssetPath()+t.imageName,".webp"),c(3),me(t.title),c(2),le(" ",t.numOfItemRequired===-1?"All":t.numOfItemRequired," required: "),c(2),y(t.requiredItems)}}function Ki(e,i){if(e&1&&(a(0,"div",6),C(1,qi,11,8,"div",7,F),s()),e&2){let t=p().$implicit;c(),y(t.offerings)}}function Hi(e,i){if(e&1&&(a(0,"mat-tab",5),S(1,"addSpacesToPascalCase"),h(2,Ki,3,0,"div",6),s()),e&2){let t=i.$implicit,r=p(2);Ze("label",w(1,2,t.offeringGroupTitle)),c(2),v(r.showTable?-1:2)}}function Wi(e,i){if(e&1){let t=D();a(0,"mat-tab-group",4),_("selectedTabChange",function(o){k(t);let n=p();return b(n.updateUrl(o))}),C(1,Hi,3,4,"mat-tab",5,F),s()}if(e&2){let t=p();m("formGroup",t.checklistForm)("selectedIndex",t.selectedTabIndex()),c(),y(i)}}var Jt=(()=>{let i=class i extends Ie{constructor(){super(),this.checklistService=M(Lt),this.checklistForm=new xe({}),this.useBeta=M(st).getSettings().useBeta,this.bundleAssetPath=j(`assets/${this.useBeta?"beta":"live"}/items/icons/`),this._altars=[],this.urlPathFromLabel=r=>{let o=r.toLowerCase().replaceAll(" ",""),n=this._altars.find(l=>l.offeringGroupTitle.toLowerCase().replaceAll(" ","")===o);return n?n.urlPath:r.toLowerCase().replaceAll(" ","")},this.checklistForm.valueChanges.pipe(ve()).subscribe({next:r=>{let o=[];Object.keys(r).forEach(n=>{r[n]&&o.push(n)}),this.checklistService.set(o)}}),this.offerings$=this._database.fetchOfferings$().pipe(de(r=>{let o=r.filter(l=>!l.customType),n=o.map(l=>l.urlPath);return this._altars=o,o.forEach(l=>{l.offerings.forEach(I=>{I.requiredItems.forEach(x=>{let E=at(x.item);this.checklistForm.addControl(E,new O(this.checklistService.isChecked(E),{nonNullable:!0}),{emitEvent:!1})})})}),this.activateTabFromRoute(n),o}))}showDetails(r){this.entryForToDo=r,r&&"amount"in r?super.showDetails(r.item):super.showDetails(r)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=T({type:i,selectors:[["app-offerings-checklist"]],features:[B],decls:4,vars:4,consts:[["listDetail","","context","offerings",3,"item"],[3,"formGroup","selectedIndex"],["appDatabaseItemDetails",""],[3,"details"],[3,"selectedTabChange","formGroup","selectedIndex"],[3,"label"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"flex","flex-col","gap-y-2"],[1,"rounded-lg","bg-merino","flex","items-center","gap-4","p-4"],["height","64","width","64",3,"alt","ngSrc"],[1,"flex","flex-col","text-lg","font-semibold"],[1,"icon-grid","w-full"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","amount","itemName","quality"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"]],template:function(o,n){if(o&1&&(a(0,"app-list-detail-container"),h(1,Li,2,1,"app-item-card-switch",0)(2,Wi,3,2,"mat-tab-group",1),S(3,"async"),s()),o&2){let l;c(),v(n.selectedEntity?1:-1),c(),v((l=w(3,2,n.offerings$))?2:-1,l)}},dependencies:[G,J,ie,ne,R,K,H,W,z,Y,re,ae,it,q,Nt,te],encapsulation:2});let e=i;return e})();var zi=[{path:"",component:jt,children:[{path:"",component:Kt},{path:"to-do",loadChildren:()=>import("./chunk-WHKSG3Q2.js").then(e=>e.ToDoModule)},{path:"museum-checklist",redirectTo:"museum-checklist/",pathMatch:"full"},{path:"museum-checklist/:tabName",component:Wt,title:"Museum checklist - My Guide"},{path:"cooking-recipes-checklist",redirectTo:"cooking-recipes-checklist/",pathMatch:"full"},{path:"cooking-recipes-checklist/:tabName",component:zt,title:"Cooking recipes checklist - My Guide"},{path:"offerings-checklist",redirectTo:"offerings-checklist/",pathMatch:"full"},{path:"offerings-checklist/:tabName",component:Jt,title:"Offerings checklist - My Guide"},{path:"settings",loadChildren:()=>import("./chunk-QSI43SYB.js").then(e=>e.SettingsModule),title:"Settings - My Guide"}]}],Yt=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=ue({type:i}),i.\u0275inj=fe({imports:[Be.forChild(zi),Be]});let e=i;return e})();var pr=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=ue({type:i}),i.\u0275inj=fe({imports:[tt,Yt,Se,Rt,wt,yt,ge,Ot,we,oe,Bt,De,Te,Fe,re,$t,Pt,Vt,ae,be,Me,$e]});let e=i;return e})();export{pr as MyCoralGuideModule};
