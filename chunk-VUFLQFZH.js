import{a as ue,b as pt,c as dt}from"./chunk-PE5NT27Z.js";import{a as mt}from"./chunk-7UPAL45P.js";import{a as pe}from"./chunk-2332RXAP.js";import{a as J,c as Q}from"./chunk-KIF5XJGK.js";import"./chunk-DJJM56ZO.js";import"./chunk-73EV7BE6.js";import{a as he,b as fe}from"./chunk-GGMDRX3F.js";import{a as G}from"./chunk-6BQ7ENZ6.js";import{a as it,b as nt,c as st}from"./chunk-TVU3H65T.js";import"./chunk-RJVNGUST.js";import{a as ct}from"./chunk-DQD7JYIW.js";import"./chunk-UQURLLIY.js";import{a as lt}from"./chunk-FWXEFMEW.js";import"./chunk-TOEGTLNV.js";import{a as Qe,b as Xe,c as Ze}from"./chunk-6ZDMZINW.js";import"./chunk-FKKEM7DA.js";import{a as de}from"./chunk-XCH4B6E5.js";import"./chunk-RVJGASBU.js";import"./chunk-NRMPYCZJ.js";import"./chunk-WQWQCRBZ.js";import{a as at}from"./chunk-74VEJBIO.js";import{B as rt,c as Pe,g as L,h as j,i as Ae,j as le,l as B,n as Le,p as U,q,r as je,s as Ue,t as qe,u as Ke,v as K,x as ot}from"./chunk-TECYW7AI.js";import{b as H,c as me,d as et,e as tt}from"./chunk-HXFFMZVC.js";import{a as X,g as V}from"./chunk-J3AOBVKI.js";import"./chunk-6J4LBBHO.js";import{a as Ve,b as Re}from"./chunk-QQ6QL743.js";import{T as He,W as Ye,a as ce,b as Me,d as ne,i as Ne,l as $e,q as Be,v as Ge}from"./chunk-IYHG6KR3.js";import{j as We,n as ze}from"./chunk-UGZM4TBL.js";import"./chunk-6WBN6GOM.js";import{a as Je}from"./chunk-BLXOHTRX.js";import"./chunk-HU7WFQWJ.js";import{R as Oe}from"./chunk-ZZAXS4CE.js";import{$ as N,Ab as $,Ac as ie,Ad as Ee,Db as f,Ea as Fe,Fa as re,K as be,Kb as Te,Lb as Se,Lc as Ce,Nb as l,Nc as k,Oc as T,Pb as D,Pc as ae,Tb as g,V as ee,Vb as v,Wb as _,Xb as C,Yb as o,Zb as r,_b as d,_c as Y,ca as ve,cc as F,fc as u,gb as a,hc as m,ia as S,kc as we,lc as h,o as Z,ob as O,pd as A,qa as y,qd as De,ra as x,rd as se,t as oe,ua as Ie,wb as b,yc as p,z as ke,zc as te}from"./chunk-ZXANYF3K.js";var ht=(()=>{class t{constructor(){this.uiIcon=ne}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-my-coral-guide"]],decls:9,vars:6,consts:[["exact","","label","Dashboard","routerLink",".",3,"uiIcon"],["label","To-dos","routerLink","to-do",3,"uiIcon"],["label","Offerings checklist","routerLink","offerings-checklist",3,"uiIcon"],["label","Museum checklist","routerLink","museum-checklist",3,"uiIcon"],["label","Cooking recipes checklist","routerLink","cooking-recipes-checklist",3,"uiIcon"],["label","Settings","routerLink","settings",3,"uiIcon"],[1,"hidden"]],template:function(i,n){i&1&&(o(0,"app-sidebar-container")(1,"app-module-sidebar"),d(2,"app-module-sidebar-item",0)(3,"app-module-sidebar-item",1)(4,"app-module-sidebar-item",2)(5,"app-module-sidebar-item",3)(6,"app-module-sidebar-item",4)(7,"app-module-sidebar-item",5),r(),d(8,"router-outlet",6),r()),i&2&&(a(2),l("uiIcon",n.uiIcon.MY_CORAL),a(),l("uiIcon",n.uiIcon.TO_DO),a(),l("uiIcon",n.uiIcon.OFFERING),a(),l("uiIcon",n.uiIcon.MUSEUM),a(),l("uiIcon",n.uiIcon.COOKING),a(),l("uiIcon",n.uiIcon.SETTINGS))},dependencies:[Ze,Xe,Qe,We],encapsulation:2})}}return t})();var ft=(()=>{class t extends Ve{#e=O([]);#t=O([]);#i=O([]);#n=O([]);getFish$(){return this.#e().length?Z(this.#e.asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-fish.json`).pipe(N(e=>this.#e.set(e)),ee(1))}getInsects$(){return this.#t().length?Z(this.#t.asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-insects.json`).pipe(N(e=>this.#t.set(e)),ee(1))}getOceanCritters$(){return this.#i().length?Z(this.#i.asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/museum-ocean-critters.json`).pipe(N(e=>this.#i.set(e)),ee(1))}getFish(){return this.#e.asReadonly()}getInsects(){return this.#t.asReadonly()}getOceanCritter(){return this.#i.asReadonly()}getBirthdays$(){return this.#n().length?Z(this.#n.asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/birthdays.json`).pipe(N(e=>this.#n.set(e)),ee(1))}getBirthdays(){return this.#n.asReadonly()}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(t)))(n||t)}})()}static{this.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ut=t=>["/npcs",t];function bt(t,s){if(t&1){let e=F();o(0,"app-item-icon",11),u("click",function(){y(e);let n=m().$implicit,c=m(2);return x(c.itemClicked.emit(n.item))}),r()}if(t&2){let e=m().$implicit;l("itemName",e.item.iconName)}}function vt(t,s){if(t&1&&(o(0,"span"),p(1),k(2,"addSpacesToPascalCase"),r()),t&2){let e=m().$implicit;a(),ie("All ",T(2,1,e.categoryName),"")}}function It(t,s){if(t&1&&f(0,bt,1,1,"app-item-icon",10)(1,vt,3,3,"span"),t&2){let e=s.$implicit;g(e.type==="item"?0:-1),a(),g(e.type==="category"?1:-1)}}function Ft(t,s){t&1&&p(0," No individual loved gifts. ")}function Tt(t,s){if(t&1&&(o(0,"div",0)(1,"div",1)(2,"a",2),d(3,"app-item-icon",3),r(),o(4,"div",4)(5,"a",5),p(6),r()()(),o(7,"div",6)(8,"div",7),d(9,"app-ui-icon",8),p(10," Loved "),r(),o(11,"div",9),_(12,It,2,2,null,null,v,!1,Ft,1,0),r()()()),t&2){let e=s.$implicit,i=m();a(2),l("routerLink",Ce(6,ut,e.npcKey)),a(),l("itemName",e.iconName),a(2),l("routerLink",Ce(8,ut,e.npcKey)),a(),ie(" ",e.characterName," "),a(3),l("uiIcon",i.UiIcon.LOVE),a(3),C(e.lovedGifts)}}function St(t,s){t&1&&(o(0,"p"),p(1,"No birthdays."),r())}var _t=(()=>{class t{constructor(){this.birthdays=re.required(),this.itemClicked=Fe(),this.UiIcon=ne,this.uiIcon=ne}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-birthday-dashboard"]],hostAttrs:[1,"flex","flex-col","gap-3"],inputs:{birthdays:[1,"birthdays"]},outputs:{itemClicked:"itemClicked"},decls:3,vars:1,consts:[[1,"flex","gap-1","flex-col"],[1,"text-2xl","text-black","font-semibold","flex","gap-2","items-center","gifting-portrait"],[3,"routerLink"],[1,"h-12","birthday-npc-image",3,"itemName"],[1,"flex","flex-col"],[1,"flex","gap-2","items-center",3,"routerLink"],[1,"flex","gap-2"],[1,"font-semibold","flex","items-center","flex-col","shrink-0","basis-12","text-black"],[1,"!text-gifting","!h-6","!w-6",3,"uiIcon"],[1,"flex","items-center","gap-2.5","flex-wrap"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"itemName"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"click","itemName"]],template:function(i,n){i&1&&_(0,Tt,15,10,"div",0,v,!1,St,2,0,"p"),i&2&&C(n.birthdays())},dependencies:[X,Ye,ze,V],styles:[`.birthday-npc-image.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center bottom}.birthday-gift-icon.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center}
`],encapsulation:2})}}return t})();function wt(t,s){if(t&1&&(o(0,"mat-option",6),p(1),r()),t&2){let e=s.$implicit;l("value",e),a(),te(e)}}function Dt(t,s){if(t&1&&(o(0,"mat-option",6),p(1),r()),t&2){let e=s.$implicit;l("value",e),a(),te(e)}}var Ct=(()=>{class t{constructor(){this.parentFormGroup=re.required(),this.Weathers=$e,this.Seasons=Ne}increaseDay(e){this.parentFormGroup().patchValue(ce(this.parentFormGroup().getRawValue(),e))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-dashboard-filter"]],inputs:{parentFormGroup:[1,"parentFormGroup"]},decls:25,vars:1,consts:[[1,"flex","flex-wrap","gap-x-3","gap-y-4",3,"formGroup"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","3rem"],["formControlName","day","inputmode","number","matInput","","max","28","min","1","pattern","[0-9]","type","number"],[1,"btn","-ml-2","touch-manipulation",3,"click"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","5rem"],["disableOptionCentering","","formControlName","season"],[3,"value"],["formControlName","year","inputmode","number","matInput","","min","1","pattern","[0-9]","type","number"],["disableOptionCentering","","formControlName","weather"],["formControlName","hideCompleted",1,"text-white","self-center"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),p(3,"Day"),r(),d(4,"input",2),r(),o(5,"button",3),u("click",function(){return n.increaseDay(1)}),p(6,"+"),r(),o(7,"mat-form-field",4)(8,"mat-label"),p(9,"Season"),r(),o(10,"mat-select",5),_(11,wt,2,2,"mat-option",6,v),r()(),o(13,"mat-form-field",1)(14,"mat-label"),p(15,"Year"),r(),d(16,"input",7),r(),o(17,"mat-form-field",4)(18,"mat-label"),p(19,"Weather"),r(),o(20,"mat-select",8),_(21,Dt,2,2,"mat-option",6,v),r()(),o(23,"mat-checkbox",9),p(24,"Hide completed"),r()()),i&2&&(l("formGroup",n.parentFormGroup()),a(11),C(n.Seasons),a(10),C(n.Weathers))},dependencies:[Ke,Pe,Le,L,j,qe,Ue,je,rt,ot,Oe,at,K,U,q,G,ct],encapsulation:2})}}return t})();var xe=(t,s)=>s.entry.id+s.context,Et=()=>[import("./chunk-7MCV5NI7.js").then(t=>t.MatProgressSpinner)];function Mt(t,s){if(t&1&&d(0,"app-offering",5),t&2){let e=s.$implicit;l("details",e)}}function Nt(t,s){if(t&1&&(o(0,"app-item-card-switch",1),f(1,Mt,1,1,"ng-template",4),r()),t&2){let e=m();l("item",e.selectedEntity)}}function $t(t,s){if(t&1){let e=F();o(0,"div",15)(1,"app-item-icon",16),u("click",function(){let n=y(e).$implicit,c=m(2);return x(c.showDetails({id:n.entry.id,displayName:"",iconName:n.entry.iconName}))}),r(),o(2,"label",17)(3,"mat-checkbox",18),u("change",function(n){let c=y(e).$implicit;return m(2).updateChecklist(n,c.entry.id,c.context),x(c.completed=!c.completed)}),r()()()}if(t&2){let e=s.$implicit;D("checklist-checked",e.completed),a(),l("itemName",e.entry.iconName),a(),h("for","entry-",e.entry.id,"-input"),a(),h("id","entry-",e.entry.id,""),h("name","entry-",e.entry.id,""),l("checked",e.completed)}}function Bt(t,s){t&1&&(o(0,"p",14),p(1,"No more fish to catch :)"),r())}function Gt(t,s){if(t&1){let e=F();o(0,"div",15)(1,"app-item-icon",16),u("click",function(){let n=y(e).$implicit,c=m(2);return x(c.showDetails({id:n.entry.id,displayName:"",iconName:n.entry.iconName}))}),r(),o(2,"label",17)(3,"mat-checkbox",18),u("change",function(n){let c=y(e).$implicit;return m(2).updateChecklist(n,c.entry.id,c.context),x(c.completed=!c.completed)}),r()()()}if(t&2){let e=s.$implicit;D("checklist-checked",e.completed),a(),l("itemName",e.entry.iconName),a(),h("for","entry-",e.entry.id,"-input"),a(),h("id","entry-",e.entry.id,""),h("name","entry-",e.entry.id,""),l("checked",e.completed)}}function Vt(t,s){t&1&&(o(0,"p",14),p(1,"No more fish to catch :)"),r())}function Rt(t,s){if(t&1){let e=F();o(0,"div",15)(1,"app-item-icon",16),u("click",function(){let n=y(e).$implicit,c=m(2);return x(c.showDetails({id:n.entry.id,displayName:"",iconName:n.entry.iconName}))}),r(),o(2,"label",17)(3,"mat-checkbox",18),u("change",function(n){let c=y(e).$implicit;return m(2).updateChecklist(n,c.entry.id,c.context),x(c.completed=!c.completed)}),r()()()}if(t&2){let e=s.$implicit;D("checklist-checked",e.completed),a(),l("itemName",e.entry.iconName),a(),h("for","entry-",e.entry.id,"-input"),a(),h("id","entry-",e.entry.id,""),h("name","entry-",e.entry.id,""),l("checked",e.completed)}}function Ot(t,s){t&1&&(o(0,"p",14),p(1,"No more fish to catch :)"),r())}function Pt(t,s){if(t&1){let e=F();o(0,"section",6)(1,"h2",7),p(2," Birthdays "),r(),o(3,"app-card",8)(4,"div",9)(5,"div")(6,"h2",10),p(7," Today "),r(),o(8,"app-birthday-dashboard",11),u("itemClicked",function(n){y(e);let c=m();return x(c.showDetails(n))}),r()(),o(9,"div")(10,"h2",10),p(11," Tomorrow "),r(),o(12,"app-birthday-dashboard",11),u("itemClicked",function(n){y(e);let c=m();return x(c.showDetails(n))}),r()()()()(),o(13,"section",6)(14,"h2",7),p(15," Fish "),r(),o(16,"div",12),_(17,$t,4,10,"div",13,xe,!1,Bt,2,0,"p",14),r()(),o(20,"section",6)(21,"h2",7),p(22," Insects "),r(),o(23,"div",12),_(24,Gt,4,10,"div",13,xe,!1,Vt,2,0,"p",14),r()(),o(27,"section",6)(28,"h2",7),p(29," Ocean critters "),r(),o(30,"div",12),_(31,Rt,4,10,"div",13,xe,!1,Ot,2,0,"p",14),r()()}if(t&2){let e=m();a(8),l("birthdays",e.birthdaysToday()),a(4),l("birthdays",e.birthdaysTomorrow()),a(5),C(e.fish()),a(7),C(e.insects()),a(7),C(e.oceanCritter())}}function At(t,s){t&1&&d(0,"mat-spinner",19)}function Lt(t,s){t&1&&(f(0,At,1,0),Te(1,0,Et),Se())}var yt=(()=>{class t extends tt{#e;constructor(){super(),this.dashboards=S(ft),this.museumChecklistService=S(ue),this.userData=S(He),this.#e=S(Re),this.museumChecklistDefinition$=this.#e.fetchMuseumChecklist$(),this.museuemDef=O({}),this.requests$=ke({museumDefinition:this.museumChecklistDefinition$.pipe(N(i=>this.museuemDef.set(i))),fish:this.dashboards.getFish$(),insects:this.dashboards.getInsects$(),oceanCritters:this.dashboards.getOceanCritters$(),birthdays:this.dashboards.getBirthdays$()}),this.filterFormGroup=new Ae({season:new B("Spring",{nonNullable:!0}),weather:new B("Sunny",{nonNullable:!0}),day:new B(1,{nonNullable:!0}),year:new B(1,{nonNullable:!0}),hideCompleted:new B(!0,{nonNullable:!0})}),this.filterFormGroup.patchValue(this.userData.getCurrentData().myGuideFilter);let e=et(this.filterFormGroup.valueChanges.pipe(oe(()=>this.filterFormGroup.getRawValue()),N(i=>{this.userData.getCurrentData().myGuideFilter=i,this.userData.save()})),{initialValue:this.filterFormGroup.getRawValue()});this.fish=Y(()=>{let i=this.dashboards.getFish(),n=e().season,c=e().weather,I=e().hideCompleted,P=i().filter(R=>{let w=R.seasons.includes(n)&&R.weathers.includes(c),M={day:e().day,season:e().season,year:e().year},z=R.dateRanges.map(ge=>({from:ge.startsFrom,to:ge.lastsTill}));return w&&(!R.dateRanges.length||Me(M,z,!0))}),E=[];return this.museuemDef().Fish.forEach(R=>{let w=P.find(M=>M.id===R.id);if(w){let M=this.museumChecklistService.isChecked(w.id);M&&I||E.push({completed:M,context:"museum",entry:w})}}),E}),this.insects=Y(()=>{let i=this.dashboards.getInsects();return this.critterEntriesToList(i(),e(),this.museuemDef().Insects)}),this.oceanCritter=Y(()=>{let i=this.dashboards.getOceanCritter();return this.critterEntriesToList(i(),e(),this.museuemDef()["Sea critters"])}),this.birthdaysToday=Y(()=>{let i=this.dashboards.getBirthdays()(),n=e().season,c=e().day;return i.filter(I=>I.birthday.day===c&&I.birthday.season===n)}),this.birthdaysTomorrow=Y(()=>{let i=this.dashboards.getBirthdays()(),n=e().season,I={day:e().day,season:n,year:1},P=ce(I,1);return i.filter(E=>E.birthday.day===P.day&&E.birthday.season===P.season)})}critterEntriesToList(e,i,n){let c=i.season,I=i.weather,P=i.hideCompleted,E=e.filter(w=>w.seasons.includes(c)&&(w.weathers.includes(I)||!w.weathers.length)),R=[];return n.forEach(w=>{let M=E.find(z=>z.id===w.id);if(M){let z=this.museumChecklistService.isChecked(M.id);z&&P||R.push({completed:z,context:"museum",entry:M})}}),R}updateChecklist(e,i,n){this.museumChecklistService.isChecked(i)?this.museumChecklistService.remove(i):this.museumChecklistService.add(i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-index"]],features:[$],decls:8,vars:6,consts:[[3,"removePlaceholder"],["listDetail","",3,"item"],[1,"mb-4","font-semibold","text-3xl","text-white","flex","items-center","gap-x-4"],[1,"my-5","block",3,"parentFormGroup"],["appDatabaseItemDetails",""],[3,"details"],[1,"my-2"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[1,"@container"],[1,"@3xl:grid-cols-2","grid","gap-x-3","gap-y-5"],[1,"mb-4","font-semibold","text-2xl","text-black"],[3,"itemClicked","birthdays"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked"],[1,"col-span-full"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"change","id","checked","name"],[1,"mx-auto"]],template:function(i,n){i&1&&(o(0,"app-list-detail-container",0),f(1,Nt,2,1,"app-item-card-switch",1),o(2,"h1",2),p(3," My Coral Guide "),r(),d(4,"app-dashboard-filter",3),f(5,Pt,34,5),k(6,"async"),f(7,Lt,3,0),r()),i&2&&(l("removePlaceholder",n.showTable),a(),g(n.selectedEntity?1:-1),a(3),l("parentFormGroup",n.filterFormGroup),a(),g(T(6,4,n.requests$)?5:7))},dependencies:[_t,H,fe,he,Ct,A,Je,V,G],encapsulation:2})}}return t})();var _e=(()=>{class t extends pe{constructor(){super(),this.checklistForm=new le({}),this.checklistForm.valueChanges.pipe(me()).subscribe({next:e=>{let i=[];Object.keys(e).forEach(n=>{e[n]&&i.push(n)}),this.checklistService.set(i)}})}ngOnInit(){this.checklistDefinition$=this.checklistDefinition$.pipe(be(1),N(e=>{let i=Object.keys(e);i.forEach(n=>{e[n].forEach(c=>{this.checklistForm.addControl(c.id,new B(this.checklistService.isChecked(c.id),{nonNullable:!0}),{emitEvent:!1})})}),this.activateTabFromRoute(i)}))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["ng-component"]],features:[$],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();function jt(t,s){if(t&1&&d(0,"app-fish",4),t&2){let e=m().$implicit;l("fish",e.fish)}}function Ut(t,s){if(t&1&&d(0,"app-insect",5),t&2){let e=m().$implicit;l("critter",e.insect)}}function qt(t,s){if(t&1&&d(0,"app-insect",5),t&2){let e=m().$implicit;l("critter",e.oceanCritter)}}function Kt(t,s){if(t&1&&d(0,"app-shop-processing-result",6),t&2){let e=m().$implicit;l("itemProcessData",e.chanceAsProcessResult)}}function Ht(t,s){if(t&1&&f(0,jt,1,1,"app-fish",4)(1,Ut,1,1,"app-insect",5)(2,qt,1,1,"app-insect",5)(3,Kt,1,1,"app-shop-processing-result",6),t&2){let e=s.$implicit;g(e.fish?0:e.insect?1:e.oceanCritter?2:e.chanceAsProcessResult?3:-1)}}function Wt(t,s){if(t&1&&(o(0,"app-database-item-details",1),f(1,Ht,4,1,"ng-template",3),r()),t&2){let e=m();l("itemId",e.selectedEntity.id)}}function zt(t,s){if(t&1){let e=F();o(0,"div",11)(1,"app-item-icon",12),u("click",function(){let n=y(e).$implicit,c=m(4);return x(c.showDetails(n))}),r(),o(2,"label",13),d(3,"mat-checkbox",14),r()()}if(t&2){let e,i=s.$implicit,n=m(4);D("checklist-checked",(e=n.checklistForm.get(i.id))==null?null:e.value)("selected-icon",(n.selectedEntity==null?null:n.selectedEntity.id)===i.id),a(),l("itemName",i.iconName),a(),h("for","entry-",i.id,"-input"),a(),h("id","entry-",i.id,""),h("name","entry-",i.id,""),l("formControlName",i.id)}}function Yt(t,s){if(t&1&&(o(0,"div",9),_(1,zt,4,12,"div",10,v),r()),t&2){let e=m().$implicit;a(),C(e.value)}}function Jt(t,s){if(t&1&&(o(0,"mat-tab",8),f(1,Yt,3,0,"div",9),r()),t&2){let e=s.$implicit,i=m(2);l("formGroup",i.checklistForm)("label",e.key),a(),g(i.showTable?-1:1)}}function Qt(t,s){if(t&1){let e=F();o(0,"mat-tab-group",7),u("selectedTabChange",function(n){y(e);let c=m();return x(c.updateUrl(n))}),_(1,Jt,2,3,"mat-tab",8,v),k(3,"keyvalue"),r()}if(t&2){let e=m();l("selectedIndex",e.selectedTabIndex()),a(),C(ae(3,1,s,null))}}var xt=(()=>{class t extends _e{constructor(){super(),this.checklistService=S(ue),this.checklistDefinition$=this._database.fetchMuseumChecklist$()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-museum-checklist"]],features:[$],decls:4,vars:5,consts:[[3,"removePlaceholder"],["listDetail","","context","museum",3,"itemId"],[3,"selectedIndex"],["appDatabaseItemDetails",""],[3,"fish"],[3,"critter"],[1,"mb-4",3,"itemProcessData"],[3,"selectedTabChange","selectedIndex"],[3,"formGroup","label"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"]],template:function(i,n){if(i&1&&(o(0,"app-list-detail-container",0),f(1,Wt,2,1,"app-database-item-details",1)(2,Qt,4,4,"mat-tab-group",2),k(3,"async"),r()),i&2){let c;l("removePlaceholder",n.showTable),a(),g(n.selectedEntity?1:-1),a(),g((c=T(3,3,n.checklistDefinition$))?2:-1,c)}},dependencies:[H,de,nt,it,st,A,Q,J,V,G,se,K,L,j,U,q],encapsulation:2})}}return t})();var Xt=(t,s)=>s.key;function Zt(t,s){if(t&1&&d(0,"app-cooking-recipe",5),t&2){let e=s.$implicit;l("cookingRecipe",e)}}function ei(t,s){if(t&1&&_(0,Zt,1,1,"app-cooking-recipe",5,Xt),t&2){let e=s.$implicit;C(e.cookedFrom)}}function ti(t,s){if(t&1&&(o(0,"app-database-item-details",1),f(1,ei,2,0,"ng-template",4),r()),t&2){let e=m();l("itemId",e.selectedEntity.id)}}function ii(t,s){if(t&1){let e=F();o(0,"div",8)(1,"app-item-icon",9),u("click",function(){let n=y(e).$implicit,c=m(3);return x(c.showDetails(n))}),r(),o(2,"label",10),d(3,"mat-checkbox",11),r()()}if(t&2){let e,i=s.$implicit,n=m(3);D("checklist-checked",(e=n.checklistForm.get(i.id))==null?null:e.value)("selected-icon",(n.selectedEntity==null?null:n.selectedEntity.id)===i.id),a(),l("itemName",i.iconName),a(),h("for","entry-",i.id,"-input"),a(),h("id","entry-",i.id,""),h("name","entry-",i.id,""),l("formControlName",i.id)}}function ni(t,s){if(t&1&&(o(0,"div",6),_(1,ii,4,12,"div",7,v),r()),t&2){let e=m().$implicit;a(),C(e.value)}}function oi(t,s){if(t&1&&(o(0,"mat-tab",3),k(1,"addSpacesToPascalCase"),k(2,"titlecase"),f(3,ni,3,0,"div",6),r()),t&2){let e=s.$implicit,i=m();l("formGroup",i.checklistForm)("label",i.cookingUtensilMapping[e.key.toLowerCase()]?i.cookingUtensilMapping[e.key.toLowerCase()].displayName:T(2,5,T(1,3,e.key))),a(3),g(i.showTable?-1:3)}}var gt=(()=>{class t extends _e{constructor(){super(),this.checklistService=S(pt),this.checklistDefinition$=this._database.fetchCookingRecipesChecklist$(),this.cookingUtensilMapping=this._database.getCookingUtensilMapping(),this.urlPathFromLabel=e=>{let i=Object.keys(this.cookingUtensilMapping).find(n=>this.cookingUtensilMapping[n].displayName===e);return i||e.toLowerCase().replaceAll(" ","")}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-cooking-recipes-checklist"]],features:[$],decls:7,vars:8,consts:[[3,"removePlaceholder"],["listDetail","","hideQualityGrid","","context","cooking_recipes",3,"itemId"],[3,"selectedTabChange","selectedIndex"],[3,"formGroup","label"],["appDatabaseItemDetails",""],[1,"mb-4",3,"cookingRecipe"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"]],template:function(i,n){i&1&&(o(0,"app-list-detail-container",0),f(1,ti,2,1,"app-database-item-details",1),o(2,"mat-tab-group",2),u("selectedTabChange",function(I){return n.updateUrl(I)}),_(3,oi,4,7,"mat-tab",3,v),k(5,"async"),k(6,"keyvalue"),r()()),i&2&&(l("removePlaceholder",n.showTable),a(),g(n.selectedEntity?1:-1),a(),l("selectedIndex",n.selectedTabIndex()),a(),C(ae(6,5,T(5,3,n.checklistDefinition$),null)))},dependencies:[H,de,Q,J,K,L,j,U,q,X,De,G,V,A,se,lt],encapsulation:2})}}return t})();function ri(t,s){if(t&1&&d(0,"app-offering",3),t&2){let e=s.$implicit;l("details",e)}}function ai(t,s){if(t&1&&(o(0,"app-item-card-switch",0),f(1,ri,1,1,"ng-template",2),r()),t&2){let e=m();l("item",e.selectedEntity)}}function si(t,s){if(t&1){let e=F();o(0,"div",13),k(1,"entityKey"),o(2,"app-item-icon",14),u("click",function(){y(e);let n=m().$implicit,c=m(5);return x(c.showDetails(n))}),r(),o(3,"label",15),d(4,"mat-checkbox",16),r()()}if(t&2){let e,i=s,n=m().$implicit,c=m(5);D("checklist-checked",(e=c.checklistForm.get(i))==null?null:e.value)("selected-icon",c.selectedEntity&&T(1,14,c.selectedEntity)===i),a(2),l("amount",n.amount)("itemName",n.item.iconName)("quality",n.quality),a(),h("for","entry-",i,"-input"),a(),h("id","entry-",i,""),h("name","entry-",i,""),l("formControlName",i)}}function ci(t,s){if(t&1&&(f(0,si,5,16,"div",12),k(1,"entityKey")),t&2){let e,i=s.$implicit;g((e=T(1,1,i.item))?0:-1,e)}}function li(t,s){if(t&1&&(o(0,"div",7)(1,"div",8),d(2,"img",9),o(3,"div",10)(4,"div"),p(5),r(),o(6,"div"),p(7),r()()(),o(8,"div",11),_(9,ci,2,3,null,null,v),r()()),t&2){let e=s.$implicit,i=m(4);a(),D("bg-merino-300",(i.activeOffering==null?null:i.activeOffering.title)===e.title),a(),h("alt","",e.title," offering icon"),h("ngSrc","",i.bundleAssetPath()+e.imageName,".webp"),a(3),te(e.title),a(2),ie(" ",e.numOfItemRequired===-1?"All":e.numOfItemRequired," required: "),a(2),C(e.requiredItems)}}function mi(t,s){if(t&1&&(o(0,"div",6),_(1,li,11,8,"div",7,v),r()),t&2){let e=m().$implicit;a(),C(e.offerings)}}function pi(t,s){if(t&1&&(o(0,"mat-tab",5),k(1,"addSpacesToPascalCase"),f(2,mi,3,0,"div",6),r()),t&2){let e=s.$implicit,i=m(2);we("label",T(1,2,e.offeringGroupTitle)),a(2),g(i.showTable?-1:2)}}function di(t,s){if(t&1){let e=F();o(0,"mat-tab-group",4),u("selectedTabChange",function(n){y(e);let c=m();return x(c.updateUrl(n))}),_(1,pi,3,4,"mat-tab",5,v),r()}if(t&2){let e=m();l("formGroup",e.checklistForm)("selectedIndex",e.selectedTabIndex()),a(),C(s)}}var kt=(()=>{class t extends pe{constructor(){super(),this.checklistService=S(dt),this.checklistForm=new le({}),this.useBeta=S(Ge).getSettings().useBeta,this.bundleAssetPath=O(`assets/${this.useBeta?"beta":"live"}/items/icons/`),this._altars=[],this.urlPathFromLabel=e=>{let i=e.toLowerCase().replaceAll(" ",""),n=this._altars.find(c=>c.offeringGroupTitle.toLowerCase().replaceAll(" ","")===i);return n?n.urlPath:e.toLowerCase().replaceAll(" ","")},this.checklistForm.valueChanges.pipe(me()).subscribe({next:e=>{let i=[];Object.keys(e).forEach(n=>{e[n]&&i.push(n)}),this.checklistService.set(i)}}),this.offerings$=this._database.fetchOfferings$().pipe(oe(e=>{let i=e.filter(c=>c.offeringType!=="Diving"),n=i.map(c=>c.urlPath);return this._altars=i,i.forEach(c=>{c.offerings.forEach(I=>{I.requiredItems.forEach(P=>{let E=Be(P.item);this.checklistForm.addControl(E,new B(this.checklistService.isChecked(E),{nonNullable:!0}),{emitEvent:!1})})})}),this.activateTabFromRoute(n),i}))}showDetails(e){this.entryForToDo=e,e&&"amount"in e?super.showDetails(e.item):super.showDetails(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-offerings-checklist"]],features:[$],decls:4,vars:4,consts:[["listDetail","","context","offerings",3,"item"],[3,"formGroup","selectedIndex"],["appDatabaseItemDetails",""],[3,"details"],[3,"selectedTabChange","formGroup","selectedIndex"],[3,"label"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"flex","flex-col","gap-y-2"],[1,"rounded-lg","bg-merino","flex","items-center","gap-4","p-4"],["height","64","width","64",3,"alt","ngSrc"],[1,"flex","flex-col","text-lg","font-semibold"],[1,"icon-grid","w-full"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","amount","itemName","quality"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"]],template:function(i,n){if(i&1&&(o(0,"app-list-detail-container"),f(1,ai,2,1,"app-item-card-switch",0)(2,di,3,2,"mat-tab-group",1),k(3,"async"),r()),i&2){let c;a(),g(n.selectedEntity?1:-1),a(),g((c=T(3,2,n.offerings$))?2:-1,c)}},dependencies:[J,X,K,L,j,U,q,Q,fe,he,H,mt,V,G,Ee,A],encapsulation:2})}}return t})();var Co=[{path:"",component:ht,children:[{path:"",component:yt},{path:"to-do",loadChildren:()=>import("./chunk-KGVADY2L.js").then(t=>t.routes)},{path:"museum-checklist",redirectTo:"museum-checklist/",pathMatch:"full"},{path:"museum-checklist/:tabName",component:xt,title:"Museum checklist - My Guide"},{path:"cooking-recipes-checklist",redirectTo:"cooking-recipes-checklist/",pathMatch:"full"},{path:"cooking-recipes-checklist/:tabName",component:gt,title:"Cooking recipes checklist - My Guide"},{path:"offerings-checklist",redirectTo:"offerings-checklist/",pathMatch:"full"},{path:"offerings-checklist/:tabName",component:kt,title:"Offerings checklist - My Guide"},{path:"settings",loadChildren:()=>import("./chunk-TCDNR7AE.js").then(t=>t.routes),title:"Settings - My Guide"}]}];export{Co as routes};
