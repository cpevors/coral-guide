import{a as Q,b as X}from"./chunk-WPABXWST.js";import"./chunk-RJVNGUST.js";import{a as q}from"./chunk-6INGX2LK.js";import{a as G,b as J}from"./chunk-MTSCKMCJ.js";import{b as j}from"./chunk-OIU2GQYM.js";import{a as Y}from"./chunk-LA3V2AP6.js";import"./chunk-EUMEDOOY.js";import"./chunk-IJLHJLTE.js";import"./chunk-WQWQCRBZ.js";import"./chunk-OZSG2FXQ.js";import"./chunk-74VEJBIO.js";import"./chunk-TECYW7AI.js";import{b as O}from"./chunk-HXFFMZVC.js";import{g as K}from"./chunk-J3AOBVKI.js";import"./chunk-6J4LBBHO.js";import"./chunk-QQ6QL743.js";import{W as z}from"./chunk-IYHG6KR3.js";import"./chunk-UGZM4TBL.js";import"./chunk-6WBN6GOM.js";import{a as L}from"./chunk-BLXOHTRX.js";import"./chunk-HU7WFQWJ.js";import"./chunk-ZZAXS4CE.js";import{$b as H,Ab as M,Ac as F,Db as s,Dc as I,Ec as v,Fc as A,Nb as d,Nc as w,Oc as x,Pb as T,Tb as m,Vb as b,Wb as S,Xb as D,Y as N,Yb as c,Zb as r,_b as _,a as U,ac as P,b as R,c as B,cc as u,fc as g,gb as l,hc as a,o as $,pd as W,qa as h,ra as C,u as k,wb as V,yc as f}from"./chunk-ZXANYF3K.js";function ee(t,o){if(t&1&&_(0,"app-shop-item-data-details",1),t&2){let e=a();d("shopItemData",e.selectedEntity)}}function te(t,o){if(t&1&&_(0,"app-animal-details",2),t&2){let e=a();d("mappedAnimalShopData",e.selectedAnimal)}}function ne(t,o){t&1&&_(0,"app-opening-hours",7),t&2&&d("openingHours",o)}function ie(t,o){if(t&1&&(s(0,ne,1,1,"app-opening-hours",7),w(1,"async")),t&2){let e,i=a();m((e=x(1,1,i.openingHours$))?0:-1,e)}}function oe(t,o){if(t&1){let e=u();c(0,"app-item-icon",12),g("click",function(){let n=h(e).$implicit,p=a(4);return C(p.showDetails(n))}),r()}if(t&2){let e=o.$implicit,i=a(4);T("selected-icon",(i.selectedEntity==null||i.selectedEntity.item==null?null:i.selectedEntity.item.id)===e.item.id),d("itemName",e.item.iconName)}}function ae(t,o){if(t&1&&(c(0,"div",9),S(1,oe,1,3,"app-item-icon",11,b),r()),t&2){let e=a();l(),D(e)}}function le(t,o){if(t&1&&_(0,"app-shop-item-data-table",10),t&2){let e=a();d("dataSource",e)}}function pe(t,o){if(t&1){let e=u();c(0,"app-data-filter",8),A("showTableChange",function(n){h(e);let p=a(2);return v(p.showTable,n)||(p.showTable=n),C(n)}),r(),s(1,ae,3,0,"div",9)(2,le,1,1,"app-shop-item-data-table",10)}if(t&2){let e=a(2);I("showTable",e.showTable),l(),m(e.showTable?-1:1),l(),m(e.showTable?2:-1)}}function re(t,o){if(t&1&&(c(0,"h2",5),f(1,"Stock list"),r(),s(2,pe,3,3),w(3,"async")),t&2){let e,i=a();l(2),m((e=x(3,1,i.shopItemData$))?2:-1,e)}}function me(t,o){if(t&1){let e=u();c(0,"app-item-icon",12),g("click",function(){let n=h(e).$implicit,p=a(3);return C(p.showAnimal(n))}),r()}if(t&2){let e,i=o.$implicit,n=a(3);T("selected-icon",(n.selectedAnimal==null?null:n.selectedAnimal.key)===i.key),d("itemName",(e=i.animal==null||i.animal.variants==null||i.animal.variants[0]==null||i.animal.variants[0].icons==null?null:i.animal.variants[0].icons.adult)!==null&&e!==void 0?e:null)}}function ce(t,o){if(t&1&&(c(0,"div",9),S(1,me,1,3,"app-item-icon",11,b),r()),t&2){let e=a();l(),D(e)}}function se(t,o){if(t&1){let e=u();c(0,"app-data-filter",8),A("showTableChange",function(n){h(e);let p=a();return v(p.showTable,n)||(p.showTable=n),C(n)}),r(),s(1,ce,3,0,"div",9)}if(t&2){let e=a();I("showTable",e.showTable),l(),m(e.showTable?-1:1)}}function de(t,o){t&1&&_(0,"app-animal-mood-table",6),t&2&&d("productSizeByMood",o)}var ve=(()=>{class t extends q{constructor(){super(),this.shopName="underwater-ranch",this.openingHours$=this._database.fetchOpeningHours$(this.shopName),this.sizeByMood$=this._database.fetchAnimalMoodData$(),this.animalData$=k([this._database.fetchAnimals$(),this._database.fetchAnimalShopData$(this.shopName)]).pipe(N(([e,i])=>$(i.map(n=>{let E=n,{animalKey:p}=E,y=B(E,["animalKey"]);return R(U({},y),{animal:e.find(Z=>Z.key===p)})}))))}showDetails(e){super.showDetails(e),this.selectedAnimal=void 0}showAnimal(e){this.selectedAnimal=e,this.selectedEntity=void 0,this.listDetail.open()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=V({type:t,selectors:[["app-underwater-ranch"]],features:[M],decls:18,vars:12,consts:[["listDetail",""],[3,"shopItemData"],[3,"mappedAnimalShopData"],[1,"mb-4","font-semibold","text-3xl","text-black","flex","items-center","gap-x-4"],[3,"uiIcon"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[3,"productSizeByMood"],[3,"openingHours"],[3,"showTableChange","showTable"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"selected-icon","itemName"],[1,"icon-grid-item",3,"click","itemName"]],template:function(i,n){if(i&1&&(c(0,"app-list-detail-container"),H(1,0),s(2,ee,1,1,"app-shop-item-data-details",1)(3,te,1,1,"app-animal-details",2),P(),c(4,"app-card")(5,"h1",3),_(6,"app-ui-icon",4),f(7),r(),s(8,ie,2,3),r(),s(9,re,4,3),c(10,"h2",5),f(11,"Animals"),r(),s(12,se,2,2),w(13,"async"),c(14,"h2",5),f(15,"Animal product size per mood and hearts"),r(),s(16,de,1,1,"app-animal-mood-table",6),w(17,"async"),r()),i&2){let p,y;l(2),m(n.selectedEntity?2:-1),l(),m(n.selectedAnimal?3:-1),l(3),d("uiIcon",n.SHOP_ICONS[n.shopName]),l(),F(" ",n.SHOP_DISPLAY_NAMES[n.shopName]," "),l(),m(n.openingHours$?8:-1),l(),m(n.shopItemData$?9:-1),l(3),m((p=x(13,8,n.animalData$))?12:-1,p),l(4),m((y=x(17,10,n.sizeByMood$))?16:-1,y)}},dependencies:[W,z,O,J,X,L,G,Y,K,j,Q],encapsulation:2})}}return t})();export{ve as UnderwaterRanchComponent};
