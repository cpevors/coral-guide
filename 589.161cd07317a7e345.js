"use strict";(self.webpackChunkguide=self.webpackChunkguide||[]).push([[589],{589:(yt,h,c)=>{c.r(h),c.d(h,{JournalModule:()=>Tt});var d=c(6895),y=c(5202),m=c(936),l=c(4931),b=c(15),t=c(4650),Z=c(2364),I=c(5141);let A=(()=>{class e{constructor(){this.UI_ICONS=b.a}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-journal"]],decls:10,vars:3,consts:[[1,"h-full","pl-[400px]","py-[60px]"],["routerLink","produce",3,"uiIcon"],["routerLink","caught",3,"uiIcon"],["routerLink","found",3,"uiIcon"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"app-module-sidebar")(2,"app-module-sidebar-item",1),t._uU(3,"Produce"),t.qZA(),t.TgZ(4,"app-module-sidebar-item",2),t._uU(5,"Caught"),t.qZA(),t.TgZ(6,"app-module-sidebar-item",3),t._uU(7,"Found"),t.qZA()(),t.TgZ(8,"div"),t._UZ(9,"router-outlet"),t.qZA()()),2&a&&(t.xp6(2),t.Q6J("uiIcon",i.UI_ICONS.FARMING),t.xp6(2),t.Q6J("uiIcon",i.UI_ICONS.CATCHING),t.xp6(2),t.Q6J("uiIcon",i.UI_ICONS.ARTISAN))},dependencies:[l.lC,l.rH,Z.R,I.z]}),e})();var F=c(1577),x=c(4004),v=c(9969);let g=(()=>{class e{constructor(){this._database=(0,t.f3M)(v.k)}getFilteredJournalData(a,i){return(0,F.a)([a,i]).pipe((0,x.U)(([s,o])=>{const r=[];return s.sort((u,_)=>u.order>_.order?1:-1).forEach(u=>{const _=o.find(C=>"item"in C?C.item.id===u.key:C.id===u.key);_&&r.push(_)}),r}))}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(a,i){},encapsulation:2}),e})();var p=c(9813);function M(e,n="Any"){return function J(e){const n=Object.keys(e);return n.map(i=>e[i]).filter(i=>i).length===n.length}(e)?n:Object.keys(e).filter(a=>e[a]).map(D).map(N).join(", ")}function D(e){return e.charAt(0).toUpperCase()+e.slice(1)}function N(e){return e.replaceAll(/([A-Z])/g," $1").trim()}var f=c(4175);function $(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2,"Size: "),t.TgZ(3,"span",2),t._uU(4),t.qZA()(),t.TgZ(5,"div"),t._uU(6,"Time: "),t.TgZ(7,"span",2),t._uU(8),t.qZA()(),t.TgZ(9,"div"),t._uU(10," Season: "),t.TgZ(11,"span",2),t._uU(12),t.qZA()(),t.TgZ(13,"div"),t._uU(14,"Weather: "),t.TgZ(15,"span",2),t._uU(16),t.qZA()(),t.BQk()),2&e){const a=t.oxw(2);t.xp6(4),t.Oqu(a.critter.fishSize),t.xp6(4),t.Oqu(a.getTruthyValues(a.critter.spawnTime)),t.xp6(4),t.Oqu(a.critter.isUsingSpecificDate?a.dateRangesToString(a.critter.dateRangeList):a.getTruthyValues(a.critter.spawnSeason)),t.xp6(4),t.Oqu(a.getTruthyValues(a.critter.spawnWeather))}}function w(e,n){if(1&e&&(t.TgZ(0,"app-base-item-card",1)(1,"div"),t._uU(2,"Rarity: "),t.TgZ(3,"span",2),t._uU(4),t.qZA()(),t.YNc(5,$,17,4,"ng-container",3),t.qZA()),2&e){const a=t.oxw();t.Q6J("item",a.critter.item),t.xp6(4),t.Oqu(a.critter.rarity),t.xp6(1),t.Q6J("ngIf",a.isFish(a.critter))}}let Q=(()=>{class e{constructor(){this.getTruthyValues=M}isFish(a){return"fishName"in a}dateRangesToString(a){return a.map(i=>`From ${i.startsFrom.season} ${i.startsFrom.day} to ${i.lastsTill.season} ${i.lastsTill.day}`).join(", ")}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-caught-details"]],inputs:{critter:"critter"},decls:1,vars:1,consts:[[3,"item",4,"ngIf"],[3,"item"],[1,"text-black"],[4,"ngIf"]],template:function(a,i){1&a&&t.YNc(0,w,6,3,"app-base-item-card",0),2&a&&t.Q6J("ngIf",i.critter)},dependencies:[d.O5,f.T]}),e})();function E(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"app-item-icon",10),t.NdJ("click",function(){const o=t.CHM(a).$implicit,r=t.oxw(2);return t.KtG(r.selectedEntity=o)}),t.qZA()}2&e&&t.Q6J("itemName",n.$implicit.item.iconName)}function k(e,n){if(1&e&&(t.TgZ(0,"div",8),t.YNc(1,E,1,1,"app-item-icon",9),t.qZA()),2&e){const a=n.ngIf;t.xp6(1),t.Q6J("ngForOf",a)}}function O(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"app-item-icon",10),t.NdJ("click",function(){const o=t.CHM(a).$implicit,r=t.oxw(2);return t.KtG(r.selectedEntity=o)}),t.qZA()}2&e&&t.Q6J("itemName",n.$implicit.item.iconName)}function S(e,n){if(1&e&&(t.TgZ(0,"div",8),t.YNc(1,O,1,1,"app-item-icon",9),t.qZA()),2&e){const a=n.ngIf;t.xp6(1),t.Q6J("ngForOf",a)}}function q(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"app-item-icon",10),t.NdJ("click",function(){const o=t.CHM(a).$implicit,r=t.oxw(2);return t.KtG(r.selectedEntity=o)}),t.qZA()}2&e&&t.Q6J("itemName",n.$implicit.item.iconName)}function P(e,n){if(1&e&&(t.TgZ(0,"div",8),t.YNc(1,q,1,1,"app-item-icon",9),t.qZA()),2&e){const a=n.ngIf;t.xp6(1),t.Q6J("ngForOf",a)}}function U(e,n){if(1&e&&t._UZ(0,"app-caught-details",11),2&e){const a=t.oxw();t.Q6J("critter",a.selectedEntity)}}let j=(()=>{class e extends g{constructor(){super(),this.fish$=this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fish"),this._database.fetchFish$()),this.insects$=this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-insects"),this._database.fetchBugsAndInsects$()),this.seaCritters$=this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-sea-critters"),this._database.fetchOceanCritters$())}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-caught"]],features:[t.qOj],decls:13,vars:10,consts:[[1,"flex"],["animationDuration","0",1,"px-[50px]","block"],["label","Fish"],["class","grid gap-4 grid-cols-8",4,"ngIf"],["label","Insects"],["label","Sea Critters"],[1,"flex-shrink-0","w-[600px]","px-10"],["class","sticky top-0",3,"critter",4,"ngIf"],[1,"grid","gap-4","grid-cols-8"],["class","icon-grid-item",3,"itemName","click",4,"ngFor","ngForOf"],[1,"icon-grid-item",3,"itemName","click"],[1,"sticky","top-0",3,"critter"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab",2),t.YNc(3,k,2,1,"div",3),t.ALo(4,"async"),t.qZA(),t.TgZ(5,"mat-tab",4),t.YNc(6,S,2,1,"div",3),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"mat-tab",5),t.YNc(9,P,2,1,"div",3),t.ALo(10,"async"),t.qZA()(),t.TgZ(11,"div",6),t.YNc(12,U,1,1,"app-caught-details",7),t.qZA()()),2&a&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,4,i.fish$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(7,6,i.insects$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(10,8,i.seaCritters$)),t.xp6(3),t.Q6J("ngIf",i.selectedEntity))},dependencies:[d.sg,d.O5,p.D,m.SP,m.uX,Q,d.Ov]}),e})();function Y(e,n){if(1&e&&t._UZ(0,"app-base-item-card",1),2&e){const a=t.oxw();t.Q6J("item",a.item)}}let L=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-found-details"]],inputs:{item:"item"},decls:1,vars:1,consts:[[3,"item",4,"ngIf"],[3,"item"]],template:function(a,i){1&a&&t.YNc(0,Y,1,1,"app-base-item-card",0),2&a&&t.Q6J("ngIf",i.item)},dependencies:[d.O5,f.T]}),e})();function H(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"app-item-icon",11),t.NdJ("click",function(){const o=t.CHM(a).$implicit,r=t.oxw(2);return t.KtG(r.selectedEntity=o)}),t.qZA()}2&e&&t.Q6J("itemName",n.$implicit.iconName)}function G(e,n){if(1&e&&(t.TgZ(0,"div",9),t.YNc(1,H,1,1,"app-item-icon",10),t.qZA()),2&e){const a=n.ngIf;t.xp6(1),t.Q6J("ngForOf",a)}}function X(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"app-item-icon",11),t.NdJ("click",function(){const o=t.CHM(a).$implicit,r=t.oxw(2);return t.KtG(r.selectedEntity=o)}),t.qZA()}2&e&&t.Q6J("itemName",n.$implicit.iconName)}function B(e,n){if(1&e&&(t.TgZ(0,"div",9),t.YNc(1,X,1,1,"app-item-icon",10),t.qZA()),2&e){const a=n.ngIf;t.xp6(1),t.Q6J("ngForOf",a)}}function z(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"app-item-icon",11),t.NdJ("click",function(){const o=t.CHM(a).$implicit,r=t.oxw(2);return t.KtG(r.selectedEntity=o)}),t.qZA()}2&e&&t.Q6J("itemName",n.$implicit.iconName)}function V(e,n){if(1&e&&(t.TgZ(0,"div",9),t.YNc(1,z,1,1,"app-item-icon",10),t.qZA()),2&e){const a=n.ngIf;t.xp6(1),t.Q6J("ngForOf",a)}}function R(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"app-item-icon",11),t.NdJ("click",function(){const o=t.CHM(a).$implicit,r=t.oxw(2);return t.KtG(r.selectedEntity=o)}),t.qZA()}2&e&&t.Q6J("itemName",n.$implicit.iconName)}function K(e,n){if(1&e&&(t.TgZ(0,"div",9),t.YNc(1,R,1,1,"app-item-icon",10),t.qZA()),2&e){const a=n.ngIf;t.xp6(1),t.Q6J("ngForOf",a)}}function W(e,n){if(1&e&&t._UZ(0,"app-found-details",12),2&e){const a=t.oxw();t.Q6J("item",a.selectedEntity)}}let tt=(()=>{class e extends g{constructor(){super(),this.artifacts$=this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artifacts"),this._database.fetchItems$()),this.fossils$=this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fossils"),this._database.fetchItems$()),this.gems$=this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-gems"),this._database.fetchItems$()),this.scavangable$=this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-scavangable"),this._database.fetchItems$())}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-found"]],features:[t.qOj],decls:16,vars:13,consts:[[1,"flex"],["animationDuration","0",1,"px-[50px]","block"],["label","Artifacts"],["class","grid gap-4 grid-cols-8",4,"ngIf"],["label","Gems"],["label","Fossils"],["label","Scavangable"],[1,"flex-shrink-0","w-[600px]","px-10"],["class","sticky top-0",3,"item",4,"ngIf"],[1,"grid","gap-4","grid-cols-8"],["class","icon-grid-item",3,"itemName","click",4,"ngFor","ngForOf"],[1,"icon-grid-item",3,"itemName","click"],[1,"sticky","top-0",3,"item"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab",2),t.YNc(3,G,2,1,"div",3),t.ALo(4,"async"),t.qZA(),t.TgZ(5,"mat-tab",4),t.YNc(6,B,2,1,"div",3),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"mat-tab",5),t.YNc(9,V,2,1,"div",3),t.ALo(10,"async"),t.qZA(),t.TgZ(11,"mat-tab",6),t.YNc(12,K,2,1,"div",3),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"div",7),t.YNc(15,W,1,1,"app-found-details",8),t.qZA()()),2&a&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,5,i.artifacts$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(7,7,i.gems$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(10,9,i.fossils$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(13,11,i.scavangable$)),t.xp6(3),t.Q6J("ngIf",i.selectedEntity))},dependencies:[d.sg,d.O5,p.D,m.SP,m.uX,L,d.Ov]}),e})();var et=c(3900),at=c(2314);let nt=(()=>{class e{transform(a){return Math.max(...a)}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275pipe=t.Yjl({name:"max",type:e,pure:!0}),e})();const it=function(e){return[1,e]};function ot(e,n){if(1&e&&(t.TgZ(0,"div"),t._uU(1,"Regrows: "),t.TgZ(2,"span",7),t._uU(3),t.ALo(4,"max"),t.qZA()()),2&e){const a=t.oxw().ngIf;t.xp6(3),t.hij("",t.lcZ(4,1,t.VKq(3,it,a.regrowableLength))," days")}}function rt(e,n){if(1&e&&(t.TgZ(0,"div"),t._uU(1,"Can combine: "),t.TgZ(2,"span",7),t._uU(3),t.qZA()()),2&e){const a=t.oxw().ngIf;t.xp6(3),t.hij("",a.chanceToCombine.chance,"%")}}function ct(e,n){1&e&&(t.TgZ(0,"div",7),t._uU(1,"Scythe required"),t.qZA())}function dt(e,n){1&e&&(t.TgZ(0,"div",7),t._uU(1,"Is trellis crop"),t.qZA())}function st(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"div",3),t._UZ(2,"app-item-icon",4),t.TgZ(3,"span",5),t._uU(4),t.qZA(),t._UZ(5,"app-money",6),t.qZA(),t.TgZ(6,"div"),t._uU(7,"Season: "),t.TgZ(8,"span",7),t._uU(9),t.qZA()(),t.TgZ(10,"div"),t._uU(11,"Time to mature: "),t.TgZ(12,"span",7),t._uU(13),t.qZA()(),t.YNc(14,ot,5,5,"div",2),t.YNc(15,rt,4,1,"div",2),t.TgZ(16,"div"),t._uU(17,"Size (WxL): "),t.TgZ(18,"span",7),t._uU(19),t.qZA()(),t.YNc(20,ct,2,0,"div",8),t.YNc(21,dt,2,0,"div",8),t.BQk()),2&e){const a=n.ngIf;t.xp6(2),t.Q6J("itemName",a.item.iconName),t.xp6(2),t.Oqu(a.readableName),t.xp6(1),t.Q6J("amount",a.item.price),t.xp6(4),t.Oqu(a.growableSeason.join(", ")),t.xp6(4),t.hij("",a.growTime," days"),t.xp6(1),t.Q6J("ngIf",a.isRegrowable),t.xp6(1),t.Q6J("ngIf",a.canCombine),t.xp6(4),t.AsE("",a.size.width,"x",a.size.length,""),t.xp6(1),t.Q6J("ngIf",a.isScytheRequired),t.xp6(1),t.Q6J("ngIf",a.isTrellisCrop)}}function mt(e,n){if(1&e&&(t.TgZ(0,"app-base-item-card",1),t.YNc(1,st,22,11,"ng-container",2),t.ALo(2,"async"),t.qZA()),2&e){const a=t.oxw();t.Q6J("item",a.item),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,a.crop$))}}let lt=(()=>{class e{constructor(a){this._database=a,this.getTruthyValues=M}ngOnChanges(a){const i=a.item?.currentValue;i&&(this.crop$=this._database.fetchCrops$().pipe((0,x.U)(s=>s.find(o=>o.pickupableItemId===i.id))))}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(v.k))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-produce-details"]],inputs:{item:"item"},features:[t.TTD],decls:1,vars:1,consts:[[3,"item",4,"ngIf"],[3,"item"],[4,"ngIf"],[1,"flex","items-center","mb-2"],[1,"h-10","w-10","mr-1",3,"itemName"],[1,"text-black","mr-3"],[3,"amount"],[1,"text-black"],["class","text-black",4,"ngIf"]],template:function(a,i){1&a&&t.YNc(0,mt,3,4,"app-base-item-card",0),2&a&&t.Q6J("ngIf",i.item)},dependencies:[d.O5,p.D,f.T,at.y,d.Ov,nt]}),e})();function pt(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"app-item-icon",10),t.NdJ("click",function(){const o=t.CHM(a).$implicit,r=t.oxw(2);return t.KtG(r.selectedEntity=o)}),t.qZA()}2&e&&t.Q6J("itemName",n.$implicit.iconName)}function ut(e,n){if(1&e&&(t.TgZ(0,"div",8),t.YNc(1,pt,1,1,"app-item-icon",9),t.qZA()),2&e){const a=n.ngIf;t.xp6(1),t.Q6J("ngForOf",a)}}function _t(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"app-item-icon",10),t.NdJ("click",function(){const o=t.CHM(a).$implicit,r=t.oxw(2);return t.KtG(r.selectedEntity=o)}),t.qZA()}2&e&&t.Q6J("itemName",n.$implicit.iconName)}function gt(e,n){if(1&e&&(t.TgZ(0,"div",8),t.YNc(1,_t,1,1,"app-item-icon",9),t.qZA()),2&e){const a=n.ngIf;t.xp6(1),t.Q6J("ngForOf",a)}}function ft(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"app-item-icon",10),t.NdJ("click",function(){const o=t.CHM(a).$implicit,r=t.oxw(2);return t.KtG(r.selectedEntity=o)}),t.qZA()}2&e&&t.Q6J("itemName",n.$implicit.iconName)}function Ct(e,n){if(1&e&&(t.TgZ(0,"div",8),t.YNc(1,ft,1,1,"app-item-icon",9),t.qZA()),2&e){const a=n.ngIf;t.xp6(1),t.Q6J("ngForOf",a)}}function ht(e,n){if(1&e&&t._UZ(0,"app-produce-details",11),2&e){const a=t.oxw();t.Q6J("item",a.selectedEntity)}}const xt=[{path:"",pathMatch:"full",redirectTo:"produce"},{path:"",component:A,children:[{path:"caught",component:j},{path:"found",component:tt},{path:"produce",component:(()=>{class e extends g{constructor(){super(),this.animalProducts$=this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-animal-products"),this._database.fetchItems$()),this.artisanProducts$=this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artisan-products"),this._database.fetchItems$()),this.crops$=this._database.fetchCrops$().pipe((0,et.w)(()=>this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-crops"),this._database.fetchItems$())))}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-produce"]],features:[t.qOj],decls:13,vars:10,consts:[[1,"flex"],["animationDuration","0",1,"px-[50px]","block"],["label","Crops"],["class","grid gap-4 grid-cols-8",4,"ngIf"],["label","Animal Products"],["label","Artisan Products"],[1,"flex-shrink-0","w-[600px]","px-10"],["class","sticky top-0",3,"item",4,"ngIf"],[1,"grid","gap-4","grid-cols-8"],["class","icon-grid-item",3,"itemName","click",4,"ngFor","ngForOf"],[1,"icon-grid-item",3,"itemName","click"],[1,"sticky","top-0",3,"item"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab",2),t.YNc(3,ut,2,1,"div",3),t.ALo(4,"async"),t.qZA(),t.TgZ(5,"mat-tab",4),t.YNc(6,gt,2,1,"div",3),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"mat-tab",5),t.YNc(9,Ct,2,1,"div",3),t.ALo(10,"async"),t.qZA()(),t.TgZ(11,"div",6),t.YNc(12,ht,1,1,"app-produce-details",7),t.qZA()()),2&a&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,4,i.crops$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(7,6,i.animalProducts$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(10,8,i.artisanProducts$)),t.xp6(3),t.Q6J("ngIf",i.selectedEntity))},dependencies:[d.sg,d.O5,p.D,m.SP,m.uX,lt,d.Ov]}),e})()}]}];let vt=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(xt),l.Bz]}),e})();var T=c(3238);let Mt=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[T.BQ,T.BQ]}),e})(),Tt=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,vt,y.m,m.Nh,Mt]}),e})()}}]);