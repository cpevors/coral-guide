import{a as W,b as Z}from"./chunk-2K3GEZZY.js";import{a as z,b as X}from"./chunk-2A7PSW7O.js";import{a as V}from"./chunk-PIL2IJC4.js";import{a as H,b as J}from"./chunk-OM3WRHFD.js";import{b as Y}from"./chunk-VYOS5CGL.js";import{b as R}from"./chunk-GEWE6M22.js";import{a as $}from"./chunk-X3TMHFY3.js";import{c as K}from"./chunk-EE6A4D3O.js";import{a as j}from"./chunk-F6RS7OIB.js";import{h as U}from"./chunk-KW5235UB.js";import{b as T}from"./chunk-7JOAVXDE.js";import{$b as M,Ba as u,Ea as b,Ec as D,G as k,Gc as y,Hc as v,Ib as l,Ob as r,Sc as G,Tb as s,Ub as p,Uc as x,Vb as m,Wc as N,Yb as E,ac as d,db as n,dc as P,ea as C,fb as I,kd as L,mb as q,mc as Q,nd as w,oc as A,rc as _,rd as B,sb as F,sc as h,tc as O,yb as c}from"./chunk-GYX7HZX3.js";var tt=t=>["/database",t],et=t=>({$implicit:t});function it(t,a){t&1&&m(0,"mat-spinner",5)}function nt(t,a){if(t&1&&(c(0,it,1,0,"mat-spinner",5),m(1,"app-to-do-toggle",6)),t&2){let e=d();r(e.isFetching()?0:-1),n(),l("item",a.item)("context",e.context())("amount",e.amount())("quality",e.quality())}}function at(t,a){if(t&1&&m(0,"app-item-icon",4),t&2){let e=d();P("itemName",a.item.iconName),l("amount",e.amount())}}function ot(t,a){t&1&&E(0)}function mt(t,a){if(t&1&&m(0,"app-quality-grid",17),t&2){let e=d();l("item",e.item)}}function lt(t,a){if(t&1&&(s(0,"div",18),_(1," Sells for: "),m(2,"app-money",19),p()),t&2){let e=d();n(2),l("amount",e.item.sellPrice)}}function st(t,a){if(t&1&&(s(0,"div",7)(1,"div",8)(2,"div",9),_(3),p(),s(4,"span",10),_(5),y(6,"addSpacesToPascalCase"),p()(),s(7,"span",11)(8,"a",12),m(9,"app-ui-icon",13),p()()(),m(10,"hr",14),s(11,"span",15),_(12),p(),c(13,ot,1,0,"ng-container",16)(14,mt,1,1,"app-quality-grid",17),y(15,"keyvalue"),c(16,lt,3,1,"div",18)),t&2){let e,i=a,o=d();n(3),h(i.item.displayName),n(2),O(" ",v(6,8,i.item.displayKey),""),n(3),l("routerLink",D(12,tt,i.item.id)),n(),l("uiIcon",o.uiIcon.DATABASE),n(3),h(i.item.description),n(),l("ngTemplateOutlet",(e=o.databaseItemDetails())!==null&&e!==void 0?e:null)("ngTemplateOutletContext",D(14,et,i)),n(),r(v(15,10,i.item.qualities).length&&!o.hideQualityGrid()?14:16)}}function pt(t,a){t&1&&m(0,"mat-spinner",20)}function ct(t,a){if(t&1&&c(0,pt,1,0,"mat-spinner",20),t&2){let e=d();r(e.isFetching()?0:-1)}}var Mt=(()=>{class t{#t;constructor(){this.itemId=u.required(),this.hideQualityGrid=u(!1,{transform:G}),this.context=u(),this.amount=u(),this.quality=u(),this.databaseItemDetails=q(I),this.databaseItem=b(void 0),this.isFetching=b(!1),this.UiIcon=T,this.uiIcon=T,this.listDetails=C(V),this.database=C(R),N(()=>{this.#t=setTimeout(()=>x(()=>this.isFetching.set(!0)),150),this.database.fetchDatabaseItem$(this.itemId()).pipe(k(1)).subscribe({next:e=>{x(()=>{clearTimeout(this.#t),this.isFetching.set(!1),this.databaseItem.set(e)})},error:()=>{clearTimeout(this.#t),x(()=>this.isFetching.set(!1))}})})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=F({type:t,selectors:[["app-database-item-details"]],contentQueries:function(i,o,f){i&1&&Q(f,o.databaseItemDetails,I,5),i&2&&A()},inputs:{itemId:[1,"itemId"],hideQualityGrid:[1,"hideQualityGrid"],context:[1,"context"],amount:[1,"amount"],quality:[1,"quality"]},decls:8,vars:4,consts:[[1,"text-lg","font-semibold","relative"],["cardActions","",1,"card-actions"],["matTooltip","Close",3,"click"],[1,"!w-8","!h-8","hover:text-black","focus-visible:text-black",3,"uiIcon"],["cardIcon","",3,"amount","itemName"],["diameter","30"],[3,"item","context","amount","quality"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col"],[1,"text-black","text-2xl"],[1,"text-accent","text-2xl"],["matTooltip","Open in database","matTooltipPosition","before"],[3,"routerLink"],[1,"focus-visible:!text-black","hover:!text-black",3,"uiIcon"],[1,"my-5"],[1,"text-lg","mb-6"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["includePrices","",1,"mt-6",3,"item"],[1,"flex"],[1,"ml-2","text-black",3,"amount"],[1,"mx-auto"]],template:function(i,o){if(i&1&&(s(0,"app-card",0)(1,"div",1),c(2,nt,2,5),s(3,"button",2),M("click",function(){return o.listDetails.close()}),m(4,"app-ui-icon",3),p()(),c(5,at,1,2,"app-item-icon",4)(6,st,17,16)(7,ct,1,1),p()),i&2){let f,g,S;n(2),r((f=o.databaseItem())?2:-1,f),n(2),l("uiIcon",o.uiIcon.CROSS),n(),r((g=o.databaseItem())?5:-1,g),n(),r((S=o.databaseItem())?6:7,S)}},dependencies:[B,L,w,J,H,U,z,W,j,K,X,Z,Y,$],encapsulation:2})}}return t})();export{Mt as a};
