import{a as x}from"./chunk-PRWEW5VH.js";import{c}from"./chunk-5NO5LL4W.js";import{i as T}from"./chunk-DHAI4KFY.js";import{v as P}from"./chunk-2CFRUPNI.js";import{b as M}from"./chunk-7JOAVXDE.js";import{Nc as L,T as g,ea as p,ib as b,k as d,lb as C,nc as w,oc as Q,p as l,q as y,sb as v,wb as D}from"./chunk-GYX7HZX3.js";import{a as f,b as u}from"./chunk-4CLCTAJ7.js";var W=(()=>{class n extends x{constructor(o){super(),this.matTabGroup=C(c),this.uiIcon=M,this.tabs=[],this.media=p(P),this.changeDetectorRef=p(L),this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>this.changeDetectorRef.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener),this.formControl=o}getFilteredJournalData(o,t,a){return y([o,t,this.formControl.valueChanges.pipe(g(this.formControl.value)),d(a)]).pipe(l(([S,B,h,F])=>{let m=[];return S.sort((r,i)=>r.order>i.order?1:-1).forEach(r=>{let i=B.find(e=>"dropData"in e?e.dropData[0].item?.id===r.key:"item"in e?e.item.id===r.key:e.id===r.key);if(i){let e=[i];h.showTable&&"spawnSettings"in i&&(e=i.spawnSettings.map(G=>u(f({},i),{spawnSettings:[G]})).flat());for(let s of e)this.filterPredicate||m.push(s),this.filterPredicate&&this.filterPredicate(s,h,F)&&m.push(s)}}),m}))}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}static{this.\u0275fac=function(t){return new(t||n)(b(T))}}static{this.\u0275cmp=v({type:n,selectors:[["ng-component"]],viewQuery:function(t,a){t&1&&w(a.matTabGroup,c,5),t&2&&Q()},features:[D],decls:0,vars:0,template:function(t,a){},encapsulation:2})}}return n})();export{W as a};
