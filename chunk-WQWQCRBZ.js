import{a as K}from"./chunk-HXFFMZVC.js";import{a as U,b as W,d as H,e as O,g as R,h as $,i as z}from"./chunk-J3AOBVKI.js";import{b as G}from"./chunk-QQ6QL743.js";import{W as j,d as g,q as h}from"./chunk-IYHG6KR3.js";import{n as Q}from"./chunk-UGZM4TBL.js";import{a as V}from"./chunk-BLXOHTRX.js";import{Db as m,Fa as I,Lc as F,Nb as l,Nc as a,Oc as f,Pc as T,Tb as d,Yb as C,Yc as M,Zb as p,_b as u,_c as N,cc as S,fc as L,gb as n,hc as o,ia as B,ic as w,jc as q,kc as D,qa as v,ra as b,rd as A,ua as k,wb as E,yc as _,zb as r,zc as y}from"./chunk-ZXANYF3K.js";var J=(()=>{class e{transform(t){return!!t&&"key"in t&&"displayName"in t&&"iconName"in t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275pipe=r({name:"isMinimalTagBasedItem",type:e,pure:!0})}}return e})();var X=(()=>{class e extends J{transform(t){return super.transform(t)&&"items"in t}static{this.\u0275fac=(()=>{let t;return function(c){return(t||(t=k(e)))(c||e)}})()}static{this.\u0275pipe=r({name:"isTagBasedItem",type:e,pure:!0})}}return e})();var Y=(()=>{class e{transform(t){return!!t&&"id"in t&&"displayName"in t&&"price"in t&&"sellPrice"in t&&t.id.toLowerCase().startsWith("item_")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275pipe=r({name:"isItem",type:e,pure:!0})}}return e})();var Z=(()=>{class e{transform(t){return t.map(i=>({item:i,amount:1}))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275pipe=r({name:"toItemListEntries",type:e,pure:!0})}}return e})();var tt=(()=>{class e{transform(t,i){return i in t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275pipe=r({name:"has",type:e,pure:!0})}}return e})();var et=["*"],it=e=>["/database",e];function nt(e,s){if(e&1&&(C(0,"span",9),_(1),a(2,"addSpacesToPascalCase"),p()),e&2){let t=o();n(),y(f(2,1,t.displayKey))}}function ot(e,s){if(e&1&&(C(0,"span",10)(1,"a",14),u(2,"app-ui-icon",15),p()()),e&2){let t=o(),i=o();n(),l("routerLink",F(2,it,t.id)),n(),l("uiIcon",i.uiIcon.DATABASE)}}function at(e,s){if(e&1&&(C(0,"span",12),_(1),p()),e&2){let t=o();n(),y(t.description)}}function rt(e,s){if(e&1&&(u(0,"app-item-list",13),a(1,"toItemListEntries")),e&2){let t=o();l("itemList",f(1,1,t.items))}}function mt(e,s){if(e&1&&u(0,"app-quality-grid",16),e&2){let t=o(2);l("item",t)}}function pt(e,s){if(e&1&&u(0,"app-money",18),e&2){let t=o(3);l("amount",t.sellPrice)}}function st(e,s){if(e&1&&(C(0,"div",17),_(1," Sells for: "),m(2,pt,1,1,"app-money",18),a(3,"has"),p()),e&2){let t=o(2);n(2),d(t&&T(3,1,t,"sellPrice")?2:-1)}}function ct(e,s){if(e&1&&(m(0,mt,1,1,"app-quality-grid",16),a(1,"isItem"),a(2,"keyvalue"),m(3,st,4,4,"div",17)),e&2){let t=o(),i=o();d(f(1,1,t)&&T(2,3,t.qualities,null).length&&!i.hideQualityGrid()?0:3)}}function lt(e,s){if(e&1){let t=S();C(0,"app-card",0)(1,"div",1),u(2,"app-to-do-toggle",2),C(3,"button",3),L("click",function(){v(t);let c=o();return b(c.listDetails.close())}),u(4,"app-ui-icon",4),p()(),u(5,"app-item-icon",5),C(6,"div",6)(7,"div",7)(8,"div",8),_(9),p(),m(10,nt,3,3,"span",9),a(11,"isTagBasedItem"),p(),m(12,ot,3,4,"span",10),a(13,"isTagBasedItem"),p(),u(14,"hr",11),m(15,at,2,1,"span",12),a(16,"isTagBasedItem"),q(17),m(18,rt,2,3,"app-item-list",13),a(19,"isTagBasedItem"),m(20,ct,4,6),a(21,"isTagBasedItem"),p()}if(e&2){let t=s,i=o();n(2),l("amount",i.amount())("quality",i.quality())("item",i.item())("context",i.context()),n(2),l("uiIcon",i.uiIcon.CROSS),n(),D("itemName",t.iconName),l("amount",i.amount()),n(4),y(t.displayName),n(),d(f(11,13,t)?-1:10),n(2),d(f(13,15,t)?-1:12),n(3),d(f(16,17,t)?-1:15),n(3),d(f(19,19,t)?18:-1),n(2),d(f(21,21,t)?-1:20)}}var Qt=(()=>{class e{constructor(){this.item=I.required(),this.context=I(),this.amount=I(),this.quality=I(),this.hideQualityGrid=I(!1,{transform:M}),this.uiIcon=g,this.UiIcon=g,this.listDetails=B(K),this.#t=B(G),this.computedItem=N(()=>{let t=this.item();if(this.isItem(t))return t;{let i=this.#t.getItems().find(c=>c.id===h(t));if(i)return i;if(this.isCustomEntry(t))return t;if(this.isTagBasedItem(t))return this.#t.getTagBasedItems().find(c=>c.key===h(t));console.error(`couldn't find ${h(t)} in base-card`);return}})}#t;isTagBasedItem(t){return"key"in t}isCustomEntry(t){return"id"in t&&!t.id.toLowerCase().startsWith("item_")}isItem(t){return"sellPrice"in t&&"price"in t&&"description"in t&&t.id.toLowerCase().startsWith("item_")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=E({type:e,selectors:[["app-base-item-card"]],inputs:{item:[1,"item"],context:[1,"context"],amount:[1,"amount"],quality:[1,"quality"],hideQualityGrid:[1,"hideQualityGrid"]},ngContentSelectors:et,decls:1,vars:1,consts:[[1,"text-lg","font-semibold","relative"],["cardActions","",1,"card-actions"],[3,"amount","quality","item","context"],["matTooltip","Close",3,"click"],[1,"!w-8","!h-8","hover:text-black","focus-visible:text-black",3,"uiIcon"],["cardIcon","",3,"amount","itemName"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col"],[1,"text-black","text-2xl"],[1,"text-accent","text-2xl"],["matTooltip","Open in database","matTooltipPosition","before"],[1,"my-5"],[1,"text-lg","mb-6"],[1,"mt-6",3,"itemList"],[3,"routerLink"],[1,"focus-visible:!text-black","hover:!text-black",3,"uiIcon"],["includePrices","",1,"mt-6",3,"item"],[1,"flex"],[1,"ml-2","text-black",3,"amount"]],template:function(i,c){if(i&1&&(w(),m(0,lt,22,23,"app-card",0)),i&2){let P;d((P=c.computedItem())?0:-1,P)}},dependencies:[V,H,j,R,X,W,U,Q,$,Y,A,Z,z,O,tt],encapsulation:2})}}return e})();export{Qt as a};
