import{r as H,v as N}from"./chunk-IYHG6KR3.js";import{a as o}from"./chunk-6WBN6GOM.js";import{$ as _,V as i,ca as n,ia as $,o as E,t as e,u as p,ua as P}from"./chunk-ZXANYF3K.js";var c=(()=>{class h{constructor(){this.settings=$(N).getSettings(),this.http=$(o);let t=this.settings.useBeta?"beta":"live",s=this.settings.language??"en";this.BASE_PATH=`assets/${t}/database`,this.BASE_PATH_WITH_LANG=`assets/${t}/database/${s}`}static{this.\u0275fac=function(s){return new(s||h)}}static{this.\u0275prov=n({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();var L=(()=>{class h extends c{constructor(){super(...arguments),this._ITEMS=[],this._JOURNAL_ORDERS=new Map,this._TAG_BASED_ITEMS=[],this._GIFT_PREFERENCES=[],this._SHOP_ITEMS=new Map,this._FESTIVAL_DATA=new Map,this._SHOP_PROCESS_ITEMS=new Map,this._OPENING_HOURS=new Map,this._ITEM_UPGRADE=new Map,this._NPCS=[],this._PROCESSOR_MAPPING={},this._COOKING_UTENSIL_MAPPING={},this._ANIMAL_SHOP_DATA=new Map,this._DATABASE_ITEMS=new Map}fetchDatabaseItem$(t){return this._DATABASE_ITEMS.has(t)?E(this._DATABASE_ITEMS.get(t)):this.http.get(`${this.BASE_PATH_WITH_LANG}/items/${t}.json`).pipe(_(s=>this._DATABASE_ITEMS.set(t,s)),i(1))}getItems(){return this._ITEMS}fetchItems$(){return this._ITEMS$||(this._ITEMS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/items.json`).pipe(_(t=>this._ITEMS=t),i(1))),this._ITEMS$}fetchMailData$(){return this._MAIL_DATA$||(this._MAIL_DATA$=this.http.get(`${this.BASE_PATH_WITH_LANG}/mail-data.json`).pipe(i(1))),this._MAIL_DATA$}fetchBestiary$(){return this._BESTIARY$||(this._BESTIARY$=this.http.get(`${this.BASE_PATH_WITH_LANG}/bestiary.json`).pipe(i(1))),this._BESTIARY$}fetchAnimals$(){return this._ANIMAL_DATA$||(this._ANIMAL_DATA$=this.http.get(`${this.BASE_PATH_WITH_LANG}/animal-data.json`).pipe(i(1))),this._ANIMAL_DATA$}fetchAnimalMoodData$(){return this._ANIMAL_MOOD_DATA$||(this._ANIMAL_MOOD_DATA$=this.http.get(`${this.BASE_PATH_WITH_LANG}/animal-mood-size.json`).pipe(i(1))),this._ANIMAL_MOOD_DATA$}fetchAnimalShopData$(t){return this._ANIMAL_SHOP_DATA.has(t)?E(this._ANIMAL_SHOP_DATA.get(t)):this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}-animal-shop-data.json`).pipe(_(s=>this._ANIMAL_SHOP_DATA.set(t,s)),i(1))}fetchTornPagesData$(){return this._TORN_PAGES_DATA$||(this._TORN_PAGES_DATA$=this.http.get(`${this.BASE_PATH_WITH_LANG}/torn-pages.json`).pipe(i(1))),this._TORN_PAGES_DATA$}getCookingUtensilMapping(){return this._COOKING_UTENSIL_MAPPING}fetchCookingUtensilMapping$(){return this._COOKING_UTENSIL_MAPPING$||(this._COOKING_UTENSIL_MAPPING$=this.http.get(`${this.BASE_PATH_WITH_LANG}/cooking-utensil-mapping.json`).pipe(e(t=>t[0]),_(t=>this._COOKING_UTENSIL_MAPPING=t),i(1))),this._COOKING_UTENSIL_MAPPING$}getProcessorMapping(){return this._PROCESSOR_MAPPING}fetchProcessorMapping$(){return this._PROCESSOR_MAPPING$||(this._PROCESSOR_MAPPING$=this.http.get(`${this.BASE_PATH_WITH_LANG}/processor-mapping.json`).pipe(e(t=>t[0]),_(t=>this._PROCESSOR_MAPPING=t),i(1))),this._PROCESSOR_MAPPING$}getNPCs(){return this._NPCS}fetchNPCs$(){return this._NPCS$||(this._NPCS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/npcs.json`).pipe(_(t=>this._NPCS=t),i(1))),this._NPCS$}fetchHeartEvents$(){return this._HEART_EVENTS$||(this._HEART_EVENTS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/heart-events.json`).pipe(e(t=>t[0]),i(1))),this._HEART_EVENTS$}fetchMuseumChecklist$(){return this._MUSEUM_CHECKLIST$||(this._MUSEUM_CHECKLIST$=this.http.get(`${this.BASE_PATH_WITH_LANG}/museum-checklist.json`).pipe(e(t=>t[0]),i(1))),this._MUSEUM_CHECKLIST$}fetchCookingRecipesChecklist$(){return this._COOKING_RECIPES_CHECKLIST$||(this._COOKING_RECIPES_CHECKLIST$=this.http.get(`${this.BASE_PATH_WITH_LANG}/cooking-recipes-checklist.json`).pipe(e(t=>t[0]),i(1))),this._COOKING_RECIPES_CHECKLIST$}fetchAchievements$(){return this._ACHHIEVEMENTS$||(this._ACHHIEVEMENTS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/achievements.json`).pipe(i(1))),this._ACHHIEVEMENTS$}fetchOfferings$(){return this._OFFERINGS$||(this._OFFERINGS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/offerings.json`).pipe(i(1))),this._OFFERINGS$}fetchConsumables$(){return this._CONSUMABLES$||(this._CONSUMABLES$=this.http.get(`${this.BASE_PATH_WITH_LANG}/consumables.json`).pipe(i(1))),this._CONSUMABLES$}fetchItemMixingRecipeData$(){return this._ITEM_MIXING_RECIPE$||(this._ITEM_MIXING_RECIPE$=this.http.get(`${this.BASE_PATH_WITH_LANG}/underwater-seeds-item-mixing-data.json`).pipe(i(1))),this._ITEM_MIXING_RECIPE$}fetchFish$(){return this._FISH$||(this._FISH$=this.http.get(`${this.BASE_PATH_WITH_LANG}/fish.json`).pipe(i(1))),this._FISH$}fetchCraftingRecipes$(){return this._CRAFTING_RECIPE$||(this._CRAFTING_RECIPE$=p([this.http.get(`${this.BASE_PATH_WITH_LANG}/crafting-recipes.json`),this.fetchItems$(),this.fetchTagBasedItems$()]).pipe(e(([t,s,A])=>(t.forEach(T=>{T.item=s.find(S=>S.id===T.key.toLowerCase()),T.genericIngredients.forEach(S=>S.genericItem=A.find(r=>r.key===S.key))}),t))).pipe(i(1))),this._CRAFTING_RECIPE$}fetchItemProcessingRecipes$(){return this._ITEM_PROCESSING_RECIPE$||(this._ITEM_PROCESSING_RECIPE$=p([this.http.get(`${this.BASE_PATH_WITH_LANG}/item-processing.json`),this.fetchTagBasedItems$(),this.fetchItems$()]).pipe(e(([t,s,A])=>{let T=t[0];return Object.keys(T).forEach(S=>{T[S].forEach(r=>{r.machine=S,r.genericInput&&(r.genericInput.genericItem=s.find(I=>I.key===r.genericInput?.key)),r.output.item.sellPrice=A.find(I=>I.id===r.output.item.id)?.sellPrice})}),T}),i(1))),this._ITEM_PROCESSING_RECIPE$}fetchCookingRecipes$(){return this._COOKING_RECIPE$||(this._COOKING_RECIPE$=this.http.get(`${this.BASE_PATH_WITH_LANG}/cooking-recipes.json`).pipe(e(t=>t[0]),i(1))),this._COOKING_RECIPE$}fetchTreasureHunts$(){return this._TREASURE_HUNTS$||(this._TREASURE_HUNTS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/treasure-hunt-maps.json`).pipe(i(1))),this._TREASURE_HUNTS$}fetchTagBasedItems$(){return this._TAG_BASED_ITEMS$||(this._TAG_BASED_ITEMS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/tag-based-items.json`).pipe(_(t=>this._TAG_BASED_ITEMS=t),i(1))),this._TAG_BASED_ITEMS$}getTagBasedItems(){return this._TAG_BASED_ITEMS}fetchOceanCritters$(){return this._OCEAN_CRITTERS$||(this._OCEAN_CRITTERS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/ocean-critters.json`).pipe(i(1))),this._OCEAN_CRITTERS$}fetchBugsAndInsects$(){return this._BUGS_AND_INSECTS$||(this._BUGS_AND_INSECTS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/bugs-and-insects.json`).pipe(i(1))),this._BUGS_AND_INSECTS$}fetchCrops$(){return this._CROPS$||(this._CROPS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/crops.json`).pipe(i(1))),this._CROPS$}fetchFruitTrees$(){return this._FRUIT_TREES$||(this._FRUIT_TREES$=this.http.get(`${this.BASE_PATH_WITH_LANG}/fruit-trees.json`).pipe(i(1))),this._FRUIT_TREES$}fetchFruitPlants$(){return this._FRUIT_PLANTS$||(this._FRUIT_PLANTS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/fruit-plants.json`).pipe(i(1))),this._FRUIT_PLANTS$}fetchJournalOrder$(t){return this._JOURNAL_ORDERS.get(t)||this._JOURNAL_ORDERS.set(t,this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}.json`).pipe(i(1))),this._JOURNAL_ORDERS.get(t)}fetchGiftingPreferences$(){return this._GIFT_PREFERENCES$||(this._GIFT_PREFERENCES$=this.http.get(`${this.BASE_PATH_WITH_LANG}/gift-preferences.json`).pipe(e(t=>H(t)),_(t=>this._GIFT_PREFERENCES=t),i(1))),this._GIFT_PREFERENCES$}getGiftingPreferences(){return this._GIFT_PREFERENCES}fetchPetShopAdoptions$(){return this._PET_SHOP_ADOPTIONS$||(this._PET_SHOP_ADOPTIONS$=this.http.get(`${this.BASE_PATH_WITH_LANG}/pet-shop-adoptions.json`).pipe(i(1))),this._PET_SHOP_ADOPTIONS$}fetchShopProcessItems$(t){return this._SHOP_PROCESS_ITEMS.has(t)?E(this._SHOP_PROCESS_ITEMS.get(t)):this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}-shop-process-items.json`).pipe(_(s=>this._SHOP_PROCESS_ITEMS.set(t,s)),i(1))}fetchItemUpgradeData$(t){return this._ITEM_UPGRADE.has(t)?E(this._ITEM_UPGRADE.get(t)):this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}-item-upgrade.json`).pipe(_(s=>this._ITEM_UPGRADE.set(t,s)),i(1))}fetchOpeningHours$(t){return this._OPENING_HOURS.has(t)?E(this._OPENING_HOURS.get(t)):this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}-opening-hours.json`).pipe(e(s=>s[0]),_(s=>this._OPENING_HOURS.set(t,s)),i(1))}fetchShopItemData$(t){return this._SHOP_ITEMS.has(t)?E(this._SHOP_ITEMS.get(t)):this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}-shop-items.json`).pipe(_(s=>this._SHOP_ITEMS.set(t,s)),i(1))}fetchFestivalData$(t){return this._FESTIVAL_DATA.has(t)?E(this._FESTIVAL_DATA.get(t)):this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}-festival-data.json`).pipe(e(s=>s[0]),_(s=>this._FESTIVAL_DATA.set(t,s)),i(1))}fetchFestivalOpeningHours$(t){let s="festival_"+t;return this._OPENING_HOURS.has(s)?E(this._OPENING_HOURS.get(s)):this.http.get(`${this.BASE_PATH_WITH_LANG}/${t}-festival-opening-hours.json`).pipe(e(A=>A[0]),_(A=>this._OPENING_HOURS.set(s,A)),i(1))}fetchMeritExchangeShopData$(){return this._MERIT_EXCHANGE_SHOP_DATA$||(this._MERIT_EXCHANGE_SHOP_DATA$=this.http.get(`${this.BASE_PATH_WITH_LANG}/merit-exchange-shop-items.json`).pipe(i(1))),this._MERIT_EXCHANGE_SHOP_DATA$}static{this.\u0275fac=(()=>{let t;return function(A){return(t||(t=P(h)))(A||h)}})()}static{this.\u0275prov=n({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();export{c as a,L as b};
