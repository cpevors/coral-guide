import{a as ee,b as te,c as ie}from"./chunk-TYQA2V4S.js";import{a as Z}from"./chunk-BDV5JNZW.js";import{$c as $,Aa as c,Ab as L,Eb as A,Fc as U,G as g,Ga as T,Ha as E,Ib as D,J as h,Jb as M,K as _,Kc as j,L as p,Oa as n,Pa as N,Qa as k,Tc as z,Wc as H,_c as W,a as w,ac as B,ad as V,bc as O,da as l,dd as d,ea as v,ed as q,gd as G,hd as Y,id as J,jd as K,ld as Q,na as u,ne as X,pa as S,sc as b,ta as C,tb as R,ua as I,va as y,wa as F,xa as x,ya as e,za as t,zc as P}from"./chunk-IDSY5RWV.js";function se(o,i){if(o&1&&(e(0,"mat-option",29),n(1),t()),o&2){let f=i.$implicit,r=E();u("value",f),l(1),N(r.availableLanguageDisplayName[f])}}function ae(o,i){if(o&1&&(e(0,"p",30),c(1,"app-ui-icon",10),n(2," Currently there's no beta. "),t()),o&2){let f=E();l(1),u("uiIcon",f.uiIcon.WARNING)}}function le(o,i){o&1&&(e(0,"p",31),n(1,"Changes that require a reload were made. Saving will reload automatically."),t())}var oe=(()=>{let i=class i{constructor(r,a){this._settingsService=r,this._toDo=a,this.reloadRequired=!1,this.uiIcon=A,this.availableLanguages=D,this.availableLanguageDisplayName=M,this.BETA_CODE=h(Z,{optional:!0}),this._checklistOfferings=h(ie),this._checklistCooking=h(te),this._checklistMuseum=h(ee),this.settingsForm=new V({useBeta:new d(!1,{nonNullable:!0}),resetLiveToDo:new d(!1,{nonNullable:!0}),resetBetaToDo:new d(!1,{nonNullable:!0}),resetLiveChecklists:new d(!1,{nonNullable:!0}),resetBetaChecklists:new d(!1,{nonNullable:!0}),language:new d("en",{nonNullable:!0})}),this.BETA_CODE||this.settingsForm.get("useBeta")?.disable();let s=this._settingsService.getSettings();this.settingsForm.patchValue(s),this.settingsForm.valueChanges.subscribe({next:m=>{this.reloadRequired=s.useBeta!==m.useBeta||s.language!==m.language}})}saveSettings(){let r=w({},this.settingsForm.value);r.resetLiveChecklists&&(this._checklistMuseum.resetLiveChecklist(),this._checklistOfferings.resetLiveChecklist(),this._checklistCooking.resetLiveChecklist()),r.resetBetaChecklists&&(this._checklistMuseum.resetBetaChecklist(),this._checklistOfferings.resetBetaChecklist(),this._checklistCooking.resetBetaChecklist()),r.resetLiveToDo&&this._toDo.resetLiveToDo(),r.resetBetaToDo&&this._toDo.resetBetaToDo(),delete r.resetBetaToDo,delete r.resetLiveToDo,delete r.resetBetaChecklists,delete r.resetLiveChecklists,this._settingsService.saveSettings(r),this.reloadRequired&&location.reload()}};i.\u0275fac=function(a){return new(a||i)(v(L),v(j))},i.\u0275cmp=_({type:i,selectors:[["app-settings"]],decls:85,vars:7,consts:[[1,"text-black","container","block","mx-auto","my-10"],[3,"formGroup","submit"],[1,"grid","md:grid-cols-3","pb-12","gap-y-10","gap-x-8","border-b","border-accent/50","mb-8"],[1,"leading-7","font-bold","text-lg"],[1,"bg-amber-50/70","md:col-span-2","px-4","py-6","sm:p-8","sm:rounded-lg"],[1,"flex","flex-col","gap-1","items-start"],["for","language",1,"font-bold","leading-6"],[1,"btn","btn-secondary"],["formControlName","language","id","language"],[1,"flex","gap-2","text-black","font-bold","leading-6","items-center","mt-2"],[1,"!w-6","shrink-0",3,"uiIcon"],[1,"flex","gap-x-3"],[1,"flex","h-6","items-center"],["formControlName","useBeta","id","useBeta","name","useBeta","type","checkbox"],["for","useBeta",1,"font-bold","leading-6"],[1,"leading-6"],["class","flex gap-2 text-black font-bold leading-6 items-center"],[1,"bg-amber-50/70","md:col-span-2","px-4","py-6","sm:p-8","sm:rounded-lg","flex","flex-col","gap-6"],["formControlName","resetLiveToDo","id","resetLiveToDo","name","resetLiveToDo","type","checkbox"],["for","resetLiveToDo",1,"font-bold","leading-6"],["formControlName","resetBetaToDo","id","resetBetaToDo","name","resetBetaToDo","type","checkbox"],["for","resetBetaToDo",1,"font-bold","leading-6"],["formControlName","resetLiveChecklists","id","resetLiveChecklists","name","resetLiveChecklists","type","checkbox"],["for","resetLiveChecklists",1,"font-bold","leading-6"],["formControlName","resetBetaChecklists","id","resetBetaChecklists","name","resetBetaChecklists","type","checkbox"],["for","resetBetaChecklists",1,"font-bold","leading-6"],[1,"mt-6","sm:mt-8","flex","justify-between","items-center"],["class","font-bold"],["type","submit",1,"btn-amber","ml-auto"],[3,"value"],[1,"flex","gap-2","text-black","font-bold","leading-6","items-center"],[1,"font-bold"]],template:function(a,s){if(a&1&&(e(0,"app-card",0)(1,"form",1),T("submit",function(){return s.saveSettings()}),e(2,"div",2)(3,"div")(4,"h3",3),n(5,"Language"),t(),e(6,"p"),n(7,"Change the language of Coral Guide"),t()(),e(8,"div",4)(9,"div",5)(10,"label",6),n(11,"Language"),t(),e(12,"mat-form-field",7)(13,"mat-select",8),F(14,se,2,2,"mat-option",29,y),t()()(),e(16,"p",9),c(17,"app-ui-icon",10),n(18," Work in progress: Currently only in-game data has translations, the app itself will stay in english. Translations are pulled from game files and will be shown as is. "),t()()(),e(19,"div",2)(20,"div")(21,"h3",3),n(22,"Beta data"),t(),e(23,"p"),n(24),t()(),e(25,"div",4)(26,"div",11)(27,"div",12),c(28,"input",13),t(),e(29,"div")(30,"label",14),n(31,"Use beta data"),t(),e(32,"p",15),n(33,"Switches app data to beta data. Change requires reload."),t()()(),C(34,ae,3,1,"p",16),t()(),e(35,"div",2)(36,"div")(37,"h3",3),n(38,"To-Dos"),t(),e(39,"p"),n(40,"Options for to-dos. Reset your to-dos data if they behave in unwanted behavior and set defaults for viewing. "),t()(),e(41,"div",17)(42,"div",11)(43,"div",12),c(44,"input",18),t(),e(45,"div")(46,"label",19),n(47,"Reset live to-dos"),t(),e(48,"p",15),n(49,"Reset all to-dos which were created while using live data."),t()()(),e(50,"div",11)(51,"div",12),c(52,"input",20),t(),e(53,"div")(54,"label",21),n(55,"Reset beta to-dos"),t(),e(56,"p",15),n(57,"Reset all to-dos which were created while using beta data."),t()()()()(),e(58,"div",2)(59,"div")(60,"h3",3),n(61,"Checklists"),t(),e(62,"p"),n(63,"Options for checklists. Reset your checklists data. "),t()(),e(64,"div",17)(65,"div",11)(66,"div",12),c(67,"input",22),t(),e(68,"div")(69,"label",23),n(70,"Reset live checklists"),t(),e(71,"p",15),n(72,"Reset all checklists which were created while using live data."),t()()(),e(73,"div",11)(74,"div",12),c(75,"input",24),t(),e(76,"div")(77,"label",25),n(78,"Reset beta checklists"),t(),e(79,"p",15),n(80,"Reset all checklists which were created while using beta data."),t()()()()(),e(81,"div",26),C(82,le,2,0,"p",27),e(83,"button",28),n(84,"Save"),t()()()()),a&2){let m;l(1),u("formGroup",s.settingsForm),x(14,s.availableLanguages),l(16),u("uiIcon",s.uiIcon.WARNING),l(7),k("Options for latest beta build. Current beta code: ",(m=s.BETA_CODE)!==null&&m!==void 0?m:"no ongoing beta"," "),l(5),S("opacity-50",!s.BETA_CODE),l(5),I(34,s.BETA_CODE?-1:34),l(48),I(82,s.reloadRequired?82:-1)}},dependencies:[O,U,q,H,W,$,G,Y,z,K,P],encapsulation:2});let o=i;return o})();var re=(()=>{let i=class i{};i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=p({type:i}),i.\u0275inj=g({imports:[b,b]});let o=i;return o})();var ce=[{path:"",component:oe}],Ye=(()=>{let i=class i{};i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=p({type:i}),i.\u0275inj=g({imports:[R,B.forChild(ce),X,J,re,Q]});let o=i;return o})();export{Ye as SettingsModule};
