import{a as Fe,b as Pt,c as Bt}from"./chunk-666RXZZR.js";import"./chunk-DJJM56ZO.js";import"./chunk-3PZT2S6M.js";import{a as $t}from"./chunk-IIK42GR5.js";import{f as Nt}from"./chunk-GNXUZ3Z2.js";import{a as N,b as ft}from"./chunk-L5KA35GO.js";import{a as ke,b as be,c as ve,d as Tt,e as wt,q as Y,r as Q,t as Et}from"./chunk-KYVKAEXV.js";import{a as q,b as J,c as Dt,d as Ie,g as Mt}from"./chunk-AA7ONRZO.js";import{a as Ce}from"./chunk-EZINFAFW.js";import{Aa as l,Ab as pe,Ad as dt,Bd as he,C as Ne,Ca as O,Fa as h,G as V,Ga as v,Gd as ut,Ha as _,Ia as C,Ib as G,J as qe,Ja as a,Jb as Xe,Jd as _e,K as se,Ka as s,Kb as de,La as f,Ld as Pe,Md as ht,N as w,Ob as Ze,Od as $,P as b,Pa as T,Pd as _t,Q as me,Qd as Ct,Ra as y,Rd as yt,Sa as c,Te as ye,Ue as It,V as I,Va as Qe,Vc as rt,Ve as Ft,W as F,Wa as x,We as xe,Xb as fe,Z as Ke,Zb as ne,_d as W,ba as We,be as xt,ca as He,cc as et,d as D,db as d,e as ee,eb as ie,ee as gt,f as Le,fb as oe,fc as tt,ge as kt,id as at,j as Ee,ja as ze,je as bt,jf as St,ka as m,kc as it,l as Ae,le as U,lf as ge,mb as le,md as R,me as H,nd as L,ob as $e,oc as ot,od as st,oe as z,p as je,pc as nt,pd as ue,pe as vt,qb as g,ra as te,rb as S,rd as E,sb as ce,ta as M,td as mt,vd as A,wa as u,wd as j,x as Ue,xa as Je,xd as lt,ya as Ye,yd as ct,zd as pt}from"./chunk-IYWQIZVT.js";var Vt=(()=>{let t=class t{constructor(){this.uiIcon=ne}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-my-coral-guide"]],decls:15,vars:6,consts:[["exact","","routerLink",".",3,"uiIcon"],["routerLink","to-do",3,"uiIcon"],["routerLink","offerings-checklist",3,"uiIcon"],["routerLink","museum-checklist",3,"uiIcon"],["routerLink","cooking-recipes-checklist",3,"uiIcon"],["routerLink","settings",3,"uiIcon"],[1,"hidden"]],template:function(n,r){n&1&&(a(0,"app-sidebar-container")(1,"app-module-sidebar")(2,"app-module-sidebar-item",0),d(3,"Dashboard"),s(),a(4,"app-module-sidebar-item",1),d(5,"To-dos"),s(),a(6,"app-module-sidebar-item",2),d(7," Offerings checklist "),s(),a(8,"app-module-sidebar-item",3),d(9," Museum checklist "),s(),a(10,"app-module-sidebar-item",4),d(11," Cooking recipes checklist "),s(),a(12,"app-module-sidebar-item",5),d(13," Settings "),s()(),f(14,"router-outlet",6),s()),n&2&&(m(2),l("uiIcon",r.uiIcon.MY_CORAL),m(2),l("uiIcon",r.uiIcon.TO_DO),m(2),l("uiIcon",r.uiIcon.OFFERING),m(2),l("uiIcon",r.uiIcon.MUSEUM),m(2),l("uiIcon",r.uiIcon.COOKING),m(2),l("uiIcon",r.uiIcon.SETTINGS))},dependencies:[ut,_e,Ct,_t,bt],encapsulation:2});let e=t;return e})();var Ot=(()=>{var t,i;let o=class o extends ot{constructor(){super(...arguments);ee(this,t,te([]));ee(this,i,te([]))}getFish$(){return D(this,t).call(this).length?Ee(D(this,t).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/fish.json`).pipe(V(p=>D(this,t).set(p)),Ne(1))}getFish(){return D(this,t).asReadonly()}getBirthdays$(){return D(this,i).call(this).length?Ee(D(this,i).asReadonly()()):this.http.get(`${this.BASE_PATH}/dashboards/birthdays.json`).pipe(V(p=>D(this,i).set(p)),Ne(1))}getBirthdays(){return D(this,i).asReadonly()}};t=new WeakMap,i=new WeakMap,o.\u0275fac=(()=>{let p;return function(B){return(p||(p=Ke(o)))(B||o)}})(),o.\u0275prov=qe({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})();function Kt(e,t){if(e&1&&(a(0,"mat-option",6),d(1),s()),e&2){let i=t.$implicit;l("value",i),m(),ie(i)}}function Wt(e,t){if(e&1&&(a(0,"mat-option",6),d(1),s()),e&2){let i=t.$implicit;l("value",i),m(),ie(i)}}var Se=(()=>{let t=class t{constructor(){this.Weathers=tt,this.Seasons=et}increaseDay(o){this.parentFormGroup.patchValue(fe(this.parentFormGroup.getRawValue(),o))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-dashboard-filter"]],inputs:{parentFormGroup:"parentFormGroup"},standalone:!0,features:[le],decls:25,vars:1,consts:[[1,"flex","flex-wrap","gap-x-3","gap-y-4",3,"formGroup"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","3rem"],["formControlName","day","inputmode","number","matInput","","max","28","min","1","pattern","[0-9]","type","number"],[1,"btn","-ml-2","touch-manipulation",3,"click"],[1,"semi-transparent-form-field",2,"--mat-form-field-infix-width","5rem"],["disableOptionCentering","","formControlName","season"],[3,"value"],["formControlName","year","inputmode","number","matInput","","min","1","pattern","[0-9]","type","number"],["disableOptionCentering","","formControlName","weather"],["formControlName","hideCompleted",1,"text-white","self-center"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),d(3,"Day"),s(),f(4,"input",2),s(),a(5,"button",3),y("click",function(){return r.increaseDay(1)}),d(6,"+"),s(),a(7,"mat-form-field",4)(8,"mat-label"),d(9,"Season"),s(),a(10,"mat-select",5),_(11,Kt,2,2,"mat-option",6,v),s()(),a(13,"mat-form-field",1)(14,"mat-label"),d(15,"Year"),s(),f(16,"input",7),s(),a(17,"mat-form-field",4)(18,"mat-label"),d(19,"Weather"),s(),a(20,"mat-select",8),_(21,Wt,2,2,"mat-option",6,v),s()(),a(23,"mat-checkbox",9),d(24,"Hide completed"),s()()),n&2&&(l("formGroup",r.parentFormGroup),m(11),C(r.Seasons),m(10),C(r.Weathers))},dependencies:[dt,at,mt,R,L,pt,ct,lt,gt,xt,rt,kt,he,A,j,N,$t],encapsulation:2});let e=t;return e})();var Gt=e=>["/npcs",e];function zt(e,t){if(e&1){let i=T();a(0,"app-item-icon",11),y("click",function(){I(i);let n=c().$implicit,r=c(2);return F(r.itemClicked.emit(n.item))}),s()}if(e&2){let i=c().$implicit;l("itemName",i.item.iconName)}}function Jt(e,t){if(e&1&&(a(0,"span"),d(1),g(2,"addSpacesToPascalCase"),s()),e&2){let i=c().$implicit;m(),oe("All ",S(2,1,i.categoryName),"")}}function Yt(e,t){if(e&1&&u(0,zt,1,1,"app-item-icon",10)(1,Jt,3,3,"span"),e&2){let i=t.$implicit;h(i.type==="item"?0:-1),m(),h(i.type==="category"?1:-1)}}function Qt(e,t){e&1&&d(0," No individual loved gifts. ")}function Xt(e,t){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"a",2),f(3,"app-item-icon",3),s(),a(4,"div",4)(5,"a",5),d(6),s()()(),a(7,"div",6)(8,"div",7),f(9,"app-ui-icon",8),d(10," Loved "),s(),a(11,"div",9),_(12,Yt,2,2,null,null,v,!1,Qt,1,0),s()()()),e&2){let i=t.$implicit,o=c();m(2),l("routerLink",$e(6,Gt,i.npcKey)),m(),l("itemName",i.iconName),m(2),l("routerLink",$e(8,Gt,i.npcKey)),m(),oe(" ",i.characterName," "),m(3),l("uiIcon",o.UiIcon.LOVE),m(3),C(i.lovedGifts)}}function Zt(e,t){e&1&&(a(0,"p"),d(1,"No birthdays."),s())}var De=(()=>{let t=class t{constructor(){this.birthdays=He.required(),this.itemClicked=We(),this.UiIcon=ne,this.uiIcon=ne}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-birthday-dashboard"]],hostAttrs:[1,"flex","flex-col","gap-3"],inputs:{birthdays:[1,"birthdays"]},outputs:{itemClicked:"itemClicked"},standalone:!0,features:[le],decls:3,vars:1,consts:[[1,"flex","gap-1","flex-col"],[1,"text-2xl","text-black","font-semibold","flex","gap-2","items-center","gifting-portrait"],[3,"routerLink"],[1,"h-12","birthday-npc-image",3,"itemName"],[1,"flex","flex-col"],[1,"flex","gap-2","items-center",3,"routerLink"],[1,"flex","gap-2"],[1,"font-semibold","flex","items-center","flex-col","shrink-0","basis-12","text-black"],[1,"!text-gifting","!h-6","!w-6",3,"uiIcon"],[1,"flex","items-center","gap-2.5","flex-wrap"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"itemName"],[1,"cursor-pointer","h-9","birthday-gift-icon",3,"click","itemName"]],template:function(n,r){n&1&&_(0,Xt,15,10,"div",0,v,!1,Zt,2,0,"p"),n&2&&C(r.birthdays())},dependencies:[ge,$,W,ht,_e],styles:[`.birthday-npc-image.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center bottom}.birthday-gift-icon.app-item-icon>img{width:100%;height:100%;object-fit:scale-down;object-position:center}
`],encapsulation:2});let e=t;return e})();var oi=(e,t)=>t.entry.id+t.context,ni=()=>[Ce];function ri(e,t){if(e&1&&f(0,"app-offering",5),e&2){let i=t.$implicit;l("details",i)}}function ai(e,t){if(e&1&&(a(0,"app-item-card-switch",1),u(1,ri,1,1,"ng-template",4),s()),e&2){let i=c();l("item",i.selectedEntity)}}function si(e,t){if(e&1){let i=T();a(0,"div",15)(1,"app-item-icon",16),y("click",function(){let n=I(i).$implicit,r=c(2);return F(r.showDetails({id:n.entry.id,displayName:"",iconName:n.entry.iconName}))}),s(),a(2,"label",17)(3,"mat-checkbox",18),y("change",function(n){let r=I(i).$implicit;return c(2).updateChecklist(n,r.entry.id,r.context),F(r.completed=!r.completed)}),s()()()}if(e&2){let i=t.$implicit;O("checklist-checked",i.completed),m(),l("itemName",i.entry.iconName),m(),x("for","entry-",i.entry.id,"-input"),m(),x("id","entry-",i.entry.id,""),x("name","entry-",i.entry.id,""),l("checked",i.completed)}}function mi(e,t){e&1&&(a(0,"p",14),d(1,"No more fish to catch :)"),s())}function li(e,t){if(e&1){let i=T();a(0,"section",6)(1,"h2",7),d(2," Birthdays "),s(),a(3,"app-card",8)(4,"div",9)(5,"div")(6,"h2",10),d(7," Today "),s(),a(8,"app-birthday-dashboard",11),y("itemClicked",function(n){I(i);let r=c();return F(r.showDetails(n))}),s()(),a(9,"div")(10,"h2",10),d(11," Tomorrow "),s(),a(12,"app-birthday-dashboard",11),y("itemClicked",function(n){I(i);let r=c();return F(r.showDetails(n))}),s()()()()(),a(13,"section",6)(14,"h2",7),d(15," Fish "),s(),a(16,"div",12),_(17,si,4,10,"div",13,oi,!1,mi,2,0,"p",14),s()()}if(e&2){let i=c();m(8),l("birthdays",i.birthdaysToday()),m(4),l("birthdays",i.birthdaysTomorrow()),m(5),C(i.fish())}}function ci(e,t){e&1&&f(0,"mat-spinner",19)}function pi(e,t){e&1&&(u(0,ci,1,0),Je(1,0,ni),Ye())}var Rt=(()=>{var t;let i=class i extends Ft{constructor(){super();ee(this,t);this.dashboards=w(Ot),this.museumChecklistService=w(Fe),Le(this,t,w(nt)),this.museumChecklistDefinition$=D(this,t).fetchMuseumChecklist$(),this.museuemDef=te({}),this.requests$=je({museumDefinition:this.museumChecklistDefinition$.pipe(V(p=>this.museuemDef.set(p))),fish:this.dashboards.getFish$(),birthdays:this.dashboards.getBirthdays$()}),this.filterFormGroup=new st({season:new E("Spring",{nonNullable:!0}),weather:new E("Sunny",{nonNullable:!0}),day:new E(1,{nonNullable:!0}),year:new E(1,{nonNullable:!0}),hideCompleted:new E(!0,{nonNullable:!0})});let r=It(this.filterFormGroup.valueChanges.pipe(Ae(()=>this.filterFormGroup.getRawValue())),{initialValue:this.filterFormGroup.getRawValue()});this.fish=pe(()=>{let p=this.dashboards.getFish(),k=r().season,B=r().weather,K=r().hideCompleted,X=p().filter(re=>re.seasons.includes(k)&&re.weathers.includes(B)),Z=[];return this.museuemDef().Fish.forEach(re=>{let Me=X.find(ae=>ae.id===re.id);if(Me){let ae=this.museumChecklistService.isChecked(Me.id);ae&&K||Z.push({completed:ae,context:"museum",entry:Me})}}),Z}),this.birthdaysToday=pe(()=>{let p=this.dashboards.getBirthdays()(),k=r().season,B=r().day;return p.filter(K=>K.birthday.day===B&&K.birthday.season===k)}),this.birthdaysTomorrow=pe(()=>{let p=this.dashboards.getBirthdays()(),k=r().season,K={day:r().day,season:k,year:1},X=fe(K,1);return console.log(X),p.filter(Z=>Z.birthday.day===X.day&&Z.birthday.season===X.season)})}updateChecklist(r,p,k){this.museumChecklistService.isChecked(p)?this.museumChecklistService.remove(p):this.museumChecklistService.add(p)}};t=new WeakMap,i.\u0275fac=function(p){return new(p||i)},i.\u0275cmp=b({type:i,selectors:[["app-index"]],features:[M],decls:8,vars:6,consts:[[3,"removePlaceholder"],["listDetail","",3,"item"],[1,"mb-4","font-semibold","text-3xl","text-white","flex","items-center","gap-x-4"],[1,"my-5","block",3,"parentFormGroup"],["appDatabaseItemDetails",""],[3,"details"],[1,"my-2"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[1,"@container"],[1,"@3xl:grid-cols-2","grid","gap-x-3","gap-y-5"],[1,"mb-4","font-semibold","text-2xl","text-black"],[3,"itemClicked","birthdays"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked"],[1,"col-span-full"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"change","id","checked","name"],[1,"mx-auto"]],template:function(p,k){p&1&&(a(0,"app-list-detail-container",0),u(1,ai,2,1,"app-item-card-switch",1),a(2,"h1",2),d(3," My Coral Guide "),s(),f(4,"app-dashboard-filter",3),u(5,li,20,3),g(6,"async"),u(7,pi,3,0),s()),p&2&&(l("removePlaceholder",k.showTable),m(),h(k.selectedEntity?1:-1),m(3),l("parentFormGroup",k.filterFormGroup),m(),h(S(6,4,k.requests$)?5:7))},dependencies:[$,yt,U,N,q,Y,Q,Se,De,G],encapsulation:2});let e=i;return e})();var we=(()=>{let t=class t extends xe{constructor(){super(),this.checklistForm=new ue({}),this.checklistForm.valueChanges.pipe(ye()).subscribe({next:o=>{let n=[];Object.keys(o).forEach(r=>{o[r]&&n.push(r)}),this.checklistService.set(n)}})}ngOnInit(){this.checklistDefinition$=this.checklistDefinition$.pipe(Ue(1),V(o=>{let n=Object.keys(o);n.forEach(r=>{o[r].forEach(p=>{this.checklistForm.addControl(p.id,new E(this.checklistService.isChecked(p.id),{nonNullable:!0}),{emitEvent:!1})})}),this.activateTabFromRoute(n)}))}keyValueNoOrder(){return 0}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["ng-component"]],features:[M],decls:0,vars:0,template:function(n,r){},encapsulation:2});let e=t;return e})();function fi(e,t){if(e&1&&f(0,"app-fish",4),e&2){let i=c().$implicit;l("fish",i.fish)}}function ui(e,t){if(e&1&&f(0,"app-insect",5),e&2){let i=c().$implicit;l("critter",i.insect)}}function hi(e,t){if(e&1&&f(0,"app-insect",5),e&2){let i=c().$implicit;l("critter",i.oceanCritter)}}function _i(e,t){if(e&1&&f(0,"app-shop-processing-result",6),e&2){let i=c().$implicit;l("itemProcessData",i.chanceAsProcessResult)}}function Ci(e,t){if(e&1&&u(0,fi,1,1,"app-fish",4)(1,ui,1,1,"app-insect",5)(2,hi,1,1,"app-insect",5)(3,_i,1,1,"app-shop-processing-result",6),e&2){let i=t.$implicit;h(i.fish?0:i.insect?1:i.oceanCritter?2:i.chanceAsProcessResult?3:-1)}}function yi(e,t){if(e&1&&(a(0,"app-database-item-details",1),u(1,Ci,4,1,"ng-template",3),s()),e&2){let i=c();l("itemId",i.selectedEntity.id)}}function xi(e,t){if(e&1){let i=T();a(0,"div",11)(1,"app-item-icon",12),y("click",function(){let n=I(i).$implicit,r=c(4);return F(r.showDetails(n))}),s(),a(2,"label",13),f(3,"mat-checkbox",14),s()()}if(e&2){let i,o=t.$implicit,n=c(4);O("checklist-checked",(i=n.checklistForm.get(o.id))==null?null:i.value)("selected-icon",(n.selectedEntity==null?null:n.selectedEntity.id)===o.id),m(),l("itemName",o.iconName),m(),x("for","entry-",o.id,"-input"),m(),x("id","entry-",o.id,""),x("name","entry-",o.id,""),l("formControlName",o.id)}}function gi(e,t){if(e&1&&(a(0,"div",9),_(1,xi,4,12,"div",10,v),s()),e&2){let i=c().$implicit;m(),C(i.value)}}function ki(e,t){if(e&1&&(a(0,"mat-tab",8),u(1,gi,3,0,"div",9),s()),e&2){let i=t.$implicit,o=c(2);l("formGroup",o.checklistForm)("label",i.key),m(),h(o.showTable?-1:1)}}function bi(e,t){if(e&1){let i=T();a(0,"mat-tab-group",7),y("selectedTabChange",function(n){I(i);let r=c();return F(r.updateUrl(n))}),_(1,ki,2,3,"mat-tab",8,v),g(3,"keyvalue"),s()}if(e&2){let i=c();l("selectedIndex",i.selectedTabIndex()),m(),C(ce(3,1,t,i.keyValueNoOrder))}}var At=(()=>{let t=class t extends we{constructor(){super(),this.checklistService=w(Fe),this.checklistDefinition$=this._database.fetchMuseumChecklist$()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-museum-checklist"]],features:[M],decls:4,vars:5,consts:[[3,"removePlaceholder"],["listDetail","","context","museum",3,"itemId"],[3,"selectedIndex"],["appDatabaseItemDetails",""],[3,"fish"],[3,"critter"],[1,"mb-4",3,"itemProcessData"],[3,"selectedTabChange","selectedIndex"],[3,"formGroup","label"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"]],template:function(n,r){if(n&1&&(a(0,"app-list-detail-container",0),u(1,yi,2,1,"app-database-item-details",1)(2,bi,4,4,"mat-tab-group",2),g(3,"async"),s()),n&2){let p;l("removePlaceholder",r.showTable),m(),h(r.selectedEntity?1:-1),m(),h((p=S(3,3,r.checklistDefinition$))?2:-1,p)}},dependencies:[$,U,H,z,N,R,L,A,j,J,q,ve,ke,be,G,de],encapsulation:2});let e=t;return e})();var Ii=(e,t)=>t.key;function Fi(e,t){if(e&1&&f(0,"app-cooking-recipe",5),e&2){let i=t.$implicit;l("cookingRecipe",i)}}function Si(e,t){if(e&1&&_(0,Fi,1,1,"app-cooking-recipe",5,Ii),e&2){let i=t.$implicit;C(i.cookedFrom)}}function Ti(e,t){if(e&1&&(a(0,"app-database-item-details",1),u(1,Si,2,0,"ng-template",4),s()),e&2){let i=c();l("itemId",i.selectedEntity.id)}}function Di(e,t){if(e&1){let i=T();a(0,"div",8)(1,"app-item-icon",9),y("click",function(){let n=I(i).$implicit,r=c(3);return F(r.showDetails(n))}),s(),a(2,"label",10),f(3,"mat-checkbox",11),s()()}if(e&2){let i,o=t.$implicit,n=c(3);O("checklist-checked",(i=n.checklistForm.get(o.id))==null?null:i.value)("selected-icon",(n.selectedEntity==null?null:n.selectedEntity.id)===o.id),m(),l("itemName",o.iconName),m(),x("for","entry-",o.id,"-input"),m(),x("id","entry-",o.id,""),x("name","entry-",o.id,""),l("formControlName",o.id)}}function wi(e,t){if(e&1&&(a(0,"div",6),_(1,Di,4,12,"div",7,v),s()),e&2){let i=c().$implicit;m(),C(i.value)}}function Mi(e,t){if(e&1&&(a(0,"mat-tab",3),g(1,"addSpacesToPascalCase"),g(2,"titlecase"),u(3,wi,3,0,"div",6),s()),e&2){let i=t.$implicit,o=c();l("formGroup",o.checklistForm)("label",o.cookingUtensilMapping[i.key.toLowerCase()]?o.cookingUtensilMapping[i.key.toLowerCase()].displayName:S(2,5,S(1,3,i.key))),m(3),h(o.showTable?-1:3)}}var jt=(()=>{let t=class t extends we{constructor(){super(),this.checklistService=w(Pt),this.checklistDefinition$=this._database.fetchCookingRecipesChecklist$(),this.cookingUtensilMapping=this._database.getCookingUtensilMapping(),this.urlPathFromLabel=o=>{let n=Object.keys(this.cookingUtensilMapping).find(r=>this.cookingUtensilMapping[r].displayName===o);return n||o.toLowerCase().replaceAll(" ","")}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-cooking-recipes-checklist"]],features:[M],decls:7,vars:8,consts:[[3,"removePlaceholder"],["listDetail","","hideQualityGrid","","context","cooking_recipes",3,"itemId"],[3,"selectedTabChange","selectedIndex"],[3,"formGroup","label"],["appDatabaseItemDetails",""],[1,"mb-4",3,"cookingRecipe"],[1,"icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"]],template:function(n,r){n&1&&(a(0,"app-list-detail-container",0),u(1,Ti,2,1,"app-database-item-details",1),a(2,"mat-tab-group",2),y("selectedTabChange",function(k){return r.updateUrl(k)}),_(3,Mi,4,7,"mat-tab",3,v),g(5,"async"),g(6,"keyvalue"),s()()),n&2&&(l("removePlaceholder",r.showTable),m(),h(r.selectedEntity?1:-1),m(),l("selectedIndex",r.selectedTabIndex()),m(),C(ce(6,5,S(5,3,r.checklistDefinition$),r.keyValueNoOrder)))},dependencies:[$,U,H,z,N,R,L,A,j,Ie,J,q,G,Xe,de,W],encapsulation:2});let e=t;return e})();function Ei(e,t){if(e&1&&f(0,"app-offering",3),e&2){let i=t.$implicit;l("details",i)}}function Ni(e,t){if(e&1&&(a(0,"app-item-card-switch",0),u(1,Ei,1,1,"ng-template",2),s()),e&2){let i=c();l("item",i.selectedEntity)}}function $i(e,t){if(e&1){let i=T();a(0,"div",13),g(1,"entityKey"),a(2,"app-item-icon",14),y("click",function(){I(i);let n=c().$implicit,r=c(5);return F(r.showDetails(n))}),s(),a(3,"label",15),f(4,"mat-checkbox",16),s()()}if(e&2){let i,o=t,n=c().$implicit,r=c(5);O("checklist-checked",(i=r.checklistForm.get(o))==null?null:i.value)("selected-icon",r.selectedEntity&&S(1,14,r.selectedEntity)===o),m(2),l("amount",n.amount)("itemName",n.item.iconName)("quality",n.quality),m(),x("for","entry-",o,"-input"),m(),x("id","entry-",o,""),x("name","entry-",o,""),l("formControlName",o)}}function Pi(e,t){if(e&1&&(u(0,$i,5,16,"div",12),g(1,"entityKey")),e&2){let i,o=t.$implicit;h((i=S(1,1,o.item))?0:-1,i)}}function Bi(e,t){if(e&1&&(a(0,"div",7)(1,"div",8),f(2,"img",9),a(3,"div",10)(4,"div"),d(5),s(),a(6,"div"),d(7),s()()(),a(8,"div",11),_(9,Pi,2,3,null,null,v),s()()),e&2){let i=t.$implicit,o=c(4);m(),O("bg-merino-300",(o.activeOffering==null?null:o.activeOffering.title)===i.title),m(),x("alt","",i.title," offering icon"),x("src","assets/ui/images/offering/",i.imageName,".png",ze),m(3),ie(i.title),m(2),oe(" ",i.numOfItemRequired===-1?"All":i.numOfItemRequired," required: "),m(2),C(i.requiredItems)}}function Vi(e,t){if(e&1&&(a(0,"div",6),_(1,Bi,11,8,"div",7,v),s()),e&2){let i=c().$implicit;m(),C(i.offerings)}}function Oi(e,t){if(e&1&&(a(0,"mat-tab",5),g(1,"addSpacesToPascalCase"),u(2,Vi,3,0,"div",6),s()),e&2){let i=t.$implicit,o=c(2);Qe("label",S(1,2,i.offeringGroupTitle)),m(2),h(o.showTable?-1:2)}}function Gi(e,t){if(e&1){let i=T();a(0,"mat-tab-group",4),y("selectedTabChange",function(n){I(i);let r=c();return F(r.updateUrl(n))}),_(1,Oi,3,4,"mat-tab",5,v),s()}if(e&2){let i=c();l("formGroup",i.checklistForm)("selectedIndex",i.selectedTabIndex()),m(),C(t)}}var Ut=(()=>{let t=class t extends xe{constructor(){super(),this.checklistService=w(Bt),this.checklistForm=new ue({}),this._altars=[],this.urlPathFromLabel=o=>{let n=o.toLowerCase().replaceAll(" ",""),r=this._altars.find(p=>p.offeringGroupTitle.toLowerCase().replaceAll(" ","")===n);return r?r.urlPath:o.toLowerCase().replaceAll(" ","")},this.checklistForm.valueChanges.pipe(ye()).subscribe({next:o=>{let n=[];Object.keys(o).forEach(r=>{o[r]&&n.push(r)}),this.checklistService.set(n)}}),this.offerings$=this._database.fetchOfferings$().pipe(V(o=>{let n=o.map(r=>r.urlPath);this._altars=o,o.forEach(r=>{r.offerings.forEach(p=>{p.requiredItems.forEach(k=>{let B=it(k.item);this.checklistForm.addControl(B,new E(this.checklistService.isChecked(B),{nonNullable:!0}),{emitEvent:!1})})})}),this.activateTabFromRoute(n)}))}showDetails(o){this.entryForToDo=o,o&&"amount"in o?super.showDetails(o.item):super.showDetails(o)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=b({type:t,selectors:[["app-offerings-checklist"]],features:[M],decls:4,vars:4,consts:[["listDetail","","context","offerings",3,"item"],[3,"formGroup","selectedIndex"],["appDatabaseItemDetails",""],[3,"details"],[3,"selectedTabChange","formGroup","selectedIndex"],[3,"label"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"flex","flex-col","gap-y-2"],[1,"rounded-lg","bg-merino","flex","items-center","gap-4","p-4"],["height","64","width","64",3,"alt","src"],[1,"flex","flex-col","text-lg","font-semibold"],[1,"icon-grid","w-full"],[1,"icon-grid-item","checklist-item","flex","flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"click","amount","itemName","quality"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"]],template:function(n,r){if(n&1&&(a(0,"app-list-detail-container"),u(1,Ni,2,1,"app-item-card-switch",0)(2,Gi,3,2,"mat-tab-group",1),g(3,"async"),s()),n&2){let p;m(),h(r.selectedEntity?1:-1),m(),h((p=S(3,2,r.offerings$))?2:-1,p)}},dependencies:[$,U,H,z,N,R,L,A,j,q,Y,Q,G,St,W],encapsulation:2});let e=t;return e})();var Ri=[{path:"",component:Vt,children:[{path:"",component:Rt},{path:"to-do",loadChildren:()=>import("./chunk-XRFYESXX.js").then(e=>e.ToDoModule)},{path:"museum-checklist",redirectTo:"museum-checklist/",pathMatch:"full"},{path:"museum-checklist/:tabName",component:At,title:"Museum checklist - My Guide"},{path:"cooking-recipes-checklist",redirectTo:"cooking-recipes-checklist/",pathMatch:"full"},{path:"cooking-recipes-checklist/:tabName",component:jt,title:"Cooking recipes checklist - My Guide"},{path:"offerings-checklist",redirectTo:"offerings-checklist/",pathMatch:"full"},{path:"offerings-checklist/:tabName",component:Ut,title:"Offerings checklist - My Guide"},{path:"settings",loadChildren:()=>import("./chunk-LXDE6CB4.js").then(e=>e.SettingsModule),title:"Settings - My Guide"}]}],qt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=me({type:t}),t.\u0275inj=se({imports:[Pe.forChild(Ri),Pe]});let e=t;return e})();var Zn=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=me({type:t}),t.\u0275inj=se({imports:[Ze,qt,ge,Nt,vt,ft,he,Et,Ie,J,Mt,ve,ke,be,Y,Tt,wt,Dt,Q,Ce,Se,De]});let e=t;return e})();export{Zn as MyCoralGuideModule};
