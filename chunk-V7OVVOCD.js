import{f as J,g as Q,h as X,k as Z,n as ee,o as te,t as ne}from"./chunk-7S2CCX5F.js";import"./chunk-TFTB324J.js";import"./chunk-JS6CQQZJ.js";import"./chunk-ZBO7XF7X.js";import{Ca as _,Ea as S,F as V,Ha as m,Ia as I,Ja as U,Jb as z,Ka as v,La as s,Le as q,M as F,Ma as p,Na as h,Nd as O,Oa as H,P as u,Pa as P,Pd as K,Q as w,Ra as f,Sd as Y,Ta as R,Ua as r,a as E,b as B,c as k,fb as x,hb as W,if as G,k as M,kb as D,ke as j,la as l,lb as g,mb as b,n as N,ob as L,sb as y,tb as T,wa as $,ya as d}from"./chunk-5LEGSPOZ.js";function oe(e,o){if(e&1&&h(0,"app-shop-item-data-details",2),e&2){let t=r();_("shopItemData",t.selectedEntity)}}function ae(e,o){if(e&1&&h(0,"app-animal-details",3),e&2){let t=r();_("mappedAnimalShopData",t.selectedAnimal)}}function re(e,o){e&1&&h(0,"app-opening-hours",9),e&2&&_("openingHours",o)}function le(e,o){if(e&1&&(d(0,re,1,1,"app-opening-hours",9),y(1,"async")),e&2){let t=r(),i;m(0,(i=T(1,1,t.openingHours$))?0:-1,i)}}function pe(e,o){if(e&1){let t=f();s(0,"app-item-icon",14),R("click",function(){let n=u(t).$implicit,c=r(4);return w(c.showDetails(n))}),p()}if(e&2){let t=o.$implicit,i=r(4);S("selected-icon",(i.selectedEntity==null||i.selectedEntity.item==null?null:i.selectedEntity.item.id)===t.item.id),_("itemName",t.item.iconName)}}function me(e,o){if(e&1&&(s(0,"div",13),U(1,pe,1,3,"app-item-icon",15,I),p()),e&2){let t=r();l(),v(t)}}function se(e,o){if(e&1&&h(0,"app-shop-item-data-table",12),e&2){let t=r();_("dataSource",t)}}function ce(e,o){if(e&1){let t=f();s(0,"app-data-filter",10),b("showTableChange",function(a){u(t);let n=r(2);return g(n.showTable,a)||(n.showTable=a),w(a)}),p(),d(1,me,3,0,"div",11)(2,se,1,1,"app-shop-item-data-table",12)}if(e&2){let t=r(2);D("showTable",t.showTable),l(),m(1,t.showTable?-1:1),l(),m(2,t.showTable?2:-1)}}function de(e,o){if(e&1&&(s(0,"h2",7),x(1,"Stock list"),p(),d(2,ce,3,3),y(3,"async")),e&2){let t=r(),i;l(2),m(2,(i=T(3,1,t.shopItemData$))?2:-1,i)}}function _e(e,o){if(e&1){let t=f();s(0,"app-item-icon",14),R("click",function(){let n=u(t).$implicit,c=r(3);return w(c.showAnimal(n))}),p()}if(e&2){let t=o.$implicit,i=r(3),a;S("selected-icon",(i.selectedAnimal==null?null:i.selectedAnimal.key)===t.key),_("itemName",(a=t.animal==null||t.animal.variants==null||t.animal.variants[0]==null||t.animal.variants[0].icons==null?null:t.animal.variants[0].icons.adult)!==null&&a!==void 0?a:null)}}function he(e,o){if(e&1&&(s(0,"div",13),U(1,_e,1,3,"app-item-icon",15,I),p()),e&2){let t=r();l(),v(t)}}function Ce(e,o){if(e&1){let t=f();s(0,"app-data-filter",10),b("showTableChange",function(a){u(t);let n=r();return g(n.showTable,a)||(n.showTable=a),w(a)}),p(),d(1,he,3,0,"div",11)}if(e&2){let t=r();D("showTable",t.showTable),l(),m(1,t.showTable?-1:1)}}function ue(e,o){e&1&&h(0,"app-animal-mood-table",8),e&2&&_("productSizeByMood",o)}var ke=(()=>{let o=class o extends J{constructor(){super(),this.shopName="underwater-ranch",this.openingHours$=this._database.fetchOpeningHours$(this.shopName),this.sizeByMood$=this._database.fetchAnimalMoodData$(),this.animalData$=N([this._database.fetchAnimals$(),this._database.fetchAnimalShopData$(this.shopName)]).pipe(V(([i,a])=>M(a.map(n=>{let A=n,{animalKey:c}=A,C=k(A,["animalKey"]);return B(E({},C),{animal:i.find(ie=>ie.key===c)})}))))}showDetails(i){super.showDetails(i),this.selectedAnimal=void 0}showAnimal(i){this.selectedAnimal=i,this.selectedEntity=void 0,this.openDrawer=!0}};o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=F({type:o,selectors:[["app-underwater-ranch"]],standalone:!0,features:[$,L],decls:19,vars:13,consts:[[3,"openDrawer","openDrawerChange"],["listDetail",""],[3,"shopItemData"],[3,"mappedAnimalShopData"],[1,"px-2","xl:px-[50px]","w-full"],[1,"mb-4","font-semibold","text-3xl","text-black","flex","items-center","gap-x-4"],[3,"uiIcon"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[3,"productSizeByMood"],[3,"openingHours"],[3,"showTable","showTableChange"],["class","grid gap-4 icon-grid"],[3,"dataSource"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item",3,"itemName","click"],["class","icon-grid-item",3,"selected-icon","itemName"]],template:function(a,n){if(a&1&&(s(0,"app-list-detail-container",0),b("openDrawerChange",function(C){return g(n.openDrawer,C)||(n.openDrawer=C),C}),H(1,1),d(2,oe,1,1,"app-shop-item-data-details",2)(3,ae,1,1,"app-animal-details",3),P(),s(4,"div",4)(5,"app-card")(6,"h1",5),h(7,"app-ui-icon",6),x(8),p(),d(9,le,2,3),p(),d(10,de,4,3),s(11,"h2",7),x(12,"Animals"),p(),d(13,Ce,2,2),y(14,"async"),s(15,"h2",7),x(16,"Animal product size per mood and hearts"),p(),d(17,ue,1,1,"app-animal-mood-table",8),y(18,"async"),p()()),a&2){let c;D("openDrawer",n.openDrawer),l(2),m(2,n.selectedEntity?2:-1),l(),m(3,n.selectedAnimal?3:-1),l(4),_("uiIcon",n.SHOP_ICONS[n.shopName]),l(),W(" ",n.SHOP_DISPLAY_NAMES[n.shopName]," "),l(),m(9,n.openingHours$?9:-1),l(),m(10,n.shopItemData$?10:-1),l(3),m(13,(c=T(14,9,n.animalData$))?13:-1,c),l(4),m(17,(c=T(18,11,n.sizeByMood$))?17:-1,c)}},dependencies:[ne,X,Z,Q,te,ee,G,O,K,Y,j,q,z],encapsulation:2});let e=o;return e})();export{ke as UnderwaterRanchComponent};
