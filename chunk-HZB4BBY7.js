import{a as K}from"./chunk-32MVNML6.js";import"./chunk-JEJZD6V6.js";import{a as G}from"./chunk-NGYDMITL.js";import"./chunk-YQVLGDGS.js";import"./chunk-6Q5ZQTY6.js";import{a as O}from"./chunk-5C6YMBLV.js";import{a as A}from"./chunk-KBJACSGS.js";import{a as j}from"./chunk-VXQBK2DC.js";import"./chunk-XZWLFQMH.js";import"./chunk-XSV5HIP5.js";import{a as R}from"./chunk-VJUOC7OS.js";import{a as L,c as V}from"./chunk-IN7U4HAH.js";import"./chunk-EIGW5THG.js";import"./chunk-FKRWSLGD.js";import{a as q}from"./chunk-37KGVQVA.js";import"./chunk-5YOBLJC2.js";import{b as $}from"./chunk-4RPGNDDY.js";import"./chunk-O3BKA2PM.js";import"./chunk-U7G2FOHA.js";import"./chunk-H3WVOQZP.js";import{b as W}from"./chunk-EV4S2XUE.js";import"./chunk-NXARORLY.js";import"./chunk-BO7LODCH.js";import"./chunk-VA7RNGDO.js";import"./chunk-IIRYQ5NI.js";import"./chunk-HU7WFQWJ.js";import"./chunk-JCTEBOW5.js";import"./chunk-SJRCRC22.js";import"./chunk-JL222CZ7.js";import"./chunk-YRO5LM32.js";import"./chunk-TIIEJEUC.js";import"./chunk-PS3FMX3M.js";import{a as B}from"./chunk-7JOAVXDE.js";import"./chunk-KLZCJ54W.js";import"./chunk-PYPF6S35.js";import"./chunk-FJWSANLQ.js";import{G as w,Hc as u,Ic as _,Jb as l,Lb as D,Pb as d,Rb as b,Sb as h,Tb as y,Ub as p,Vb as c,Wb as g,X as I,_b as T,ac as x,bc as a,db as r,kd as M,ld as k,ma as C,na as f,p as P,sb as E,wb as N,xc as F,yc as v,zb as m,zc as S}from"./chunk-J7WD3OMO.js";import"./chunk-4CLCTAJ7.js";function U(i,s){if(i&1&&g(0,"app-processing",4),i&2){let e=a(2);l("itemProcessing",e.selectedEntity)}}function z(i,s){if(i&1&&(p(0,"app-database-item-details",0),m(1,U,1,1,"ng-template",3),c()),i&2){let e=a();l("itemId",e.selectedEntity.output.item.id)("amount",e.selectedEntity.output.amount)}}function H(i,s){if(i&1){let e=T();p(0,"app-item-icon",9),x("click",function(){let t=C(e).$implicit,o=a(4);return f(o.showDetails(t))}),c()}if(i&2){let e,n,t=s.$implicit,o=a(4);D("selected-icon",(o.selectedEntity==null||o.selectedEntity.output==null||o.selectedEntity.output.item==null?null:o.selectedEntity.output.item.id)===t.output.item.id&&(o.reusedImages.includes((e=t.output.item.iconName)!==null&&e!==void 0?e:"")?t.input.item.iconName===(o.selectedEntity==null||o.selectedEntity.input==null||o.selectedEntity.input.item==null?null:o.selectedEntity.input.item.iconName):!0)&&t.output.amount===(o.selectedEntity==null||o.selectedEntity.output==null?null:o.selectedEntity.output.amount)),l("amount",t.output.amount)("itemName",t.output.item.iconName)("subIconName",o.reusedImages.includes((n=t.output.item.iconName)!==null&&n!==void 0?n:"")?t.input.item.iconName:void 0)}}function J(i,s){if(i&1&&(p(0,"div",6),h(1,H,1,5,"app-item-icon",8,b),c()),i&2){let e=a();r(),y(e)}}function X(i,s){if(i&1&&g(0,"app-processor-table",7),i&2){let e=a();l("dataSource",e)}}function Y(i,s){if(i&1&&m(0,J,3,0,"div",6)(1,X,1,1,"app-processor-table",7),i&2){let e=a(2);d(e.showTable?-1:0),r(),d(e.showTable?1:-1)}}function Z(i,s){if(i&1){let e=T();p(0,"mat-tab",2),u(1,"addSpacesToPascalCase"),u(2,"titlecase"),p(3,"app-data-filter",5),S("showTableChange",function(t){C(e);let o=a();return v(o.showTable,t)||(o.showTable=t),f(t)}),c(),m(4,Y,2,2),u(5,"async"),c()}if(i&2){let e,n=s.$implicit,t=a();l("label",t.processorMapping[n.toLowerCase()]?t.processorMapping[n.toLowerCase()].displayName:_(2,5,_(1,3,n))),r(3),F("showTable",t.showTable),r(),d((e=_(5,7,t.filteredData$(n)))?4:-1,e)}}var _e=(()=>{class i extends A{constructor(){super(),this.quality=B,this.machineNames=[],this.processorMapping=this._database.getProcessorMapping(),this.urlPathFromLabel=e=>{let n=Object.keys(this.processorMapping).find(t=>this.processorMapping[t].displayName===e);return n||e.toLowerCase().replaceAll(" ","")},this._database.fetchItemProcessingRecipes$().pipe(w(1)).subscribe({next:e=>{this.machineNames=Object.keys(e),this.activateTabFromRoute(this.machineNames)}})}filteredData$(e){return this._database.fetchItemProcessingRecipes$().pipe(P(n=>n[e]),I(n=>{this.reusedImages=this.getMultipleIconNames(n.map(t=>t.output.item.iconName??""))}))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=E({type:i,selectors:[["app-processor"]],features:[N],decls:5,vars:2,consts:[["listDetail","","context","artisan",3,"itemId","amount"],[3,"selectedTabChange","selectedIndex"],[3,"label"],["appDatabaseItemDetails",""],["hideMaschine","",3,"itemProcessing"],[3,"showTableChange","showTable"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"amount","itemName","subIconName","selected-icon"],[1,"icon-grid-item",3,"click","amount","itemName","subIconName"]],template:function(n,t){n&1&&(p(0,"app-list-detail-container"),m(1,z,2,2,"app-database-item-details",0),p(2,"mat-tab-group",1),x("selectedTabChange",function(Q){return t.updateUrl(Q)}),h(3,Z,6,9,"mat-tab",2,b),c()()),n&2&&(r(),d(t.selectedEntity?1:-1),r(),l("selectedIndex",t.selectedTabIndex()),r(),y(t.machineNames))},dependencies:[$,j,G,V,L,q,M,R,k,W,K,O],encapsulation:2})}}return i})();export{_e as ProcessorComponent};
