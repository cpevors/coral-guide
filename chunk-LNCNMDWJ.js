import{a as G,b as J,c as Q}from"./chunk-L4V3TQA4.js";import{a as K}from"./chunk-2N6LW47J.js";import{a as Y,b as j}from"./chunk-ZEVYMZSY.js";import"./chunk-T5XNTDH6.js";import"./chunk-D6GVJ3WT.js";import"./chunk-LBSZLZCM.js";import"./chunk-XK52KKFL.js";import"./chunk-IR2VG2X3.js";import"./chunk-DJSJMWKS.js";import{a as q}from"./chunk-OSPXUHDU.js";import"./chunk-JGF6KBFK.js";import"./chunk-5T6JT7FG.js";import"./chunk-QEWZLHID.js";import"./chunk-2K3GEZZY.js";import"./chunk-7A5ZJ3YN.js";import"./chunk-2A7PSW7O.js";import"./chunk-VO65IASJ.js";import{a as L}from"./chunk-C53QTWVW.js";import"./chunk-GLYGKSTO.js";import{b as z}from"./chunk-PIL2IJC4.js";import"./chunk-OOBQPUIX.js";import"./chunk-OM3WRHFD.js";import"./chunk-JSGVWV7K.js";import{b as O}from"./chunk-VYOS5CGL.js";import"./chunk-RZQ3UNDK.js";import"./chunk-DKARO4CX.js";import"./chunk-DHAI4KFY.js";import"./chunk-5MLMU7SK.js";import"./chunk-GEWE6M22.js";import"./chunk-SJRCRC22.js";import{a as $}from"./chunk-X3TMHFY3.js";import"./chunk-2CFRUPNI.js";import{a as W}from"./chunk-F6RS7OIB.js";import"./chunk-KW5235UB.js";import"./chunk-7JOAVXDE.js";import"./chunk-7SDYZQX7.js";import"./chunk-KUYOE2KN.js";import"./chunk-AJOFB37Q.js";import{$b as S,Gc as H,Hc as M,Ib as d,Kb as x,Ob as p,Qb as y,Rb as T,Sb as b,Tb as s,Ub as m,Vb as _,Vc as P,Wb as N,Xb as V,Zb as u,ac as o,db as l,ld as F,ma as h,na as C,rc as f,sb as U,tc as B,wb as k,wc as D,xc as g,yb as c,yc as v}from"./chunk-GYX7HZX3.js";import{a as A,b as E,c as R}from"./chunk-4CLCTAJ7.js";function ee(t,a){if(t&1&&_(0,"app-shop-item-data-details",1),t&2){let e=o();d("shopItemData",e.selectedEntity)}}function te(t,a){if(t&1&&_(0,"app-animal-details",2),t&2){let e=o();d("mappedAnimalShopData",e.selectedAnimal)}}function ne(t,a){t&1&&_(0,"app-opening-hours",7),t&2&&d("openingHours",a)}function ie(t,a){if(t&1&&c(0,ne,1,1,"app-opening-hours",7),t&2){let e,i=o();p((e=i.openingHours$.value())?0:-1,e)}}function ae(t,a){if(t&1){let e=u();s(0,"app-item-icon",12),S("click",function(){let n=h(e).$implicit,r=o(4);return C(r.showDetails(n))}),m()}if(t&2){let e=a.$implicit,i=o(4);x("selected-icon",(i.selectedEntity==null||i.selectedEntity.item==null?null:i.selectedEntity.item.id)===e.item.id),d("itemName",e.item.iconName)}}function oe(t,a){if(t&1&&(s(0,"div",9),T(1,ae,1,3,"app-item-icon",11,y),m()),t&2){let e=o();l(),b(e)}}function le(t,a){if(t&1&&_(0,"app-shop-item-data-table",10),t&2){let e=o();d("dataSource",e)}}function re(t,a){if(t&1){let e=u();s(0,"app-data-filter",8),v("showTableChange",function(n){h(e);let r=o(2);return g(r.showTable,n)||(r.showTable=n),C(n)}),m(),c(1,oe,3,0,"div",9)(2,le,1,1,"app-shop-item-data-table",10)}if(t&2){let e=o(2);D("showTable",e.showTable),l(),p(e.showTable?-1:1),l(),p(e.showTable?2:-1)}}function me(t,a){if(t&1&&(s(0,"h2",5),f(1,"Stock list"),m(),c(2,re,3,3),H(3,"async")),t&2){let e,i=o();l(2),p((e=M(3,1,i.shopItemData$))?2:-1,e)}}function pe(t,a){if(t&1){let e=u();s(0,"app-item-icon",12),S("click",function(){let n=h(e).$implicit,r=o(3);return C(r.showAnimal(n))}),m()}if(t&2){let e,i=a.$implicit,n=o(3);x("selected-icon",(n.selectedAnimal==null?null:n.selectedAnimal.key)===i.key),d("itemName",(e=i.animal==null||i.animal.variants==null||i.animal.variants[0]==null||i.animal.variants[0].icons==null?null:i.animal.variants[0].icons.adult)!==null&&e!==void 0?e:null)}}function se(t,a){if(t&1&&(s(0,"div",9),T(1,pe,1,3,"app-item-icon",11,y),m()),t&2){let e=o();l(),b(e)}}function ce(t,a){if(t&1){let e=u();s(0,"app-data-filter",8),v("showTableChange",function(n){h(e);let r=o();return g(r.showTable,n)||(r.showTable=n),C(n)}),m(),c(1,se,3,0,"div",9)}if(t&2){let e=o();D("showTable",e.showTable),l(),p(e.showTable?-1:1)}}function de(t,a){t&1&&_(0,"app-animal-mood-table",6),t&2&&d("productSizeByMood",a)}var Ee=(()=>{class t extends K{#e;constructor(){super(),this.shopName="underwater-ranch",this.sizeByMood=this._database.fetchAnimalMoodData(),this.#e=Q(this._database.fetchAnimals(),this._database.fetchAnimalShopData(this.shopName)),this.animalData=P(()=>{let e=this.#e.values();if(!e)return null;let[i,n]=e;return n.map(r=>{let I=r,{animalKey:w}=I,X=R(I,["animalKey"]);return E(A({},X),{animal:i.find(Z=>Z.key===w)})})}),this.openingHours$=this._database.fetchOpeningHours$(this.shopName)}showDetails(e){super.showDetails(e),this.selectedAnimal=void 0}showAnimal(e){this.selectedAnimal=e,this.selectedEntity=void 0,this.listDetail.open()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=U({type:t,selectors:[["app-underwater-ranch"]],features:[k],decls:16,vars:8,consts:[["listDetail",""],[3,"shopItemData"],[3,"mappedAnimalShopData"],[1,"mb-4","font-semibold","text-3xl","text-black","flex","items-center","gap-x-4"],[3,"uiIcon"],[1,"mt-6","mb-3","font-semibold","text-2xl","text-white"],[3,"productSizeByMood"],[3,"openingHours"],[3,"showTableChange","showTable"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"selected-icon","itemName"],[1,"icon-grid-item",3,"click","itemName"]],template:function(i,n){if(i&1&&(s(0,"app-list-detail-container"),N(1,0),c(2,ee,1,1,"app-shop-item-data-details",1)(3,te,1,1,"app-animal-details",2),V(),s(4,"app-card")(5,"h1",3),_(6,"app-ui-icon",4),f(7),m(),c(8,ie,1,1),m(),c(9,me,4,3),s(10,"h2",5),f(11,"Animals"),m(),c(12,ce,2,2),s(13,"h2",5),f(14,"Animal product size per mood and hearts"),m(),c(15,de,1,1,"app-animal-mood-table",6),m()),i&2){let r,w;l(2),p(n.selectedEntity?2:-1),l(),p(n.selectedAnimal?3:-1),l(3),d("uiIcon",n.SHOP_ICONS[n.shopName]),l(),B(" ",n.SHOP_DISPLAY_NAMES[n.shopName]," "),l(),p(n.openingHours$?8:-1),l(),p(n.shopItemData$?9:-1),l(3),p((r=n.animalData())?12:-1,r),l(3),p((w=n.sizeByMood.value())?15:-1,w)}},dependencies:[F,W,z,j,J,$,Y,L,O,q,G],encapsulation:2})}}return t})();export{Ee as UnderwaterRanchComponent};
