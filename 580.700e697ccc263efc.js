"use strict";(self.webpackChunkguide=self.webpackChunkguide||[]).push([[580],{8580:(Pe,f,o)=>{o.r(f),o.d(f,{NPCsModule:()=>qe});var p=o(6814),h=o(8440),c=o(2787),e=o(5879),g=o(3503),T=o(2181),C=o(1993),Z=o(290),N=o(6114),y=o(8227);let I=(()=>{var n;class i{constructor(){this.uiIcons=g.a,this.isNPCListActive=!1,this.router=(0,e.f3M)(c.F0),this.updateIsNPCListActive(this.router.url),this.router.events.pipe((0,C.sL)(),(0,T.h)(a=>a instanceof c.m2)).subscribe({next:a=>{this.updateIsNPCListActive(a.urlAfterRedirects)}})}updateIsNPCListActive(a){this.isNPCListActive=a.startsWith("/npcs/")&&!a.includes("overview")&&!a.includes("gifting")}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-people"]],decls:7,vars:3,consts:[["routerLink","gifting",3,"uiIcon"],["routerLink","overview",3,"active","uiIcon"],[1,"hidden"]],template:function(a,r){1&a&&(e.TgZ(0,"app-sidebar-container")(1,"app-module-sidebar")(2,"app-module-sidebar-item",0),e._uU(3,"Gifting"),e.qZA(),e.TgZ(4,"app-module-sidebar-item",1),e._uU(5,"NPC List "),e.qZA()(),e._UZ(6,"router-outlet",2),e.qZA()),2&a&&(e.xp6(2),e.Q6J("uiIcon",r.uiIcons.GIFTING),e.xp6(2),e.Q6J("active",r.isNPCListActive)("uiIcon",r.uiIcons.NEUTRAL))},dependencies:[c.lC,c.rH,Z.R,N.z,y.L],encapsulation:2}),i})();var m=o(7241),A=o(9315),b=o(4664),E=o(2096),d=o(3861),_=o(7251),u=o(4240),x=o(2596),Q=o(2493);let U=(()=>{var n;class i{constructor(){this._setClass=!0}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-inline-minimal-item"]],hostVars:2,hostBindings:function(a,r){2&a&&e.ekj("app-inline-minimal-item",r._setClass)},inputs:{minimalItem:"minimalItem"},decls:2,vars:2,consts:[[3,"itemName"]],template:function(a,r){1&a&&(e._UZ(0,"app-item-icon",0),e._uU(1)),2&a&&(e.Q6J("itemName",r.minimalItem.iconName),e.xp6(1),e.hij(" ",r.minimalItem.displayName,"\n"))},dependencies:[_.D],styles:[".app-inline-minimal-item{display:inline-flex;column-gap:3px}.app-inline-minimal-item .app-item-icon img{height:1.4em;width:auto;display:inline-block;vertical-align:text-bottom;margin:-2px 2px -2px 0}\n"],encapsulation:2}),i})();var J=o(4922);function F(n,i){if(1&n&&e._UZ(0,"app-inline-minimal-item",6),2&n){const t=e.oxw().$implicit;e.Q6J("minimalItem",t.item)}}function w(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"addSpacesToPascalCase"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("All ",e.lcZ(2,1,t.categoryName),"")}}function q(n,i){if(1&n&&(e.ynx(0),e.YNc(1,F,1,1,"app-inline-minimal-item",5),e.YNc(2,w,3,3,"span",1),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf","item"===t.type),e.xp6(1),e.Q6J("ngIf","category"===t.type)}}function O(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",2),e._UZ(2,"app-ui-icon",3),e._uU(3),e.qZA(),e.TgZ(4,"div",4),e.YNc(5,q,3,2,"ng-container",0),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit,a=e.oxw();e.xp6(2),e.Q6J("uiIcon",t.icon),e.xp6(1),e.hij(" ",t.label," "),e.xp6(2),e.Q6J("ngForOf",a.preferences[t.preferenceField])}}function P(n,i){if(1&n&&(e.ynx(0),e.YNc(1,O,6,3,"ng-container",1),e.BQk()),2&n){const t=i.$implicit,a=e.oxw();e.xp6(1),e.Q6J("ngIf",a.preferences[t.preferenceField].length)}}let v=(()=>{var n;class i{constructor(){this.setCssClass=!0,this.preferencesMap=Q.A}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-gifting-grid"]],hostVars:2,hostBindings:function(a,r){2&a&&e.ekj("gifting-preference-grid",r.setCssClass)},inputs:{preferences:"preferences"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"font-semibold","flex","items-center","sm:flex-col","sm:pr-10","mb-1","text-black"],[1,"!text-gifting","mr-1","sm:mr-0","!h-6","!w-6",3,"uiIcon"],[1,"gifting-gifts-grid"],[3,"minimalItem",4,"ngIf"],[3,"minimalItem"]],template:function(a,r){1&a&&e.YNc(0,P,2,1,"ng-container",0),2&a&&e.Q6J("ngForOf",r.preferencesMap)},dependencies:[p.sg,p.O5,d.f,U,J.O],styles:[".gifting-preference-grid{margin-bottom:2rem;margin-top:.25rem;display:grid;grid-template-columns:repeat(1,minmax(0,1fr));font-size:1.25rem;line-height:1.75rem}@media (min-width: 640px){.gifting-preference-grid{row-gap:.75rem}}.gifting-gifts-grid{margin-top:.25rem;margin-bottom:1rem;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));align-items:center;gap:.5rem}@media (min-width: 640px){.gifting-preference-grid{grid-template-columns:min-content 1fr}.gifting-gifts-grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}}\n"],encapsulation:2}),i})();var Y=o(7405);function H(n,i){if(1&n&&e._UZ(0,"app-ui-icon",11),2&n){const t=e.oxw(2).$implicit,a=e.oxw(2);e.MGl("matTooltip","",null==t.npc?null:t.npc.characterName," is dateable"),e.Q6J("uiIcon",a.uiIcon.LOVE)}}function L(n,i){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"app-ui-icon",13),e._uU(2),e.ALo(3,"ingameDate"),e.qZA()),2&n){const t=e.oxw(2).$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("uiIcon",a.uiIcon.BIRTHDAY),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.npc.birthday)," ")}}function G(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-item-icon",6),e.TgZ(2,"div",7)(3,"div",8),e._uU(4),e.YNc(5,H,1,2,"app-ui-icon",9),e.qZA(),e.YNc(6,L,4,4,"div",10),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("itemName",t.preferences.npc.iconName),e.xp6(3),e.hij(" ",t.preferences.npc.characterName," "),e.xp6(1),e.Q6J("ngIf",null==t.npc?null:t.npc.isDateable),e.xp6(1),e.Q6J("ngIf",t.npc&&t.npc.birthday)}}function k(n,i){1&n&&(e.ynx(0),e._uU(1,"Universal"),e.BQk())}function M(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",3),e.YNc(2,G,7,4,"ng-container",4),e.YNc(3,k,2,0,"ng-container",4),e.qZA(),e._UZ(4,"app-gifting-grid",5),e.qZA()),2&n){const t=i.$implicit;e.xp6(2),e.Q6J("ngIf",t.preferences.npc),e.xp6(1),e.Q6J("ngIf","ci_universal"===t.preferences.mapKey),e.xp6(1),e.Q6J("preferences",t.preferences)}}function $(n,i){if(1&n&&(e.TgZ(0,"app-card",1),e.YNc(1,M,5,3,"div",2),e.qZA()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}let j=(()=>{var n;class i{constructor(){this.uiIcon=g.a,this._database=(0,e.f3M)(m.k),this.gifting$=(0,A.D)({gifts:this._database.fetchGiftingPreferences$(),npcs:this._database.fetchNPCs$()}).pipe((0,b.w)(({gifts:a,npcs:r})=>{const l=a.map(s=>({preferences:s,npc:r.find(Oe=>Oe.key===s.mapKey)}));return(0,E.of)(l)}))}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-gifting"]],decls:2,vars:3,consts:[["class","text-xl gifting-card",4,"ngIf"],[1,"text-xl","gifting-card"],[4,"ngFor","ngForOf"],[1,"text-2xl","text-black","font-semibold","flex","items-center","gifting-portrait"],[4,"ngIf"],[3,"preferences"],[1,"h-16","mr-3",3,"itemName"],[1,"flex","flex-col"],[1,"flex","gap-2","items-center"],["class","!text-gifting !h-6 !w-6",3,"uiIcon","matTooltip",4,"ngIf"],["class","text-lg flex gap-2",4,"ngIf"],[1,"!text-gifting","!h-6","!w-6",3,"uiIcon","matTooltip"],[1,"text-lg","flex","gap-2"],[1,"!h-6","!w-6",3,"uiIcon"]],template:function(a,r){1&a&&(e.YNc(0,$,2,1,"app-card",0),e.ALo(1,"async")),2&a&&e.Q6J("ngIf",e.lcZ(1,1,r.gifting$))},dependencies:[p.sg,p.O5,d.f,_.D,u.A,x.gM,v,p.Ov,Y.h],styles:[".gifting-portrait .app-item-icon>img{width:auto;height:100%;aspect-ratio:unset}.gifting-card{max-width:1100px;margin:8px}@media (min-width: 1536px){.gifting-card{margin:60px 40px 60px 60px}}\n"],encapsulation:2}),i})();var B=o(9729);let K=(()=>{var n;class i{constructor(a){this._settings=a,this._setClass=!0,this.version=this._settings.getSettings().useBeta?"beta":"live"}}return(n=i).\u0275fac=function(a){return new(a||n)(e.Y36(B.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-npc-head-portrait"]],hostVars:2,hostBindings:function(a,r){2&a&&e.ekj("npc-head-portrait",r._setClass)},inputs:{portraitName:"portraitName",npcKey:"npcKey"},decls:1,vars:3,consts:[["alt","","loading","lazy","onerror","this.onerror=null;this.src='assets/ui/images/no-head-portrait.webp'",3,"src"]],template:function(a,r){1&a&&e._UZ(0,"img",0),2&a&&e.cQ8("src","assets/",r.version,"/head-portraits/",r.npcKey,"/",r.portraitName,".webp",e.LSH)},encapsulation:2}),i})();function D(n,i){1&n&&(e.TgZ(0,"div",10),e._uU(1,"unofficial head portrait"),e.qZA())}const S=function(n){return["..",n]};function z(n,i){if(1&n&&(e.TgZ(0,"a",3),e._UZ(1,"div",4),e.TgZ(2,"div",5),e._UZ(3,"app-npc-head-portrait",6),e.qZA(),e.TgZ(4,"div",7)(5,"div",8),e._uU(6),e.qZA(),e.YNc(7,D,2,0,"div",9),e.qZA()()),2&n){const t=i.$implicit;e.Q6J("routerLink",e.VKq(5,S,t.key)),e.xp6(3),e.Q6J("npcKey",t.key)("portraitName",t.headerPortraitFileName),e.xp6(3),e.Oqu(t.characterName),e.xp6(1),e.Q6J("ngIf",t.customHead)}}function X(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,z,8,7,"a",2),e.qZA(),e.BQk()),2&n){const t=i.ngIf;e.xp6(2),e.Q6J("ngForOf",t)}}let R=(()=>{var n;class i{constructor(a){this._database=a,this.npcs$=this._database.fetchNPCs$()}}return(n=i).\u0275fac=function(a){return new(a||n)(e.Y36(m.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-npc-list"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"grid","npc-list-grid","gap-x-4","gap-y-10","px-2","xl:px-[50px]","w-full","pt-2","pb-6","2xl:pt-[60px]"],["class","flex bg-[#F5F1E6] rounded-[30px] npc-list-entry group relative ",3,"routerLink",4,"ngFor","ngForOf"],[1,"flex","bg-[#F5F1E6]","rounded-[30px]","npc-list-entry","group","relative",3,"routerLink"],[1,"frame","absolute","inset-0","rounded-[30px]","z-10"],[1,"basis-2/5","aspect-square","bg-[#F1E1CC]","rounded-l-[30px]","group-hover:bg-[#F2DBB7]"],[1,"z-20","flex","h-full","relative","rounded-l-[30px]",3,"npcKey","portraitName"],[1,"basis-3/5","p-2","flex","flex-col"],[1,"text-black","font-semibold","text-2xl","mt-3"],["clasS","mt-auto",4,"ngIf"],["clasS","mt-auto"]],template:function(a,r){1&a&&(e.YNc(0,X,3,1,"ng-container",0),e.ALo(1,"async")),2&a&&e.Q6J("ngIf",e.lcZ(1,1,r.npcs$))},dependencies:[p.sg,p.O5,c.rH,K,p.Ov],styles:[".npc-list-entry .npc-head-portrait{display:flex;align-items:flex-end}.npc-list-entry .npc-head-portrait img{object-fit:cover;object-position:bottom;border-top-left-radius:30px;border-bottom-left-radius:30px;height:110%;margin-top:-9.0909090909%}.frame{box-shadow:inset 0 0 1px #e4b383;transition:box-shadow .2s ease-out}.npc-list-entry:hover .frame{box-shadow:inset 0 0 1px 10px #e4b383}.npc-list-entry:hover .npc-head-portrait img{height:120%;margin-top:-18.1818181818%}.npc-list-grid{grid-template-columns:repeat(auto-fill,minmax(360px,1fr))}\n"],encapsulation:2}),i})();var V=o(2572),W=o(5165),ee=o(6079),ne=o(7359),te=o(3613),ie=o(1173);function ae(n,i){if(1&n&&(e.TgZ(0,"div",1),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.AsE("",t.key," : ",t.value?"Has to be seen":"Has to be unseen","")}}function re(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ae,2,2,"div",5),e.ALo(2,"keyvalue"),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t))}}function oe(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"Other cutscenes requirements: "),e.YNc(2,re,3,3,"ng-container",4),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.heartEventTrigger.otherCutscenesState)}}function pe(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"Only on days: "),e.TgZ(2,"span",1),e._uU(3),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.heartEventTrigger.specificDay.join(", "))}}function ce(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"Only in seasons: "),e.TgZ(2,"span",1),e._uU(3),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.heartEventTrigger.specificMonth.join(", "))}}function se(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"Only with weather: "),e.TgZ(2,"span",1),e._uU(3),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.heartEventTrigger.specificWeather.join(", "))}}function ge(n,i){1&n&&e._UZ(0,"app-effect",10),2&n&&e.Q6J("effect",i.$implicit)}function me(n,i){if(1&n&&(e.TgZ(0,"div",6)(1,"span",7),e._uU(2,"Effects when seen"),e.qZA(),e.TgZ(3,"div",8),e.YNc(4,ge,1,1,"app-effect",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.heartEventTrigger.effects)}}function le(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" Unlock requirements (","And"===t.heartEventTrigger.requirements.type?"all":"any"," of them): ")}}function fe(n,i){1&n&&(e.ynx(0),e._uU(1," Unlock requirement: "),e.BQk())}function de(n,i){1&n&&e._UZ(0,"app-requirements",12),2&n&&e.Q6J("requirement",i.$implicit)}function _e(n,i){if(1&n&&(e.TgZ(0,"div",6)(1,"span",7),e.YNc(2,le,2,1,"ng-container",2),e.YNc(3,fe,2,0,"ng-container",2),e.qZA(),e.TgZ(4,"div",8),e.YNc(5,de,1,1,"app-requirements",11),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.heartEventTrigger.requirements.requirements.length>1),e.xp6(1),e.Q6J("ngIf",t.heartEventTrigger.requirements.requirements.length<2),e.xp6(2),e.Q6J("ngForOf",t.heartEventTrigger.requirements.requirements)}}let ue=(()=>{var n;class i{}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-heart-event-trigger"]],inputs:{heartEventTrigger:"heartEventTrigger"},decls:29,vars:17,consts:[[1,"flex","flex-col","text-black","mb-1"],[1,"text-black"],[4,"ngIf"],["class","my-4",4,"ngIf"],[4,"ngFor","ngForOf"],["class","text-black",4,"ngFor","ngForOf"],[1,"my-4"],[1,"text-lg","text-black"],[1,"flex","flex-col","text-black"],[3,"effect",4,"ngFor","ngForOf"],[3,"effect"],[3,"requirement",4,"ngFor","ngForOf"],[3,"requirement"]],template:function(a,r){1&a&&(e.TgZ(0,"header",0)(1,"h4"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"div"),e._uU(6,"Enabled: "),e.TgZ(7,"span",1),e._uU(8),e.qZA()(),e.TgZ(9,"div"),e._uU(10,"Location: "),e.TgZ(11,"span",1),e._uU(12),e.qZA()(),e.TgZ(13,"div"),e._uU(14,"Day Time of day: "),e.TgZ(15,"span",1),e._uU(16),e.ALo(17,"ingameTime"),e.ALo(18,"ingameTime"),e.qZA()(),e.TgZ(19,"div"),e._uU(20,"Can trigger on the same day: "),e.TgZ(21,"span",1),e._uU(22),e.qZA()(),e.YNc(23,oe,3,1,"div",2),e.YNc(24,pe,4,1,"div",2),e.YNc(25,ce,4,1,"div",2),e.YNc(26,se,4,1,"div",2),e.YNc(27,me,5,1,"div",3),e.YNc(28,_e,6,3,"div",3)),2&a&&(e.xp6(2),e.Oqu(r.heartEventTrigger.cutscene),e.xp6(2),e.hij("Id: ",r.heartEventTrigger.id," "),e.xp6(4),e.Oqu(r.heartEventTrigger.enabled?"Yes":"No"),e.xp6(4),e.Oqu(r.heartEventTrigger.location),e.xp6(4),e.AsE(" ",e.lcZ(17,13,r.heartEventTrigger.time.fromTime),"-",e.lcZ(18,15,r.heartEventTrigger.time.toTime),"\n"),e.xp6(6),e.Oqu(r.heartEventTrigger.canTriggerSameDay?"Yes":"No"),e.xp6(1),e.Q6J("ngIf",r.heartEventTrigger.otherCutscenesState.length),e.xp6(1),e.Q6J("ngIf",r.heartEventTrigger.specificDay.length),e.xp6(1),e.Q6J("ngIf",r.heartEventTrigger.specificMonth.length),e.xp6(1),e.Q6J("ngIf",r.heartEventTrigger.specificWeather.length),e.xp6(1),e.Q6J("ngIf",r.heartEventTrigger.effects&&r.heartEventTrigger.effects.length),e.xp6(1),e.Q6J("ngIf",r.heartEventTrigger.requirements&&r.heartEventTrigger.requirements.requirements.length))},dependencies:[p.sg,p.O5,ne.e,te.L,p.Nd,ie.W],styles:["[_nghost-%COMP%]{display:block}"]}),i})();function xe(n,i){1&n&&e._UZ(0,"hr",8)}function ve(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-heart-event-trigger",6),e.YNc(2,xe,1,0,"hr",7),e.BQk()),2&n){const t=i.$implicit,a=i.last;e.xp6(1),e.ekj("mb-3",a),e.Q6J("heartEventTrigger",t),e.xp6(1),e.Q6J("ngIf",!a)}}function he(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-expandable",1,2)(2,"h3",3),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(1);return e.KtG(r.toggle())}),e._uU(3),e._UZ(4,"i",4),e.qZA(),e.YNc(5,ve,3,4,"ng-container",5),e.qZA()}if(2&n){const t=i.$implicit,a=e.MAs(1);e.xp6(3),e.hij(" ",t.heartLevel," hearts event "),e.xp6(1),e.ekj("down",!a.open)("up",a.open),e.xp6(1),e.Q6J("ngForOf",t.trigger)}}let Te=(()=>{var n;class i{}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-heart-events"]],inputs:{heartEvents:"heartEvents"},decls:1,vars:1,consts:[["class","bg-amber-50/70 px-4 rounded-lg mb-3 shadow-sm",4,"ngFor","ngForOf"],[1,"bg-amber-50/70","px-4","rounded-lg","mb-3","shadow-sm"],["expandable",""],["expandableHeader","",1,"text-xl","text-black","flex","items-center","justify-between","cursor-pointer","py-4",3,"click"],[1,"arrow"],[4,"ngFor","ngForOf"],[3,"heartEventTrigger"],["class","my-3",4,"ngIf"],[1,"my-3"]],template:function(a,r){1&a&&e.YNc(0,he,6,6,"app-expandable",0),2&a&&e.Q6J("ngForOf",r.heartEvents)},dependencies:[p.sg,p.O5,ee.I,ue],encapsulation:2}),i})();function Ce(n,i){if(1&n&&e._UZ(0,"app-gifting-grid",9),2&n){const t=e.oxw(2);e.Q6J("preferences",t.giftingPreferences)}}function Ze(n,i){if(1&n&&(e.TgZ(0,"p",10),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.npc.characterName," has no specialized preferences. ")}}function Ne(n,i){if(1&n&&e._UZ(0,"app-heart-events",11),2&n){const t=e.oxw(2);e.Q6J("heartEvents",t.heartEvents)}}function ye(n,i){if(1&n&&(e.TgZ(0,"p",10),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.npc.characterName," has no heart events. ")}}function Ie(n,i){if(1&n&&(e.TgZ(0,"div",17),e._UZ(1,"app-npc-portrait",18),e.TgZ(2,"span",19),e._uU(3),e.qZA()()),2&n){const t=i.$implicit,a=e.oxw(5);e.xp6(1),e.Q6J("npcKey",a.npc.key)("portraitName",t.value),e.xp6(2),e.Oqu(t.key)}}function Ae(n,i){if(1&n&&(e.TgZ(0,"div",13)(1,"h3",14),e._uU(2),e.qZA(),e.TgZ(3,"div",15),e.YNc(4,Ie,4,3,"div",16),e.ALo(5,"keyvalue"),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.key),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,2,t.value))}}function be(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Ae,6,4,"div",12),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function Ee(n,i){if(1&n&&(e.TgZ(0,"p",10),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.npc.characterName," has no appearances. ")}}function Qe(n,i){if(1&n&&(e.ynx(0),e.YNc(1,be,2,1,"ng-container",1),e.YNc(2,Ee,2,1,"p",6),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t.length),e.xp6(1),e.Q6J("ngIf",!t.length)}}function Ue(n,i){if(1&n&&(e.TgZ(0,"div",2)(1,"h1",3),e._uU(2),e.qZA(),e.TgZ(3,"app-card")(4,"h2",4),e._uU(5," Gifting "),e.qZA(),e.YNc(6,Ce,1,1,"app-gifting-grid",5),e.YNc(7,Ze,2,1,"p",6),e.qZA(),e.TgZ(8,"app-card",7)(9,"h2",4),e._uU(10," Heart events "),e.qZA(),e.YNc(11,Ne,1,1,"app-heart-events",8),e.YNc(12,ye,2,1,"p",6),e.qZA(),e.TgZ(13,"app-card",7)(14,"h2",4),e._uU(15," Appearances "),e.qZA(),e.YNc(16,Qe,3,2,"ng-container",1),e.ALo(17,"keyvalue"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.npc.characterName," "),e.xp6(4),e.Q6J("ngIf",t.giftingPreferences),e.xp6(1),e.Q6J("ngIf",!t.giftingPreferences),e.xp6(4),e.Q6J("ngIf",t.heartEvents.length),e.xp6(1),e.Q6J("ngIf",!t.heartEvents.length),e.xp6(4),e.Q6J("ngIf",e.lcZ(17,6,t.npc.appearances))}}function Je(n,i){1&n&&(e.ynx(0),e.TgZ(1,"app-card",2)(2,"h1",20),e._uU(3," NPC not found. "),e.qZA()(),e.BQk())}const Fe=[{path:"",pathMatch:"full",redirectTo:"gifting"},{path:"",component:I,children:[{path:"gifting",component:j,title:"Gifting - NPCs"},{path:"overview",component:R,title:"Overview - NPCs"},{path:":npcKey",component:(()=>{var n;class i{constructor(){this.heartEvents=[],this.UiIcon=g.a,this._database=(0,e.f3M)(m.k)}ngOnInit(){(0,V.a)([this._database.fetchNPCs$(),this._database.fetchHeartEvents$(),this._database.fetchGiftingPreferences$()]).subscribe({next:([a,r,l])=>{this.npc=a.find(s=>s.key.toLowerCase()===this.npcKey.toLowerCase()),this.heartEvents=r[this.npcKey.toLowerCase()]??[],this.giftingPreferences=l.find(s=>s.mapKey.toLowerCase()===this.npc?.key.toLowerCase())}})}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-npc"]],inputs:{npcKey:"npcKey"},decls:2,vars:2,consts:[["class","npc-wrapper",4,"ngIf"],[4,"ngIf"],[1,"npc-wrapper"],[1,"mb-4","font-semibold","text-3xl","text-white"],[1,"mb-4","font-semibold","text-2xl","text-black"],[3,"preferences",4,"ngIf"],["class","text-black text-lg",4,"ngIf"],[1,"mt-6"],[3,"heartEvents",4,"ngIf"],[3,"preferences"],[1,"text-black","text-lg"],[3,"heartEvents"],["class","font-semibold text-black mb-6",4,"ngFor","ngForOf"],[1,"font-semibold","text-black","mb-6"],[1,"text-xl"],[1,"grid","portrait-grid","gap-4"],["class","flex flex-col shadow-lg p-2",4,"ngFor","ngForOf"],[1,"flex","flex-col","shadow-lg","p-2"],[1,"h-[400px]","flex","items-end","justify-center",3,"npcKey","portraitName"],[1,""],[1,"mb-4","font-semibold","text-3xl","text-black","flex","items-center","gap-x-4"]],template:function(a,r){1&a&&(e.YNc(0,Ue,18,8,"div",0),e.YNc(1,Je,4,0,"ng-container",1)),2&a&&(e.Q6J("ngIf",r.npc),e.xp6(1),e.Q6J("ngIf",!r.npc))},dependencies:[p.sg,p.O5,u.A,W.H,Te,v,p.Nd],styles:[".portrait-grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.portrait-grid .npc-portrait img{max-height:400px}@media (min-width: 1280px){.portrait-grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}}.npc-wrapper{max-width:1160px;margin:8px}@media (min-width: 1536px){.npc-wrapper{margin:60px 40px 60px 60px}}\n"],encapsulation:2}),i})()}]}];let we=(()=>{var n;class i{}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.Bz.forChild(Fe),c.Bz]}),i})(),qe=(()=>{var n;class i{}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,we,h.m,x.AV]}),i})()}}]);