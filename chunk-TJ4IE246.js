import{a as z}from"./chunk-HWCJOYN3.js";import{a as L}from"./chunk-SRLR52RT.js";import{a as B}from"./chunk-3TR4XKFQ.js";import"./chunk-PRWEW5VH.js";import{a as O}from"./chunk-7JQJEV7G.js";import"./chunk-2K3GEZZY.js";import"./chunk-7A5ZJ3YN.js";import"./chunk-2A7PSW7O.js";import{a as V,c as A}from"./chunk-5NO5LL4W.js";import"./chunk-VO65IASJ.js";import{a as W}from"./chunk-C53QTWVW.js";import"./chunk-GLYGKSTO.js";import{b as M}from"./chunk-PIL2IJC4.js";import{a as R}from"./chunk-OOBQPUIX.js";import"./chunk-OM3WRHFD.js";import"./chunk-JSGVWV7K.js";import{b as N}from"./chunk-VYOS5CGL.js";import"./chunk-RZQ3UNDK.js";import"./chunk-DKARO4CX.js";import{i as G}from"./chunk-DHAI4KFY.js";import"./chunk-5MLMU7SK.js";import"./chunk-GEWE6M22.js";import"./chunk-SJRCRC22.js";import"./chunk-X3TMHFY3.js";import"./chunk-EE6A4D3O.js";import"./chunk-2CFRUPNI.js";import"./chunk-F6RS7OIB.js";import"./chunk-KW5235UB.js";import"./chunk-7JOAVXDE.js";import"./chunk-7SDYZQX7.js";import"./chunk-KUYOE2KN.js";import"./chunk-AJOFB37Q.js";import{$b as g,Ba as I,Gc as $,Hc as J,Ib as r,Kb as f,Ob as c,Qb as h,Rb as x,Sb as T,T as D,Tb as l,Ub as p,Vb as _,Vc as j,Zb as F,ac as o,db as s,ld as k,ma as C,na as b,rc as y,sb as u,sc as v,wb as w,wc as P,xc as S,yb as d,yc as E}from"./chunk-GYX7HZX3.js";import"./chunk-4CLCTAJ7.js";function K(e,a){if(e&1&&(l(0,"div"),y(1,"Enchantment points: "),l(2,"span",2),y(3),p()()),e&2){let t=o();f("mb-3",t.details().chanceAsProcessResult),s(3),v(t.details().enchantmentPoints)}}function Q(e,a){if(e&1&&_(0,"app-shop-processing-result",1),e&2){let t=o();r("itemProcessData",t.details().chanceAsProcessResult)}}var U=(()=>{class e{constructor(){this.details=I.required()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=u({type:e,selectors:[["app-db-item-found"]],inputs:{details:[1,"details"]},decls:2,vars:2,consts:[[3,"mb-3"],[1,"mb-4",3,"itemProcessData"],[1,"text-black"]],template:function(n,i){n&1&&d(0,K,4,3,"div",0)(1,Q,1,1,"app-shop-processing-result",1),n&2&&(c(i.details().enchantmentPoints?0:-1),s(),c(i.details().chanceAsProcessResult?1:-1))},dependencies:[z],encapsulation:2})}}return e})();function X(e,a){if(e&1&&_(0,"app-db-item-found",4),e&2){let t=a.$implicit;r("details",t)}}function Y(e,a){if(e&1&&(l(0,"app-database-item-details",0),d(1,X,1,1,"ng-template",3),p()),e&2){let t=o();r("itemId",t.selectedEntity.id)("context",t.toDoContext())}}function Z(e,a){if(e&1){let t=F();l(0,"app-item-icon",9),g("click",function(){let i=C(t).$implicit,m=o(4);return b(m.showDetails(i))}),p()}if(e&2){let t=a.$implicit,n=o(4);f("selected-icon",(n.selectedEntity==null?null:n.selectedEntity.id)===t.id),r("itemName",t.iconName)}}function tt(e,a){if(e&1&&(l(0,"div",6),x(1,Z,1,3,"app-item-icon",8,h),p()),e&2){let t=o();s(),T(t)}}function et(e,a){if(e&1&&_(0,"app-non-specialized-table",7),e&2){let t=o();r("dataSource",t)}}function nt(e,a){if(e&1&&d(0,tt,3,0,"div",6)(1,et,1,1,"app-non-specialized-table",7),e&2){let t=o(2);c(t.showTable?-1:0),s(),c(t.showTable?1:-1)}}function it(e,a){if(e&1){let t=F();l(0,"mat-tab",2)(1,"app-data-filter",5),E("showTableChange",function(i){C(t);let m=o();return S(m.showTable,i)||(m.showTable=i),b(i)}),p(),d(2,nt,2,2),$(3,"async"),p()}if(e&2){let t,n=a.$implicit,i=o();r("label",n.title),s(),P("showTable",i.showTable),r("parentFormGroup",i.formControl),s(),c((t=J(3,4,n.data))?2:-1,t)}}var gt=(()=>{class e extends B{constructor(){super(new G({})),this.contextsPerTab=["journal_artifacts","journal_gems","journal_fossils","journal_scavangables"],this.toDoContext=j(()=>{let t=this.selectedTabIndex();return this.contextsPerTab[t]}),this.tabs=[{title:"Artifacts",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artifacts"),this._database.fetchItems$(),0)},{title:"Gems",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-gems"),this._database.fetchItems$(),1)},{title:"Fossils",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fossils"),this._database.fetchItems$(),2)},{title:"Scavangables",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-scavangable"),this._database.fetchItems$(),3)}],this.activateTabFromRoute(this.tabs.map(t=>t.title))}ngAfterViewInit(){let t=this.matTabGroup();t?.selectedIndexChange.pipe(R(this.destroyRef),D(t?.selectedIndex??0)).subscribe({next:n=>{this.selectedTabIndex.set(n)}})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=u({type:e,selectors:[["app-found"]],features:[w],decls:5,vars:2,consts:[["listDetail","",3,"itemId","context"],[3,"selectedTabChange","selectedIndex"],[3,"label"],["appDatabaseItemDetails",""],[3,"details"],[3,"showTableChange","showTable","parentFormGroup"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"selected-icon","itemName"],[1,"icon-grid-item",3,"click","itemName"]],template:function(n,i){n&1&&(l(0,"app-list-detail-container"),d(1,Y,2,2,"app-database-item-details",0),l(2,"mat-tab-group",1),g("selectedTabChange",function(q){return i.updateUrl(q)}),x(3,it,4,6,"mat-tab",2,h),p()()),n&2&&(s(),c(i.selectedEntity?1:-1),s(),r("selectedIndex",i.selectedTabIndex()),s(),T(i.tabs))},dependencies:[M,O,V,A,U,W,N,k,L],encapsulation:2})}}return e})();export{gt as FoundComponent};
