import{a as z}from"./chunk-FGYBINTK.js";import{a as L}from"./chunk-BIUV23L6.js";import{a as B}from"./chunk-K77R4BJS.js";import"./chunk-KBJACSGS.js";import{a as O}from"./chunk-VXQBK2DC.js";import"./chunk-XZWLFQMH.js";import"./chunk-XSV5HIP5.js";import"./chunk-VJUOC7OS.js";import{a as V,c as A}from"./chunk-IN7U4HAH.js";import"./chunk-EIGW5THG.js";import"./chunk-FKRWSLGD.js";import{a as W}from"./chunk-37KGVQVA.js";import"./chunk-5YOBLJC2.js";import{b as M}from"./chunk-4RPGNDDY.js";import{a as R}from"./chunk-O3BKA2PM.js";import"./chunk-U7G2FOHA.js";import"./chunk-H3WVOQZP.js";import{b as N}from"./chunk-EV4S2XUE.js";import"./chunk-NXARORLY.js";import"./chunk-BO7LODCH.js";import{i as G}from"./chunk-VA7RNGDO.js";import"./chunk-IIRYQ5NI.js";import"./chunk-HU7WFQWJ.js";import"./chunk-JCTEBOW5.js";import"./chunk-SJRCRC22.js";import"./chunk-JL222CZ7.js";import"./chunk-YRO5LM32.js";import"./chunk-TIIEJEUC.js";import"./chunk-PS3FMX3M.js";import"./chunk-7JOAVXDE.js";import"./chunk-KLZCJ54W.js";import"./chunk-PYPF6S35.js";import"./chunk-FJWSANLQ.js";import{Ba as I,Hc as $,Ic as J,Jb as r,Lb as f,Pb as c,Rb as h,Sb as x,T as D,Tb as T,Ub as l,Vb as p,Vc as j,Wb as _,_b as F,ac as g,bc as o,db as s,kd as k,ma as C,na as b,sb as u,sc as y,tc as v,wb as w,xc as P,yc as S,zb as d,zc as E}from"./chunk-J7WD3OMO.js";import"./chunk-4CLCTAJ7.js";function K(e,a){if(e&1&&(l(0,"div"),y(1,"Enchantment points: "),l(2,"span",2),y(3),p()()),e&2){let t=o();f("mb-3",t.details().chanceAsProcessResult),s(3),v(t.details().enchantmentPoints)}}function Q(e,a){if(e&1&&_(0,"app-shop-processing-result",1),e&2){let t=o();r("itemProcessData",t.details().chanceAsProcessResult)}}var U=(()=>{class e{constructor(){this.details=I.required()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=u({type:e,selectors:[["app-db-item-found"]],inputs:{details:[1,"details"]},decls:2,vars:2,consts:[[3,"mb-3"],[1,"mb-4",3,"itemProcessData"],[1,"text-black"]],template:function(n,i){n&1&&d(0,K,4,3,"div",0)(1,Q,1,1,"app-shop-processing-result",1),n&2&&(c(i.details().enchantmentPoints?0:-1),s(),c(i.details().chanceAsProcessResult?1:-1))},dependencies:[z],encapsulation:2})}}return e})();function X(e,a){if(e&1&&_(0,"app-db-item-found",4),e&2){let t=a.$implicit;r("details",t)}}function Y(e,a){if(e&1&&(l(0,"app-database-item-details",0),d(1,X,1,1,"ng-template",3),p()),e&2){let t=o();r("itemId",t.selectedEntity.id)("context",t.toDoContext())}}function Z(e,a){if(e&1){let t=F();l(0,"app-item-icon",9),g("click",function(){let i=C(t).$implicit,m=o(4);return b(m.showDetails(i))}),p()}if(e&2){let t=a.$implicit,n=o(4);f("selected-icon",(n.selectedEntity==null?null:n.selectedEntity.id)===t.id),r("itemName",t.iconName)}}function tt(e,a){if(e&1&&(l(0,"div",6),x(1,Z,1,3,"app-item-icon",8,h),p()),e&2){let t=o();s(),T(t)}}function et(e,a){if(e&1&&_(0,"app-non-specialized-table",7),e&2){let t=o();r("dataSource",t)}}function nt(e,a){if(e&1&&d(0,tt,3,0,"div",6)(1,et,1,1,"app-non-specialized-table",7),e&2){let t=o(2);c(t.showTable?-1:0),s(),c(t.showTable?1:-1)}}function it(e,a){if(e&1){let t=F();l(0,"mat-tab",2)(1,"app-data-filter",5),E("showTableChange",function(i){C(t);let m=o();return S(m.showTable,i)||(m.showTable=i),b(i)}),p(),d(2,nt,2,2),$(3,"async"),p()}if(e&2){let t,n=a.$implicit,i=o();r("label",n.title),s(),P("showTable",i.showTable),r("parentFormGroup",i.formControl),s(),c((t=J(3,4,n.data))?2:-1,t)}}var gt=(()=>{class e extends B{constructor(){super(new G({})),this.contextsPerTab=["journal_artifacts","journal_gems","journal_fossils","journal_scavangables"],this.toDoContext=j(()=>{let t=this.selectedTabIndex();return this.contextsPerTab[t]}),this.tabs=[{title:"Artifacts",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-artifacts"),this._database.fetchItems$(),0)},{title:"Gems",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-gems"),this._database.fetchItems$(),1)},{title:"Fossils",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-fossils"),this._database.fetchItems$(),2)},{title:"Scavangables",data:this.getFilteredJournalData(this._database.fetchJournalOrder$("journal-scavangable"),this._database.fetchItems$(),3)}],this.activateTabFromRoute(this.tabs.map(t=>t.title))}ngAfterViewInit(){let t=this.matTabGroup();t?.selectedIndexChange.pipe(R(this.destroyRef),D(t?.selectedIndex??0)).subscribe({next:n=>{this.selectedTabIndex.set(n)}})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=u({type:e,selectors:[["app-found"]],features:[w],decls:5,vars:2,consts:[["listDetail","",3,"itemId","context"],[3,"selectedTabChange","selectedIndex"],[3,"label"],["appDatabaseItemDetails",""],[3,"details"],[3,"showTableChange","showTable","parentFormGroup"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"selected-icon","itemName"],[1,"icon-grid-item",3,"click","itemName"]],template:function(n,i){n&1&&(l(0,"app-list-detail-container"),d(1,Y,2,2,"app-database-item-details",0),l(2,"mat-tab-group",1),g("selectedTabChange",function(q){return i.updateUrl(q)}),x(3,it,4,6,"mat-tab",2,h),p()()),n&2&&(s(),c(i.selectedEntity?1:-1),s(),r("selectedIndex",i.selectedTabIndex()),s(),T(i.tabs))},dependencies:[M,O,V,A,U,W,N,k,L],encapsulation:2})}}return e})();export{gt as FoundComponent};
