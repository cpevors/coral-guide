"use strict";(self.webpackChunkguide=self.webpackChunkguide||[]).push([[651],{8651:(Ue,Z,a)=>{a.r(Z),a.d(Z,{CraftingModule:()=>Ae});var r=a(6895),P=a(1699),l=a(1667),T=a(15),b=a(5583),e=a(4650),f=a(9969),k=a(2364),A=a(5141),L=a(973);function U(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"app-module-sidebar-item",2),e._uU(2,"Inventory-Crafting "),e.qZA(),e.TgZ(3,"app-module-sidebar-item",3),e._uU(4,"Processing "),e.qZA(),e.TgZ(5,"app-module-sidebar-item",4),e._uU(6,"Cooking "),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("uiIcon",t.UI_ICONS.CRAFTING),e.xp6(2),e.Q6J("uiIcon",t.UI_ICONS.ARTISAN),e.xp6(2),e.Q6J("uiIcon",t.UI_ICONS.COOKING)}}let O=(()=>{class n{constructor(t){this._databaseService=t,this.UI_ICONS=T.a,this.addSpacesToPascalCase=b.gA,this.itemProcessingRecipes$=this._databaseService.fetchItemProcessingRecipes$()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-crafting"]],decls:5,vars:3,consts:[[4,"ngIf"],[1,"hidden"],["routerLink","inventory",3,"uiIcon"],["routerLink","artisan",3,"uiIcon"],["routerLink","cooking",3,"uiIcon"]],template:function(t,i){1&t&&(e.TgZ(0,"app-sidebar-container")(1,"app-module-sidebar"),e.YNc(2,U,7,3,"ng-container",0),e.ALo(3,"async"),e.qZA(),e._UZ(4,"router-outlet",1),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,i.itemProcessingRecipes$)))},dependencies:[r.O5,l.lC,l.rH,k.R,A.z,L.L,r.Ov],encapsulation:2}),n})();var I=a(9841),C=a(4004),d=a(795),y=a(9473),_=a(3848),h=a(4175);function D(n,o){if(1&n&&(e.TgZ(0,"div",5),e._UZ(1,"app-item-icon",6),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("itemName",t.item.iconName),e.xp6(2),e.Oqu(t.item.displayName)}}function Y(n,o){if(1&n&&(e.ynx(0),e.YNc(1,D,4,2,"div",4),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.item)}}function F(n,o){1&n&&(e.ynx(0),e._uU(1," (all the same)"),e.BQk())}function q(n,o){if(1&n&&(e.TgZ(0,"div",5),e._UZ(1,"app-item-icon",6),e.TgZ(2,"span"),e._uU(3),e.YNc(4,F,2,0,"ng-container",2),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("itemName",t.genericItem.iconName),e.xp6(2),e.hij("",t.genericItem.displayName," "),e.xp6(1),e.Q6J("ngIf",t.shouldBeSameItem)}}function E(n,o){if(1&n&&(e.ynx(0),e.YNc(1,q,5,3,"div",4),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.genericItem)}}function R(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,Y,2,1,"ng-container",2),e.YNc(3,E,2,1,"ng-container",2),e.TgZ(4,"div",3),e._uU(5),e.qZA()(),e._UZ(6,"hr"),e.BQk()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngIf",!i.isGenericEntry(t)),e.xp6(1),e.Q6J("ngIf",i.isGenericEntry(t)),e.xp6(2),e.Oqu(t.amount)}}let v=(()=>{class n{isGenericEntry(t){return"genericItem"in t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-item-list"]],inputs:{itemList:"itemList"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"flex","justify-between","py-1"],[4,"ngIf"],[1,"flex","items-center"],["class","flex gap-x-3 items-center",4,"ngIf"],[1,"flex","gap-x-3","items-center"],[1,"w-10",3,"itemName"]],template:function(t,i){1&t&&e.YNc(0,R,7,3,"ng-container",0),2&t&&e.Q6J("ngForOf",i.itemList)},dependencies:[r.sg,r.O5,d.D]}),n})();function $(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1," Unlocked: "),e.TgZ(2,"span",4),e._uU(3),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.AsE("Level ",t.craftingRecipe.craftingUnlock.masteryLevel," in ",t.craftingRecipe.craftingUnlock.masteryType,"")}}function B(n,o){if(1&n&&(e.TgZ(0,"app-base-item-card",1),e.YNc(1,$,4,2,"div",2),e._UZ(2,"app-item-list",3),e.qZA()),2&n){const t=e.oxw();e.Q6J("amount",t.craftingRecipe.amount)("item",t.craftingRecipe.item),e.xp6(1),e.Q6J("ngIf",t.craftingRecipe.craftingUnlock),e.xp6(1),e.Q6J("itemList",t.itemList)}}let S=(()=>{class n{ngOnChanges(t){let i=t.craftingRecipe?.currentValue;i&&(this.itemList=[...i.ingredients,...i.genericIngredients])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-inventory-details"]],inputs:{craftingRecipe:"craftingRecipe"},features:[e.TTD],decls:1,vars:1,consts:[[3,"amount","item",4,"ngIf"],[3,"amount","item"],[4,"ngIf"],[1,"mb-3",3,"itemList"],[1,"text-black"]],template:function(t,i){1&t&&e.YNc(0,B,3,4,"app-base-item-card",0),2&t&&e.Q6J("ngIf",i.craftingRecipe&&i.craftingRecipe.item)},dependencies:[r.O5,h.T,v]}),n})();function M(n,o){if(1&n&&e._UZ(0,"app-inventory-details",5),2&n){const t=e.oxw();e.Q6J("craftingRecipe",t.selectedEntity)}}function X(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-item-icon",8),e.NdJ("click",function(){const c=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.showDetails(c))}),e.qZA()}if(2&n){const t=o.$implicit;e.Q6J("itemName",null==t.item?null:t.item.iconName)("amount",t.amount)}}function G(n,o){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,X,1,2,"app-item-icon",7),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}let j=(()=>{class n{constructor(t){this._database=t,this.openDrawer=!1,this.recipes$=(0,I.a)([t.fetchCraftingRecipes$(),t.fetchItems$(),t.fetchTagBasedItems$()]).pipe((0,C.U)(([i,s,c])=>(i.forEach(p=>{p.item=s.find(m=>m.id===p.key.toLowerCase()),p.genericIngredients.forEach(m=>m.genericItem=c.find(g=>g.key===m.key))}),i)))}showDetails(t){this.selectedEntity=t,this.openDrawer=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-inventory"]],decls:6,vars:5,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"craftingRecipe",4,"ngIf"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full"],["label","All"],["class","grid gap-4 icon-grid",4,"ngIf"],["listDetail","",3,"craftingRecipe"],[1,"grid","gap-4","icon-grid"],["class","icon-grid-item",3,"itemName","amount","click",4,"ngFor","ngForOf"],[1,"icon-grid-item",3,"itemName","amount","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-list-detail-container",0),e.NdJ("openDrawerChange",function(c){return i.openDrawer=c}),e.YNc(1,M,1,1,"app-inventory-details",1),e.TgZ(2,"mat-tab-group",2)(3,"mat-tab",3),e.YNc(4,G,2,1,"div",4),e.ALo(5,"async"),e.qZA()()()),2&t&&(e.Q6J("openDrawer",i.openDrawer),e.xp6(1),e.Q6J("ngIf",i.selectedEntity),e.xp6(3),e.Q6J("ngIf",e.lcZ(5,3,i.recipes$)))},dependencies:[r.sg,r.O5,d.D,y.I,_.uX,_.SP,S,r.Ov]}),n})();var N=a(5698),x=a(8505),u=a(6336),J=a(4122),w=a(748);function V(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.processingTime.day," day",t.processingTime.day>1?"s":"","")}}function z(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.processingTime.time.hours," hour",t.processingTime.time.hours>1?"s":"","")}}function H(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.processingTime.time.minutes," minute",t.processingTime.time.minutes>1?"s":"","")}}function K(n,o){if(1&n&&(e.ynx(0),e.YNc(1,V,2,2,"ng-container",0),e.YNc(2,z,2,2,"ng-container",0),e.YNc(3,H,2,2,"ng-container",0),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.processingTime.day),e.xp6(1),e.Q6J("ngIf",null==t.processingTime.time?null:t.processingTime.time.hours),e.xp6(1),e.Q6J("ngIf",null==t.processingTime.time?null:t.processingTime.time.minutes)}}let Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-processing-time"]],inputs:{processingTime:"processingTime"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,i){1&t&&e.YNc(0,K,4,3,"ng-container",0),2&t&&e.Q6J("ngIf",i.processingTime)},dependencies:[r.O5],encapsulation:2}),n})();function W(n,o){if(1&n&&e._UZ(0,"app-rarity-icon",6),2&n){const t=e.oxw().$implicit;e.Q6J("quality",t.from)}}function ee(n,o){if(1&n&&e._UZ(0,"app-ui-icon",10),2&n){const t=e.oxw(3);e.Q6J("uiIcon",t.uiIcon.EMPTY_STAR)}}function te(n,o){if(1&n&&(e.ynx(0),e.YNc(1,W,1,1,"app-rarity-icon",3),e.YNc(2,ee,1,1,"app-ui-icon",4),e._UZ(3,"app-ui-icon",5)(4,"app-rarity-icon",6),e.TgZ(5,"div",7)(6,"span",8),e._UZ(7,"app-processing-time",9),e.qZA()(),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.from!==i.quality.BASE),e.xp6(1),e.Q6J("ngIf",t.from===i.quality.BASE),e.xp6(1),e.Q6J("uiIcon",i.uiIcon.ARROW_RIGHT),e.xp6(1),e.Q6J("quality",t.to),e.xp6(3),e.Q6J("processingTime",t)}}function ne(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,te,8,5,"ng-container",2),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.refinements)}}let ie=(()=>{class n{constructor(){this.quality=u.n,this.uiIcon=T.a}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-refinements-list"]],inputs:{refinements:"refinements"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"refinement-list"],[4,"ngFor","ngForOf"],["class"," w-6",3,"quality",4,"ngIf"],["class","!w-6 !h-6 !flex",3,"uiIcon",4,"ngIf"],[1,"!w-4","!h-4","!flex","my-1","mx-2",3,"uiIcon"],[1,"w-6",3,"quality"],[1,"text-right"],[1,"text-black"],[3,"processingTime"],[1,"!w-6","!h-6","!flex",3,"uiIcon"]],template:function(t,i){1&t&&e.YNc(0,ne,3,1,"ng-container",0),2&t&&e.Q6J("ngIf",i.refinements)},dependencies:[r.sg,r.O5,J.f,w.C,Q],styles:["[_nghost-%COMP%]{display:block}.refinement-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));grid-template-columns:max-content max-content max-content 1fr}"]}),n})();function oe(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"app-ui-icon",2),e.TgZ(2,"span",3),e._UZ(3,"app-processing-time",4),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("uiIcon",t.uiIcon.EMPTY_STAR),e.xp6(2),e.Q6J("processingTime",t.baseProcessingTime)}}function se(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"app-rarity-icon",5),e.TgZ(2,"span",3),e._UZ(3,"app-processing-time",4),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("quality",t),e.xp6(2),e.Q6J("processingTime",i.baseProcessingTime)}}function ce(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"app-rarity-icon",5),e.TgZ(2,"span",3),e._UZ(3,"app-processing-time",4),e.qZA(),e.BQk()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.xp6(1),e.Q6J("quality",i),e.xp6(2),e.Q6J("processingTime",t)}}function ae(n,o){if(1&n&&(e.ynx(0),e.YNc(1,oe,4,2,"ng-container",1),e.YNc(2,se,4,2,"ng-container",1),e.YNc(3,ce,4,2,"ng-container",1),e.BQk()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t===i.quality.BASE&&i.baseProcessingTime),e.xp6(1),e.Q6J("ngIf",t!==i.quality.BASE&&i.baseProcessingTime&&!(null!=i.processingTimePerQualities&&i.processingTimePerQualities[t])),e.xp6(1),e.Q6J("ngIf",null==i.processingTimePerQualities?null:i.processingTimePerQualities[t])}}let re=(()=>{class n{constructor(){this.qualityValues=Object.values(u.n),this.quality=u.n,this.uiIcon=T.a}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-processing-time-per-quality"]],inputs:{baseProcessingTime:"baseProcessingTime",processingTimePerQualities:"processingTimePerQualities"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"!w-6","!h-6","!flex",3,"uiIcon"],[1,"text-black","text-right"],[3,"processingTime"],[1,"!w-6","!h-6",3,"quality"]],template:function(t,i){1&t&&e.YNc(0,ae,4,3,"ng-container",0),2&t&&e.Q6J("ngForOf",i.qualityValues)},dependencies:[r.sg,r.O5,J.f,w.C,Q],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr))}"]}),n})();function pe(n,o){if(1&n&&(e.TgZ(0,"div",8),e._uU(1,"Processing time: "),e.TgZ(2,"span",9),e._UZ(3,"app-processing-time",10),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("processingTime",t.selectedEntity)}}function me(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",8),e._uU(2,"Time per input quality "),e._UZ(3,"app-processing-time-per-quality",11),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("baseProcessingTime",t.selectedEntity)("processingTimePerQualities",t.selectedEntity.qualities)}}function le(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",8),e._uU(2,"Time to improve quality "),e._UZ(3,"app-refinements-list",12),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("refinements",t.selectedEntity.refinements)}}function _e(n,o){if(1&n&&(e.TgZ(0,"app-base-item-card",4),e.YNc(1,pe,4,1,"div",5),e._UZ(2,"app-item-list",6),e.YNc(3,me,4,2,"ng-container",7),e.YNc(4,le,4,1,"ng-container",7),e.qZA()),2&n){const t=e.oxw();e.Q6J("item",t.selectedEntity.output.item)("amount",t.selectedEntity.output.amount),e.xp6(1),e.Q6J("ngIf",!t.selectedEntity.qualities),e.xp6(1),e.Q6J("itemList",t.getItemList(t.selectedEntity)),e.xp6(1),e.Q6J("ngIf",t.selectedEntity.qualities),e.xp6(1),e.Q6J("ngIf",t.selectedEntity.refinements)}}function ge(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-item-icon",17),e.NdJ("click",function(){const c=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.showDetails(c))}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(3);let s;e.Q6J("itemName",t.output.item.iconName)("amount",t.output.amount)("subIconName",i.reusedImages.includes(null!==(s=t.output.item.iconName)&&void 0!==s?s:"")?t.input.item.iconName:void 0)}}function ue(n,o){if(1&n&&(e.TgZ(0,"div",15),e.YNc(1,ge,1,3,"app-item-icon",16),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function fe(n,o){if(1&n&&(e.TgZ(0,"mat-tab",13),e.YNc(1,ue,2,1,"div",14),e.ALo(2,"async"),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.s9C("label",t),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,i.filteredData$(t)))}}let de=(()=>{class n{constructor(t,i,s){this._route=t,this._router=i,this._databaseService=s,this.openDrawer=!1,this.reusedImages=[],this.selectedTabIndex=-1,this.quality=u.n,this.machineNames=[],this.tagBasedItems=[],(0,I.a)([s.fetchItemProcessingRecipes$(),s.fetchTagBasedItems$()]).pipe((0,N.q)(1)).subscribe({next:([c,p])=>{this.machineNames=Object.keys(c),this.tagBasedItems=p,this._route.paramMap.pipe((0,x.b)(m=>{const g=m.get("processor");g&&(this.selectedTabIndex=this.machineNames.map(Le=>Le.toLowerCase()).indexOf(g))})).subscribe()}})}getItemList(t){const i=[t.input,...t.additionalInput];if(t.genericInput){const s={shouldBeSameItem:!0,amount:t.genericInput.amount,genericItem:this.tagBasedItems.find(c=>c.key===t.genericInput?.key)};i.push(s)}return i}_getMultipleIconNames(t){const i=t.filter((s,c)=>t.indexOf(s)!==c);return[...new Set(i)]}filteredData$(t){return this._databaseService.fetchItemProcessingRecipes$().pipe((0,C.U)(i=>i[t]),(0,x.b)(i=>{this.reusedImages=this._getMultipleIconNames(i.map(s=>s.output.item.iconName??""))}))}l(t){let i=t.tab.textLabel.toLowerCase();this._router.navigate(["..",i],{relativeTo:this._route})}showDetails(t){this.selectedEntity=t,this.openDrawer=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz),e.Y36(l.F0),e.Y36(f.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-processor"]],decls:4,vars:4,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"item","amount",4,"ngIf"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],[3,"label",4,"ngFor","ngForOf"],["listDetail","",3,"item","amount"],["class","mb-3",4,"ngIf"],[1,"mb-3",3,"itemList"],[4,"ngIf"],[1,"mb-3"],[1,"text-black"],[3,"processingTime"],[3,"baseProcessingTime","processingTimePerQualities"],[3,"refinements"],[3,"label"],["class","grid gap-4 icon-grid",4,"ngIf"],[1,"grid","gap-4","icon-grid"],["class","icon-grid-item",3,"itemName","amount","subIconName","click",4,"ngFor","ngForOf"],[1,"icon-grid-item",3,"itemName","amount","subIconName","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-list-detail-container",0),e.NdJ("openDrawerChange",function(c){return i.openDrawer=c}),e.YNc(1,_e,5,6,"app-base-item-card",1),e.TgZ(2,"mat-tab-group",2),e.NdJ("selectedTabChange",function(c){return i.l(c)}),e.YNc(3,fe,3,4,"mat-tab",3),e.qZA()()),2&t&&(e.Q6J("openDrawer",i.openDrawer),e.xp6(1),e.Q6J("ngIf",i.selectedEntity),e.xp6(1),e.Q6J("selectedIndex",i.selectedTabIndex),e.xp6(1),e.Q6J("ngForOf",i.machineNames))},dependencies:[r.sg,r.O5,d.D,h.T,v,y.I,ie,Q,re,_.uX,_.SP,r.Ov],encapsulation:2}),n})(),xe=(()=>{class n{transform(t){return(0,b.gA)(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"spacesToPascalCase",type:n,pure:!0}),n})();function Te(n,o){if(1&n&&(e.TgZ(0,"div",8),e._uU(1," Unlocked: "),e.TgZ(2,"span",9),e._uU(3),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.AsE("Level ",t.selectedEntity.craftingUnlock.masteryLevel," in ",t.selectedEntity.craftingUnlock.masteryType,"")}}function Ie(n,o){1&n&&e._UZ(0,"hr",12)}function Ce(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"app-item-list",6),e.YNc(2,Ie,1,0,"hr",11),e.BQk()),2&n){const t=o.$implicit,i=o.last;e.xp6(1),e.Q6J("itemList",t),e.xp6(1),e.Q6J("ngIf",!i)}}function ye(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"span",9),e._uU(2," Either of the following"),e.qZA(),e.YNc(3,Ce,3,2,"ng-container",10),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.selectedEntity.eitherOrIngredients)}}function he(n,o){if(1&n&&(e.TgZ(0,"div",17),e._UZ(1,"app-item-icon",18),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("itemName",t.iconName),e.xp6(2),e.Oqu(t.displayName)}}function ve(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",14),e.YNc(2,he,4,2,"div",15),e.TgZ(3,"div",16),e._uU(4),e.qZA()(),e._UZ(5,"hr"),e.BQk()),2&n){const t=o.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",t),e.xp6(2),e.hij("as ",i.key,"")}}function Qe(n,o){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,ve,6,2,"ng-container",10),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t.value)}}function Ze(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"span",9),e._uU(2," The following counting as"),e.qZA(),e.YNc(3,Qe,2,1,"div",13),e.ALo(4,"keyvalue"),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.selectedEntity.additionsToGenerics))}}function be(n,o){if(1&n&&(e.TgZ(0,"app-base-item-card",4),e.YNc(1,Te,4,2,"div",5),e._UZ(2,"app-item-list",6),e.YNc(3,ye,4,1,"ng-container",7),e.YNc(4,Ze,5,3,"ng-container",7),e.qZA()),2&n){const t=e.oxw();e.Q6J("item",t.selectedEntity.item)("amount",t.selectedEntity.amount),e.xp6(1),e.Q6J("ngIf",t.selectedEntity.craftingUnlock),e.xp6(1),e.Q6J("itemList",t.getItemList(t.selectedEntity)),e.xp6(1),e.Q6J("ngIf",t.selectedEntity.eitherOrIngredients.length),e.xp6(1),e.Q6J("ngIf",t.selectedEntity.additionsToGenerics)}}function Ne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-item-icon",23),e.NdJ("click",function(){const c=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.showDetails(c))}),e.qZA()}if(2&n){const t=o.$implicit;e.Q6J("itemName",null==t.item?null:t.item.iconName)("amount",t.amount)}}function Je(n,o){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,Ne,1,2,"app-item-icon",22),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function we(n,o){if(1&n&&(e.TgZ(0,"mat-tab",19),e.ALo(1,"spacesToPascalCase"),e.YNc(2,Je,2,1,"div",20),e.ALo(3,"async"),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.s9C("label",e.lcZ(1,2,t)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,i.filteredData$(t)))}}const Pe=[{path:"",pathMatch:"full",redirectTo:"inventory"},{path:"",component:O,children:[{path:"inventory",component:j},{path:"artisan",redirectTo:"artisan/",pathMatch:"full"},{path:"artisan/:processor",component:de},{path:"cooking",redirectTo:"cooking/",pathMatch:"full"},{path:"cooking/:utensil",component:(()=>{class n{constructor(t,i,s){this._route=t,this._router=i,this._databaseService=s,this.openDrawer=!1,this.reusedImages=[],this.selectedTabIndex=-1,this.quality=u.n,this.utensilNames=[],(0,I.a)([s.fetchCookingRecipes$()]).pipe((0,N.q)(1)).subscribe({next:([c])=>{this.utensilNames=Object.keys(c),this._route.paramMap.pipe((0,x.b)(p=>{const m=p.get("utensil");m&&(this.selectedTabIndex=this.utensilNames.map(g=>g.toLowerCase()).indexOf(m))})).subscribe()}})}getItemList(t){const i=[...t.ingredients];return t.genericIngredients.length&&t.genericIngredients.forEach(s=>{i.push({shouldBeSameItem:!1,amount:s.amount,genericItem:s.genericItem})}),i}_getMultipleIconNames(t){const i=t.filter((s,c)=>t.indexOf(s)!==c);return[...new Set(i)]}filteredData$(t){return this._databaseService.fetchCookingRecipes$().pipe((0,C.U)(i=>i[t]),(0,x.b)(i=>{this.reusedImages=this._getMultipleIconNames(i.map(s=>s.item?.iconName??""))}))}updateUrl(t){let i=t.tab.textLabel.toLowerCase().replace(" ","");this._router.navigate(["..",i],{relativeTo:this._route})}showDetails(t){this.selectedEntity=t,this.openDrawer=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz),e.Y36(l.F0),e.Y36(f.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cooking"]],decls:4,vars:4,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"item","amount",4,"ngIf"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],[3,"label",4,"ngFor","ngForOf"],["listDetail","",3,"item","amount"],["class","mb-3",4,"ngIf"],[1,"mb-3",3,"itemList"],[4,"ngIf"],[1,"mb-3"],[1,"text-black"],[4,"ngFor","ngForOf"],["class","my-5",4,"ngIf"],[1,"my-5"],["class","mb-3",4,"ngFor","ngForOf"],[1,"flex","justify-between","py-1"],["class","flex gap-x-3 items-center",4,"ngIf"],[1,"flex","items-center"],[1,"flex","gap-x-3","items-center"],[1,"w-10",3,"itemName"],[3,"label"],["class","grid gap-4 icon-grid",4,"ngIf"],[1,"grid","gap-4","icon-grid"],["class","icon-grid-item",3,"itemName","amount","click",4,"ngFor","ngForOf"],[1,"icon-grid-item",3,"itemName","amount","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-list-detail-container",0),e.NdJ("openDrawerChange",function(c){return i.openDrawer=c}),e.YNc(1,be,5,6,"app-base-item-card",1),e.TgZ(2,"mat-tab-group",2),e.NdJ("selectedTabChange",function(c){return i.updateUrl(c)}),e.YNc(3,we,4,6,"mat-tab",3),e.qZA()()),2&t&&(e.Q6J("openDrawer",i.openDrawer),e.xp6(1),e.Q6J("ngIf",i.selectedEntity),e.xp6(1),e.Q6J("selectedIndex",i.selectedTabIndex),e.xp6(1),e.Q6J("ngForOf",i.utensilNames))},dependencies:[r.sg,r.O5,d.D,h.T,v,y.I,_.uX,_.SP,r.Ov,r.Nd,xe],encapsulation:2}),n})()}]}];let ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(Pe),l.Bz]}),n})(),Ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.ez,ke,P.m,_.Nh]}),n})()}}]);
