import{a as Te,b as Fe,c as we}from"./chunk-TYQA2V4S.js";import{f as ve}from"./chunk-MAPCV5WJ.js";import{f as be}from"./chunk-AOZA2FFG.js";import"./chunk-TAGED6M3.js";import"./chunk-LHFBWDNO.js";import{a as U,b as Ie}from"./chunk-MCL333SK.js";import{a as Q}from"./chunk-GVL7J5HO.js";import{$c as P,Aa as h,Cc as O,D as j,Dc as fe,Ea as E,Eb as ce,Ec as ue,Fc as he,G as A,Ga as C,Gd as W,Ha as p,Ic as ee,J as D,K as u,Ka as ne,L as q,La as b,O as M,Oa as d,P as S,Pa as re,Pc as Ce,Qa as ae,Rb as pe,Xb as me,Ya as f,Yd as Y,Za as _,_a as K,_b as de,_c as G,ac as Z,ba as oe,bd as z,da as s,dd as J,gd as $,hd as B,id as _e,ka as I,le as ye,md as ge,na as c,nb as N,ne as xe,ob as le,od as R,pa as F,pb as H,pd as L,rd as V,sd as ke,ta as T,tb as se,u as ie,ua as g,va as k,wa as y,xa as x,ya as a,za as l}from"./chunk-IDSY5RWV.js";var De=(()=>{let e=class e{constructor(){this.uiIcon=ce}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["app-my-coral-guide"]],decls:15,vars:6,consts:[["exact","","routerLink",".",3,"uiIcon"],["routerLink","to-do",3,"uiIcon"],["routerLink","offerings-checklist",3,"uiIcon"],["routerLink","museum-checklist",3,"uiIcon"],["routerLink","cooking-recipes-checklist",3,"uiIcon"],["routerLink","settings",3,"uiIcon"],[1,"hidden"]],template:function(o,r){o&1&&(a(0,"app-sidebar-container")(1,"app-module-sidebar")(2,"app-module-sidebar-item",0),d(3,"Dashboard"),l(),a(4,"app-module-sidebar-item",1),d(5,"To-dos"),l(),a(6,"app-module-sidebar-item",2),d(7," Offerings checklist "),l(),a(8,"app-module-sidebar-item",3),d(9," Museum checklist "),l(),a(10,"app-module-sidebar-item",4),d(11," Cooking recipes checklist "),l(),a(12,"app-module-sidebar-item",5),d(13," Settings "),l()(),h(14,"router-outlet",6),l()),o&2&&(s(2),c("uiIcon",r.uiIcon.MY_CORAL),s(2),c("uiIcon",r.uiIcon.TO_DO),s(2),c("uiIcon",r.uiIcon.OFFERING),s(2),c("uiIcon",r.uiIcon.MUSEUM),s(2),c("uiIcon",r.uiIcon.COOKING),s(2),c("uiIcon",r.uiIcon.SETTINGS))},dependencies:[me,de,ue,fe,ge],encapsulation:2});let t=e;return t})();var Me=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["app-index"]],decls:8,vars:0,consts:[[1,"m-2","2xl:mx-16","2xl:mt-16","2xl:mb-10"],[1,"mb-4","font-semibold","text-2xl","text-black"],[1,"prose","lg:prose-xl"],[1,"text-black","text-lg"]],template:function(o,r){o&1&&(a(0,"app-card",0)(1,"h2",1),d(2," My Coral Guide "),l(),a(3,"div",2)(4,"p",3),d(5,' Welcome! This is "My Coral Guide" - your personal space. '),l(),a(6,"p",3),d(7," For now this startpage is quite empty. Sometime in the future this will be your dashboard. Until then, feel free to check the sub navigation to edit some checklist, add to-dos or change your settings. "),l()()())},dependencies:[he],encapsulation:2});let t=e;return t})();var X=(()=>{let e=class e extends Y{constructor(){super(),this.checklistForm=new z({}),this.checklistForm.valueChanges.pipe(Q()).subscribe({next:i=>{let o=[];Object.keys(i).forEach(r=>{i[r]&&o.push(r)}),this.checklistService.set(o)}})}ngOnInit(){this.checklistDefinition$=this.checklistDefinition$.pipe(ie(1),j(i=>{let o=Object.keys(i);o.forEach(r=>{i[r].forEach(m=>{this.checklistForm.addControl(m.id,new J(this.checklistService.isChecked(m.id),{nonNullable:!0}),{emitEvent:!1})})}),this.activateTabFromRoute(o)}))}keyValueNoOrder(){return 0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["ng-component"]],features:[I],decls:0,vars:0,template:function(o,r){},encapsulation:2});let t=e;return t})();function Ue(t,e){if(t&1&&(a(0,"div",6),h(1,"app-item-icon",7),a(2,"label",8),h(3,"mat-checkbox",9),l()()),t&2){let n=e.$implicit,i=p(4),o;F("checklist-checked",(o=i.checklistForm.get(n.id))==null?null:o.value)("selected-icon",(i.selectedEntity==null?null:i.selectedEntity.id)===n.id),s(1),c("itemName",n.iconName),s(1),b("for","entry-",n.id,"-input"),s(1),b("id","entry-",n.id,"")("name","entry-",n.id,""),c("formControlName",n.id)}}function je(t,e){if(t&1&&(a(0,"div",5),y(1,Ue,4,9,"div",10,k),l()),t&2){let n=p().$implicit;x(1,n.value)}}function Ae(t,e){if(t&1&&(a(0,"mat-tab",3),T(1,je,3,0,"div",4),l()),t&2){let n=e.$implicit,i=p(2);c("formGroup",i.checklistForm)("label",n.key),s(1),g(1,i.showTable?-1:1)}}function qe(t,e){if(t&1){let n=E();a(0,"mat-tab-group",2),C("selectedTabChange",function(o){M(n);let r=p();return S(r.updateUrl(o))}),y(1,Ae,2,3,"mat-tab",3,k),f(3,"keyvalue"),l()}if(t&2){let n=p();c("selectedIndex",n.selectedTabIndex),x(1,K(3,1,e,n.keyValueNoOrder))}}var $e=(()=>{let e=class e extends X{constructor(){super(),this.checklistService=D(Te),this.checklistDefinition$=this._database.fetchMuseumChecklist$()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["app-museum-checklist"]],features:[I],decls:3,vars:5,consts:[[3,"openDrawer","removePlaceholder","openDrawerChange"],["class"," px-2 xl:px-[50px] w-full","dynamicHeight","","mat-stretch-tabs","false",3,"selectedIndex"],["dynamicHeight","","mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],[3,"formGroup","label"],["class","grid gap-4 icon-grid"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"],["class","icon-grid-item checklist-item  flex flex-col",3,"checklist-checked","selected-icon"]],template:function(o,r){if(o&1&&(a(0,"app-list-detail-container",0),C("openDrawerChange",function(v){return r.openDrawer=v}),T(1,qe,4,4,"mat-tab-group",1),f(2,"async"),l()),o&2){let m;c("openDrawer",r.openDrawer)("removePlaceholder",r.showTable),s(1),g(1,(m=_(2,3,r.checklistDefinition$))?1:-1,m)}},dependencies:[O,R,L,V,U,G,P,$,B,N,H],encapsulation:2});let t=e;return t})();function He(t,e){if(t&1&&(a(0,"div",5),h(1,"app-item-icon",6),a(2,"label",7),h(3,"mat-checkbox",8),l()()),t&2){let n=e.$implicit,i=p(3),o;F("checklist-checked",(o=i.checklistForm.get(n.id))==null?null:o.value)("selected-icon",(i.selectedEntity==null?null:i.selectedEntity.id)===n.id),s(1),c("itemName",n.iconName),s(1),b("for","entry-",n.id,"-input"),s(1),b("id","entry-",n.id,"")("name","entry-",n.id,""),c("formControlName",n.id)}}function ze(t,e){if(t&1&&(a(0,"div",4),y(1,He,4,9,"div",9,k),l()),t&2){let n=p().$implicit;x(1,n.value)}}function Je(t,e){if(t&1&&(a(0,"mat-tab",2),f(1,"titlecase"),f(2,"spacesToPascalCase"),T(3,ze,3,0,"div",3),l()),t&2){let n=e.$implicit,i=p();c("formGroup",i.checklistForm)("label",i.cookingUtensilMapping[n.key.toLowerCase()]?i.cookingUtensilMapping[n.key.toLowerCase()].displayName:_(1,3,_(2,5,n.key))),s(3),g(3,i.showTable?-1:3)}}var Be=(()=>{let e=class e extends X{constructor(){super(),this.checklistService=D(Fe),this.checklistDefinition$=this._database.fetchCookingRecipesChecklist$(),this.cookingUtensilMapping=this._database.getCookingUtensilMapping(),this.urlPathFromLabel=i=>{let o=Object.keys(this.cookingUtensilMapping).find(r=>this.cookingUtensilMapping[r].displayName===i);return o||i.toLowerCase().replaceAll(" ","")}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["app-cooking-recipes-checklist"]],features:[I],decls:6,vars:8,consts:[[3,"openDrawer","removePlaceholder","openDrawerChange"],["dynamicHeight","","mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"selectedIndex","selectedTabChange"],[3,"formGroup","label"],["class","grid gap-4 icon-grid"],[1,"grid","gap-4","icon-grid"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"itemName"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"],["class","icon-grid-item checklist-item  flex flex-col",3,"checklist-checked","selected-icon"]],template:function(o,r){o&1&&(a(0,"app-list-detail-container",0),C("openDrawerChange",function(v){return r.openDrawer=v}),a(1,"mat-tab-group",1),C("selectedTabChange",function(v){return r.updateUrl(v)}),y(2,Je,4,7,"mat-tab",2,k),f(4,"keyvalue"),f(5,"async"),l()()),o&2&&(c("openDrawer",r.openDrawer)("removePlaceholder",r.showTable),s(1),c("selectedIndex",r.selectedTabIndex),x(2,K(4,3,_(5,6,r.checklistDefinition$),r.keyValueNoOrder)))},dependencies:[O,R,L,V,U,G,P,$,B,N,le,H,W],encapsulation:2});let t=e;return t})();function We(t,e){if(t&1){let n=E();a(0,"app-base-item-card",3),C("addedToToDo",function(){M(n);let o=p();return S(o.entryForToDo&&o.registerToToDo(o.entryForToDo))}),l()}if(t&2){let n=p();c("item",n.selectedEntity)("toDoCategory",n.toDoCategory.OFFERINGS)}}function Ye(t,e){if(t&1){let n=E();a(0,"div",14),f(1,"entityKey"),a(2,"app-item-icon",15),C("click",function(){M(n);let o=p().$implicit,r=p(5);return S(r.showDetails(o))}),l(),a(3,"label",16),h(4,"mat-checkbox",17),l()()}if(t&2){let n=p().$implicit,i=p(5),o;F("checklist-checked",(o=i.checklistForm.get(e))==null?null:o.value)("selected-icon",i.selectedEntity&&_(1,11,i.selectedEntity)===e),s(2),c("amount",n.amount)("itemName",n.item.iconName)("quality",n.quality),s(1),b("for","entry-",e,"-input"),s(1),b("id","entry-",e,"")("name","entry-",e,""),c("formControlName",e)}}function Qe(t,e){if(t&1&&(T(0,Ye,5,13,"div",13),f(1,"entityKey")),t&2){let n=e.$implicit,i;g(0,(i=_(1,1,n.item))?0:-1,i)}}function Xe(t,e){if(t&1&&(a(0,"div",8)(1,"div",9),h(2,"img",10),a(3,"div",11)(4,"div"),d(5),l(),a(6,"div"),d(7),l()()(),a(8,"div",12),y(9,Qe,2,3,null,null,k),l()()),t&2){let n=e.$implicit,i=p(4);s(1),F("bg-merino-300",(i.activeOffering==null?null:i.activeOffering.title)===n.title),s(1),b("alt","",n.title," offering icon")("src","assets/ui/images/offering/",n.imageName,".png",oe),s(3),re(n.title),s(2),ae(" ",n.numOfItemRequired===-1?"All":n.numOfItemRequired," required: "),x(9,n.requiredItems)}}function Ze(t,e){if(t&1&&(a(0,"div",7),y(1,Xe,11,6,"div",18,k),l()),t&2){let n=p().$implicit;x(1,n.offerings)}}function et(t,e){if(t&1&&(a(0,"mat-tab",5),f(1,"spacesToPascalCase"),T(2,Ze,3,0,"div",6),l()),t&2){let n=e.$implicit,i=p(2);ne("label",_(1,2,n.offeringGroupTitle)),s(2),g(2,i.showTable?-1:2)}}function tt(t,e){if(t&1){let n=E();a(0,"mat-tab-group",4),C("selectedTabChange",function(o){M(n);let r=p();return S(r.updateUrl(o))}),y(1,et,3,4,"mat-tab",5,k),l()}if(t&2){let n=p();c("formGroup",n.checklistForm)("selectedIndex",n.selectedTabIndex),x(1,e)}}var Re=(()=>{let e=class e extends Y{constructor(){super(),this.checklistService=D(we),this.checklistForm=new z({}),this.toDoCategory=ee,this._altars=[],this.urlPathFromLabel=i=>{let o=i.toLowerCase().replaceAll(" ",""),r=this._altars.find(m=>m.offeringGroupTitle.toLowerCase().replaceAll(" ","")===o);return r?r.urlPath:i.toLowerCase().replaceAll(" ","")},this.checklistForm.valueChanges.pipe(Q()).subscribe({next:i=>{let o=[];Object.keys(i).forEach(r=>{i[r]&&o.push(r)}),this.checklistService.set(o)}}),this.offerings$=this._database.fetchOfferings$().pipe(j(i=>{let o=i.map(r=>r.urlPath);this._altars=i,i.forEach(r=>{let m=Object.keys(r);r.offerings.forEach(v=>{v.requiredItems.forEach(Ve=>{let te=pe(Ve.item);this.checklistForm.addControl(te,new J(this.checklistService.isChecked(te),{nonNullable:!0}),{emitEvent:!1})})})}),this.activateTabFromRoute(o)}))}registerToToDo(i){"item"in i&&this._todo.add(ee.OFFERINGS,i)}showDetails(i){this.entryForToDo=i,i&&"amount"in i?super.showDetails(i.item):super.showDetails(i)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["app-offerings-checklist"]],features:[I],decls:4,vars:5,consts:[[3,"openDrawer","openDrawerChange"],["listDetail","",3,"item","toDoCategory"],["class","px-2 xl:px-[50px] w-full","mat-stretch-tabs","false",3,"formGroup","selectedIndex"],["listDetail","",3,"item","toDoCategory","addedToToDo"],["mat-stretch-tabs","false",1,"px-2","xl:px-[50px]","w-full",3,"formGroup","selectedIndex","selectedTabChange"],[3,"label"],["class","grid grid-cols-1 lg:grid-cols-2 gap-6"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"flex","flex-col","gap-y-2"],[1,"rounded-lg","bg-merino","flex","items-center","gap-4","p-4"],["height","64","width","64",3,"alt","src"],[1,"flex","flex-col","text-lg","font-semibold"],[1,"grid","gap-4","icon-grid","w-full"],["class","icon-grid-item checklist-item flex flex-col",3,"checklist-checked","selected-icon"],[1,"icon-grid-item","checklist-item","flex","flex-col"],[3,"amount","itemName","quality","click"],[1,"text-white","flex","justify-center",3,"for"],[1,"flex",3,"formControlName","id","name"],["class","flex flex-col gap-y-2"]],template:function(o,r){if(o&1&&(a(0,"app-list-detail-container",0),C("openDrawerChange",function(v){return r.openDrawer=v}),T(1,We,1,2,"app-base-item-card",1)(2,tt,3,2,"mat-tab-group",2),f(3,"async"),l()),o&2){let m;c("openDrawer",r.openDrawer),s(1),g(1,r.selectedEntity?1:-1),s(1),g(2,(m=_(3,3,r.offerings$))?2:-1,m)}},dependencies:[O,Ce,R,L,V,U,G,P,$,B,N,W,ye],encapsulation:2});let t=e;return t})();var it=[{path:"",component:De,children:[{path:"",component:Me},{path:"to-do",loadChildren:()=>import("./chunk-AUCPSEWF.js").then(t=>t.ToDoModule)},{path:"museum-checklist",redirectTo:"museum-checklist/",pathMatch:"full"},{path:"museum-checklist/:tabName",component:$e,title:"Museum checklist - My Guide"},{path:"cooking-recipes-checklist",redirectTo:"cooking-recipes-checklist/",pathMatch:"full"},{path:"cooking-recipes-checklist/:tabName",component:Be,title:"Cooking recipes checklist - My Guide"},{path:"offerings-checklist",redirectTo:"offerings-checklist/",pathMatch:"full"},{path:"offerings-checklist/:tabName",component:Re,title:"Offerings checklist - My Guide"},{path:"settings",loadChildren:()=>import("./chunk-T6VUQEWU.js").then(t=>t.SettingsModule),title:"Settings - My Guide"}]}],Le=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=q({type:e}),e.\u0275inj=A({imports:[Z.forChild(it),Z]});let t=e;return t})();var ci=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=q({type:e}),e.\u0275inj=A({imports:[se,Le,xe,ve,ke,Ie,_e,be]});let t=e;return t})();export{ci as MyCoralGuideModule};
