import{a as M}from"./chunk-7UPAL45P.js";import{a as W}from"./chunk-SOUJJ6NH.js";import{a as K}from"./chunk-LA3V2AP6.js";import{g as $}from"./chunk-J3AOBVKI.js";import{v as P}from"./chunk-IYHG6KR3.js";import{Ac as G,Ad as R,Db as F,Dc as B,Ea as k,Ec as N,Fa as T,Fc as V,Lc as D,Nb as g,Nc as v,Oc as y,Pb as u,Tb as p,Vb as _,Wb as C,Xb as x,Yb as r,Zb as a,_b as O,cc as h,fc as w,gb as o,hc as l,ia as I,lc as S,ob as q,qa as s,ra as d,wb as E,yc as f,zc as A}from"./chunk-ZXANYF3K.js";var j=t=>[t];function z(t,m){if(t&1&&(r(0,"div",1),f(1),a()),t&2){let e=l();o(),G(" Reward: ",e.offeringAltar().offeringGroupRewardText," ")}}function L(t,m){if(t&1){let e=h();r(0,"div",5),w("click",function(){let n=s(e).$implicit,c=l(2);return d(c.activeOffering=n)}),O(1,"img",6),r(2,"div",7),f(3),a()()}if(t&2){let e=m.$implicit,i=l(2);u("bg-merino-300",(i.activeOffering==null?null:i.activeOffering.title)===e.title),o(),S("alt","",e.title," offering icon"),S("ngSrc","",i.bundleAssetPath()+e.imageName,".webp"),o(2),A(e.title)}}function H(t,m){if(t&1&&(r(0,"div",2),C(1,L,4,7,"div",4,_),a()),t&2){let e=l();o(),x(e.offeringAltar().offerings)}}function J(t,m){if(t&1&&O(0,"app-offerings-table",3),t&2){let e=l();g("dataSource",D(1,j,e.offeringAltar()))}}function Q(t,m){if(t&1){let e=h();r(0,"app-item-icon",12),v(1,"entityKey"),w("click",function(){let n=s(e).$implicit,c=l(2);return d(c.showDetails(n.item))}),a()}if(t&2){let e=m.$implicit,i=l(2);u("selected-icon",i.selectedEntity()&&y(1,4,i.selectedEntity())===e.item.id),g("amount",e.amount)("itemName",e.item.iconName)}}function U(t,m){if(t&1){let e=h();r(0,"app-item-icon",13),v(1,"entityKey"),v(2,"entityKey"),w("click",function(){let n=s(e).$implicit,c=l(2);return d(c.showDetails(n))}),a()}if(t&2){let e=m.$implicit,i=l(2);u("selected-icon",i.selectedEntity()&&y(1,5,i.selectedEntity())===y(2,7,e.item)),g("amount",e.amount)("itemName",e.item.iconName)("quality",e.quality)}}function X(t,m){if(t&1&&(r(0,"div",8),f(1," Rewards: "),a(),r(2,"div",9),C(3,Q,2,6,"app-item-icon",10,_),a(),r(5,"div",8),f(6),a(),r(7,"div",9),C(8,U,3,9,"app-item-icon",11,_),a()),t&2){let e=l();o(3),x(e.activeOffering.rewards.items),o(3),G(" ",e.activeOffering.numOfItemRequired===-1?"All":e.activeOffering.numOfItemRequired," of the following items are required: "),o(2),x(e.activeOffering.requiredItems)}}var le=(()=>{class t{constructor(){this.offeringAltar=T.required(),this.selectedEntity=T.required(),this.selected=k(),this.showTable=!1,this.useBeta=I(P).getSettings().useBeta,this.bundleAssetPath=q(`assets/${this.useBeta?"beta":"live"}/items/icons/`)}showDetails(e){e?this.entryForToDo="item"in e?{itemEntry:e.item,amount:e.amount,quality:e.quality}:{itemEntry:e}:this.entryForToDo=void 0,e&&"amount"in e?this.selected.emit(e.item):this.selected.emit(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=E({type:t,selectors:[["app-offering-group"]],inputs:{offeringAltar:[1,"offeringAltar"],selectedEntity:[1,"selectedEntity"]},outputs:{selected:"selected"},decls:5,vars:5,consts:[[3,"showTableChange","showTable"],[1,"bg-merino","rounded-lg","mb-4","text-lg","font-semibold","p-4"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4"],[3,"dataSource"],[1,"rounded-lg","bg-merino","flex","flex-col","items-center","gap-4","px-4","py-8","hover:bg-merino-200",3,"bg-merino-300"],[1,"rounded-lg","bg-merino","flex","flex-col","items-center","gap-4","px-4","py-8","hover:bg-merino-200",3,"click"],["height","128","width","128",3,"alt","ngSrc"],[1,"text-lg","font-semibold"],[1,"bg-merino","rounded-lg","mb-4","text-lg","font-semibold","p-4","my-8"],[1,"icon-grid","mt-8"],[1,"icon-grid-item",3,"amount","selected-icon","itemName"],[1,"icon-grid-item",3,"amount","selected-icon","itemName","quality"],[1,"icon-grid-item",3,"click","amount","itemName"],[1,"icon-grid-item",3,"click","amount","itemName","quality"]],template:function(i,n){i&1&&(r(0,"app-data-filter",0),V("showTableChange",function(b){return N(n.showTable,b)||(n.showTable=b),b}),a(),F(1,z,2,1,"div",1)(2,H,3,0,"div",2)(3,J,1,3,"app-offerings-table",3)(4,X,10,1)),i&2&&(B("showTable",n.showTable),o(),p(n.offeringAltar().offeringGroupRewardText?1:-1),o(),p(n.showTable?-1:2),o(),p(n.showTable?3:-1),o(),p(n.activeOffering&&!n.showTable?4:-1))},dependencies:[R,K,W,$,M],encapsulation:2})}}return t})();export{le as a};
