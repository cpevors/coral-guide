import{a as S,b as it}from"./chunk-DGGPURLU.js";import{a as b}from"./chunk-JS6CQQZJ.js";import{$ as C,$a as R,$c as W,Bd as ot,Be as ut,Ca as d,Ea as y,Ha as p,Ia as D,J as B,Ja as _,Ka as v,Kd as nt,La as s,M as x,Ma as r,Md as at,N as A,Na as h,Od as rt,P as N,Pb as $,Pd as lt,Q as P,Ra as z,Sd as st,Ta as T,Ua as c,V as F,Va as V,Vc as J,Vd as g,Wa as L,Zb as G,_c as K,ab as O,bb as Q,bd as I,cd as X,de as mt,fb as m,fe as ct,gb as f,ge as pt,hb as U,he as dt,ib as H,if as ft,la as l,md as Z,oc as Y,ra as q,rd as tt,ud as et,v as M,ya as u}from"./chunk-5LEGSPOZ.js";var j=["offerings","journal_fish","journal_critter","journal_insects","journal_gems","journal_fossils","journal_artifacts","journal_crops","journal_animal_produce","journal_scavangables","cooking_recipes","crafting","artisan","museum"],k={offerings:"Offerings",journal_fish:"Fish",journal_critter:"Sea Critter",journal_insects:"Insects",journal_gems:"Gems",journal_fossils:"Fossils",journal_artifacts:"Artifacts",journal_crops:"Crops",journal_animal_produce:"Animal Produce",journal_scavangables:"Scavangables",cooking_recipes:"Cooking recipes",crafting:"Crafting",artisan:"Artisan",museum:"Museum"};function yt(t,e){if(t&1&&h(0,"app-rarity-icon",7),t&2){let o=c(2);d("quality",o.quality)}}function Dt(t,e){if(t&1&&(s(0,"div",3),h(1,"app-item-icon",4),s(2,"span",5),m(3),r(),u(4,yt,1,1,"app-rarity-icon",6),r()),t&2){let o=c();l(),d("itemName",o.item.iconName),l(),y("line-through",o.isChecked),l(),f(o.item.displayName),l(),p(4,o.quality?4:-1)}}var _t=["*"],Ct=(()=>{let e=class e{constructor(){this.markedAsComplete=new B,this.todoService=C(g),this.qualities=G,this.isChecked=!1,this._destroyRef=C(q)}ngOnInit(){this.todoService.categoryCompleted$().pipe(b(this._destroyRef),M(i=>i===this.category)).subscribe({next:()=>{this.toggleCompletionStatus(!0),this.checkbox&&(this.checkbox.checked=!0)}})}toggleCompletionStatus(i){this.isChecked=i,this.todoService.updateStatus(this.category,this.item,i)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=x({type:e,selectors:[["app-to-do-entry-base"]],viewQuery:function(n,a){if(n&1&&R(S,7),n&2){let E;O(E=Q())&&(a.checkbox=E.first)}},hostVars:2,hostBindings:function(n,a){n&2&&y("opacity-50",a.isChecked)},inputs:{amount:"amount",quality:"quality",item:"item",category:"category"},outputs:{markedAsComplete:"markedAsComplete"},ngContentSelectors:_t,decls:5,vars:2,consts:[["class","flex gap-2 items-center"],[1,"ml-auto","font-semibold","mr-4"],[3,"change"],[1,"flex","gap-2","items-center"],[1,"!w-7",3,"itemName"],[1,"ml-1","whitespace-nowrap"],["class","!w-4",3,"quality"],[1,"!w-4",3,"quality"]],template:function(n,a){n&1&&(V(),u(0,Dt,5,5,"div",0),L(1),s(2,"span",1),m(3),r(),s(4,"mat-checkbox",2),T("change",function(gt){return a.toggleCompletionStatus(gt.checked)}),r()),n&2&&(p(0,a.item?0:-1),l(3),f(a.amount?"x"+a.amount:""))},dependencies:[lt,rt,S],styles:["[_nghost-%COMP%]{display:flex;height:48px;align-items:center;gap:.5rem;border-radius:1rem;background-color:rgb(0 0 0 / var(--tw-bg-opacity));--tw-bg-opacity: .05;padding-left:1rem;padding-right:1rem;font-size:1.125rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}"]});let t=e;return t})();function Tt(t,e){if(t&1&&h(0,"app-to-do-entry-base",3),t&2){let o=e.$implicit,i=c(2);d("amount",o.amount)("category",i.context==="uncategorized"?void 0:i.context)("item",o.itemEntry)("quality",o.quality)("@leaveAnimation",void 0)}}function St(t,e){if(t&1){let o=z();s(0,"header",0)(1,"h2",1),m(2),r(),s(3,"button",2),T("click",function(){N(o);let n=c();return P(n.completeList())}),m(4,"complete list"),r()(),s(5,"div"),_(6,Tt,1,5,"app-to-do-entry-base",4,D),r()}if(t&2){let o=c();l(2),f(o.context==="uncategorized"||o.context===void 0?"Uncategorized":o.ToDoContextDisplayNames[o.context]),l(3),d("@.disabled",!(o.toDoId!=null&&o.toDoId.includes(o.context)||o.toDoId===void 0)),l(),v(o.data)}}var ht=(()=>{let e=class e{constructor(){this.ToDoContextDisplayNames=k,this._toDoService=C(g)}get data(){return this._toDoService.getCategoryList(this.context==="uncategorized"?void 0:this.context)}get hidden(){return!this.toDoId?.includes(this.context)||!this.data.length}completeList(){this._toDoService.completeCategory(this.context==="uncategorized"?void 0:this.context)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=x({type:e,selectors:[["app-to-do-partial"]],hostVars:2,hostBindings:function(n,a){n&2&&y("hidden",a.hidden)},inputs:{context:"context",toDoId:"toDoId"},decls:1,vars:1,consts:[[1,"flex","justify-between","items-center","mt-5","mb-2"],[1,"font-semibold","text-xl","text-black"],[1,"btn-amber",3,"click"],[1,"mb-2","block",3,"amount","category","item","quality"],["class","mb-2 block",3,"amount","category","item","quality"]],template:function(n,a){n&1&&u(0,St,8,2),n&2&&p(0,a.data.length&&(a.toDoId!=null&&a.toDoId.includes(a.context))?0:-1)},dependencies:[Ct],encapsulation:2,data:{animation:[K("leaveAnimation",[X(":leave",[I({height:"*",opacity:1}),W("200ms ease-in",I({height:0,opacity:0}))])])]}});let t=e;return t})();function kt(t,e){t&1&&m(0," All ")}function Et(t,e){if(t&1&&(s(0,"span",10),m(1),r()),t&2){let o=c(3);l(),H(" (+",o.toDoCategoryControl.value.length-1," ",o.toDoCategoryControl.value.length===2?"other":"others"," ) ")}}function It(t,e){if(t&1&&(m(0),u(1,Et,2,2,"span",9)),t&2){let o=c(2);U(" ",o.toDoCategoryControl.value[0]!=="all"?o.toDoCategoryControl.value[0]==="uncategorized"?"Uncategorized":o.toDoContextDisplayNames[o.toDoCategoryControl.value[0]]:""," "),l(),p(1,o.toDoCategoryControl.value.length>1?1:-1)}}function jt(t,e){if(t&1&&u(0,It,2,2),t&2){let o=c();p(0,o.toDoCategoryControl.value.length?0:-1)}}function wt(t,e){if(t&1&&(s(0,"mat-option",11)(1,"div",1)(2,"span"),m(3),r(),s(4,"span"),m(5),r()()()),t&2){let o=e.$implicit,i=c();d("value",o),l(3),f(i.toDoContextDisplayNames[o]),l(2),f(i.toDoService.getCategoryList(o).length)}}function Mt(t,e){if(t&1&&h(0,"app-to-do-partial",12),t&2){let o=e.$implicit,i=c();d("context",o)("toDoId",i.toDoCategoryControl.value)}}function Bt(t,e){t&1&&(s(0,"div",13)(1,"h2",14),m(2,"No entries in to-do list"),r(),s(3,"p",15),m(4," Your current to-do list is empty! Visit the "),s(5,"a",16),m(6,"journal"),r(),m(7,", the "),s(8,"a",17),m(9,"offerings"),r(),m(10," or other places to add entries to your to-do list. "),r()())}function At(t,e){t&1&&(s(0,"div",13)(1,"h2",14),m(2,"No entries for selection"),r(),s(3,"p",15),m(4," There are no entries for your current filter settings. "),r()())}var xt=(()=>{let e=class e{constructor(){this.toDoContexts=j,this.toDoContextDisplayNames=k,this.toDoCategoryControl=new tt(["all",...j,"uncategorized"],{nonNullable:!0}),this.toDoService=C(g),this.hadAllBefore=!0,this.settings=C(Y),this.toDoCategoryControl.valueChanges.pipe(b()).subscribe({next:i=>{this.hadAllBefore&&!i.includes("all")?(this.toDoCategoryControl.setValue([],{emitEvent:!1}),this.hadAllBefore=!1):!this.hadAllBefore&&i.includes("all")?(this.toDoCategoryControl.setValue(["all",...this.toDoContexts],{emitEvent:!1}),this.hadAllBefore=!0):this.hadAllBefore&&i.length<this.toDoContexts.length+1&&(this.toDoCategoryControl.setValue(i.filter(n=>n!=="all"),{emitEvent:!1}),this.hadAllBefore=!1)}})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=x({type:e,selectors:[["app-to-do"]],decls:28,vars:8,consts:[[1,"m-2","2xl:mx-16","2xl:mt-16","2xl:mb-10"],[1,"flex","justify-between"],[1,"mb-4","font-semibold","text-2xl","text-black"],[1,"btn","btn-secondary"],["multiple","","placeholder","None",3,"formControl"],["value","all"],["value","uncategorized"],["context","uncategorized",3,"toDoId"],["class","show-when-none-displayed"],["class","text-sm opacity-80"],[1,"text-sm","opacity-80"],[3,"value"],[3,"context","toDoId"],[1,"show-when-none-displayed"],[1,"mb-2","mt-4","font-semibold","text-xl","text-black"],[1,"text-black"],["routerLink","/journal",1,"underline"],["routerLink","/locations/lake-temple",1,"underline"]],template:function(n,a){n&1&&(s(0,"app-card",0)(1,"div",1)(2,"h1",2),m(3,"To-Dos"),r(),s(4,"mat-form-field",3)(5,"mat-select",4)(6,"mat-select-trigger"),u(7,kt,1,0)(8,jt,1,1),r(),s(9,"mat-option",5)(10,"div",1)(11,"span"),m(12,"All"),r(),s(13,"span"),m(14),r()()(),_(15,wt,6,3,"mat-option",11,D),s(17,"mat-option",6)(18,"div",1)(19,"span"),m(20,"Uncategorized"),r(),s(21,"span"),m(22),r()()()()()(),_(23,Mt,1,2,"app-to-do-partial",12,D),h(25,"app-to-do-partial",7),u(26,Bt,11,0,"div",8)(27,At,5,0,"div",8),r()),n&2&&(l(5),d("formControl",a.toDoCategoryControl),l(2),p(7,a.toDoCategoryControl.value.includes("all")?7:-1),l(),p(8,a.toDoCategoryControl.value.includes("all")?-1:8),l(6),f(a.toDoService.currentToDoAmount),l(),v(a.toDoContexts),l(7),f(a.toDoService.getCategoryList().length),l(),v(a.toDoContexts),l(2),d("toDoId",a.toDoCategoryControl.value),l(),p(26,a.toDoService.currentIsEmpty?26:-1),l(),p(27,a.toDoService.currentIsEmpty?-1:27))},dependencies:[nt,st,mt,ct,pt,J,Z,et,ht],styles:["app-to-do-partial[_ngcontent-%COMP%]:not(.hidden) ~ .show-when-none-displayed[_ngcontent-%COMP%]{display:none}"]});let t=e;return t})();var Nt=[{path:"",component:xt},{path:":toDoId",redirectTo:""}],Me=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=A({type:e}),e.\u0275inj=F({imports:[$,at.forChild(Nt),ft,it,ut,dt,ot]});let t=e;return t})();export{Me as ToDoModule};
