import{a as I,b as mt}from"./chunk-W3UBA7PY.js";import{$a as J,$c as it,Aa as d,Bd as st,Ca as v,Ce as yt,Fa as p,Ga as T,Ha as S,Ia as b,Ja as l,Jd as ct,K as F,Ka as a,La as x,Ld as pt,N as g,Nd as dt,Ob as X,Od as ut,P as y,Pa as Q,Q as V,Ra as k,Rd as ft,Sa as c,Ta as H,Te as j,Ua as $,V as L,Vc as et,W as O,Xd as _,Yb as Z,Za as G,_a as Y,_c as ot,aa as R,bd as N,ca as D,cd as nt,d as E,db as s,e as B,ea as U,eb as f,ee as Ct,f as A,fb as K,gb as W,ge as ht,he as gt,ie as xt,ka as r,lf as _t,md as at,nc as tt,rd as rt,u as q,ud as lt,wa as u}from"./chunk-EFYUGCLR.js";var z=["offerings","journal_fish","journal_critter","journal_insects","journal_gems","journal_fossils","journal_artifacts","journal_crops","journal_animal_produce","journal_scavangables","journal_ocean_produce","cooking_recipes","crafting","artisan","museum","uncategorized"],w={offerings:"Offerings",journal_fish:"Fish",journal_critter:"Sea Critter",journal_insects:"Insects",journal_gems:"Gems",journal_fossils:"Fossils",journal_artifacts:"Artifacts",journal_crops:"Crops",journal_animal_produce:"Animal Produce",journal_ocean_produce:"Ocean Produce",journal_scavangables:"Scavangables",cooking_recipes:"Cooking recipes",crafting:"Crafting",artisan:"Artisan",museum:"Museum",uncategorized:"Uncategorized"};var bt=["*"];function Et(t,o){if(t&1&&x(0,"app-rarity-icon",5),t&2){let e=c(2);d("quality",e.quality())}}function kt(t,o){if(t&1&&(l(0,"div",0),x(1,"app-item-icon",3),l(2,"span",4),s(3),a(),u(4,Et,1,1,"app-rarity-icon",5),a()),t&2){let e=c();r(),d("itemName",e.item().iconName),r(),v("line-through",e.isChecked),r(),f(e.item().displayName),r(),p(e.quality()?4:-1)}}var Dt=(()=>{var o,e;let i=class i{constructor(){B(this,o);B(this,e);this.amount=D(),this.quality=D(),this.item=D.required(),this.category=D.required(),this.markedAsComplete=new U,this.qualities=Z,this.isChecked=!1,A(this,o,g(_)),A(this,e,g(R))}ngOnInit(){E(this,o).categoryCompleted$().pipe(j(E(this,e)),q(n=>n===this.category())).subscribe({next:()=>{this.toggleCompletionStatus(!0),this.checkbox&&(this.checkbox.checked=!0)}})}toggleCompletionStatus(n){this.isChecked=n,E(this,o).updateStatus(this.category(),this.item(),n)}};o=new WeakMap,e=new WeakMap,i.\u0275fac=function(C){return new(C||i)},i.\u0275cmp=y({type:i,selectors:[["app-to-do-entry-base"]],viewQuery:function(C,h){if(C&1&&G(I,7),C&2){let M;Y(M=J())&&(h.checkbox=M.first)}},hostVars:2,hostBindings:function(C,h){C&2&&v("opacity-50",h.isChecked)},inputs:{amount:[1,"amount"],quality:[1,"quality"],item:[1,"item"],category:[1,"category"]},outputs:{markedAsComplete:"markedAsComplete"},ngContentSelectors:bt,decls:5,vars:2,consts:[[1,"flex","gap-2","items-center"],[1,"ml-auto","font-semibold","mr-4"],[3,"change"],[1,"!w-7",3,"itemName"],[1,"ml-1","whitespace-nowrap"],[1,"!w-4",3,"quality"]],template:function(C,h){C&1&&(H(),u(0,kt,5,5,"div",0),$(1),l(2,"span",1),s(3),a(),l(4,"mat-checkbox",2),k("change",function(St){return h.toggleCompletionStatus(St.checked)}),a()),C&2&&(p(h.item()?0:-1),r(3),f(h.amount()?"x"+h.amount():""))},dependencies:[ut,dt,I],styles:["[_nghost-%COMP%]{display:flex;height:48px;align-items:center;gap:.5rem;border-radius:1rem;background-color:rgb(0 0 0 / var(--tw-bg-opacity));--tw-bg-opacity: .05;padding-left:1rem;padding-right:1rem;font-size:1.125rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}"]});let t=i;return t})();function jt(t,o){if(t&1&&x(0,"app-to-do-entry-base",3),t&2){let e=o.$implicit,i=c(2);d("amount",e.amount)("category",i.context==="uncategorized"?void 0:i.context)("item",e.itemEntry)("quality",e.quality)("@leaveAnimation",void 0)}}function wt(t,o){if(t&1){let e=Q();l(0,"header",0)(1,"h2",1),s(2),a(),l(3,"button",2),k("click",function(){L(e);let m=c();return O(m.completeList())}),s(4,"complete list"),a()(),l(5,"div"),S(6,jt,1,5,"app-to-do-entry-base",3,T),a()}if(t&2){let e=c();r(2),f(e.context==="uncategorized"||e.context===void 0?"Uncategorized":e.ToDoContextDisplayNames[e.context]),r(3),d("@.disabled",!(e.toDoId!=null&&e.toDoId.includes(e.context)||e.toDoId===void 0)),r(),b(e.data)}}var vt=(()=>{let o=class o{constructor(){this.ToDoContextDisplayNames=w,this._toDoService=g(_)}get data(){return this._toDoService.getCategoryList(this.context==="uncategorized"?void 0:this.context)}get hidden(){return!this.toDoId?.includes(this.context)||!this.data.length}completeList(){this._toDoService.completeCategory(this.context==="uncategorized"?void 0:this.context)}};o.\u0275fac=function(m){return new(m||o)},o.\u0275cmp=y({type:o,selectors:[["app-to-do-partial"]],hostVars:2,hostBindings:function(m,n){m&2&&v("hidden",n.hidden)},inputs:{context:"context",toDoId:"toDoId"},decls:1,vars:1,consts:[[1,"flex","justify-between","items-center","mt-5","mb-2"],[1,"font-semibold","text-xl","text-black"],[1,"btn-amber",3,"click"],[1,"mb-2","block",3,"amount","category","item","quality"]],template:function(m,n){m&1&&u(0,wt,8,2),m&2&&p(n.data.length&&(n.toDoId!=null&&n.toDoId.includes(n.context))?0:-1)},dependencies:[Dt],encapsulation:2,data:{animation:[ot("leaveAnimation",[nt(":leave",[N({height:"*",opacity:1}),it("200ms ease-in",N({height:0,opacity:0}))])])]}});let t=o;return t})();function Bt(t,o){t&1&&s(0," All ")}function At(t,o){if(t&1&&(l(0,"span",11),s(1),a()),t&2){let e=c(3);r(),W(" (+",e.toDoCategoryControl.value.length-1," ",e.toDoCategoryControl.value.length===2?"other":"others"," ) ")}}function Nt(t,o){if(t&1&&(s(0),u(1,At,2,2,"span",11)),t&2){let e=c(2);K(" ",e.toDoCategoryControl.value[0]!=="all"?e.toDoCategoryControl.value[0]==="uncategorized"?"Uncategorized":e.toDoContextDisplayNames[e.toDoCategoryControl.value[0]]:""," "),r(),p(e.toDoCategoryControl.value.length>1?1:-1)}}function zt(t,o){if(t&1&&u(0,Nt,2,2),t&2){let e=c();p(e.toDoCategoryControl.value.length?0:-1)}}function Pt(t,o){if(t&1&&(l(0,"mat-option",6)(1,"div",1)(2,"span"),s(3),a(),l(4,"span"),s(5),a()()()),t&2){let e=o.$implicit,i=c();d("value",e),r(3),f(i.toDoContextDisplayNames[e]),r(2),f(i.toDoService.getCategoryList(e).length)}}function qt(t,o){if(t&1&&x(0,"app-to-do-partial",8),t&2){let e=o.$implicit,i=c();d("context",e)("toDoId",i.toDoCategoryControl.value)}}function Ft(t,o){t&1&&(l(0,"div",10)(1,"h2",12),s(2,"No entries in to-do list"),a(),l(3,"p",13),s(4," Your current to-do list is empty! Visit the "),l(5,"a",14),s(6,"journal"),a(),s(7,", the "),l(8,"a",15),s(9,"offerings"),a(),s(10," or other places to add entries to your to-do list. "),a()())}function Vt(t,o){t&1&&(l(0,"div",10)(1,"h2",12),s(2,"No entries for selection"),a(),l(3,"p",13),s(4," There are no entries for your current filter settings. "),a()())}var Tt=(()=>{let o=class o{constructor(){this.toDoContexts=z,this.toDoContextDisplayNames=w,this.toDoCategoryControl=new rt(["all",...z,"uncategorized"],{nonNullable:!0}),this.toDoService=g(_),this.hadAllBefore=!0,this.settings=g(tt),this.toDoCategoryControl.valueChanges.pipe(j()).subscribe({next:i=>{this.hadAllBefore&&!i.includes("all")?(this.toDoCategoryControl.setValue([],{emitEvent:!1}),this.hadAllBefore=!1):!this.hadAllBefore&&i.includes("all")?(this.toDoCategoryControl.setValue(["all",...this.toDoContexts],{emitEvent:!1}),this.hadAllBefore=!0):this.hadAllBefore&&i.length<this.toDoContexts.length+1&&(this.toDoCategoryControl.setValue(i.filter(m=>m!=="all"),{emitEvent:!1}),this.hadAllBefore=!1)}})}};o.\u0275fac=function(m){return new(m||o)},o.\u0275cmp=y({type:o,selectors:[["app-to-do"]],decls:29,vars:8,consts:[[1,"px-main-hz","py-main-vt"],[1,"flex","justify-between"],[1,"mb-4","font-semibold","text-2xl","text-black"],[1,"btn","btn-secondary"],["multiple","","placeholder","None",3,"formControl"],["value","all"],[3,"value"],["value","uncategorized"],[3,"context","toDoId"],["context","uncategorized",3,"toDoId"],[1,"show-when-none-displayed"],[1,"text-sm","opacity-80"],[1,"mb-2","mt-4","font-semibold","text-xl","text-black"],[1,"text-black"],["routerLink","/journal",1,"underline"],["routerLink","/locations/lake-temple",1,"underline"]],template:function(m,n){m&1&&(l(0,"div",0)(1,"app-card")(2,"div",1)(3,"h1",2),s(4,"To-Dos"),a(),l(5,"mat-form-field",3)(6,"mat-select",4)(7,"mat-select-trigger"),u(8,Bt,1,0)(9,zt,1,1),a(),l(10,"mat-option",5)(11,"div",1)(12,"span"),s(13,"All"),a(),l(14,"span"),s(15),a()()(),S(16,Pt,6,3,"mat-option",6,T),l(18,"mat-option",7)(19,"div",1)(20,"span"),s(21,"Uncategorized"),a(),l(22,"span"),s(23),a()()()()()(),S(24,qt,1,2,"app-to-do-partial",8,T),x(26,"app-to-do-partial",9),u(27,Ft,11,0,"div",10)(28,Vt,5,0,"div",10),a()()),m&2&&(r(6),d("formControl",n.toDoCategoryControl),r(2),p(n.toDoCategoryControl.value.includes("all")?8:-1),r(),p(n.toDoCategoryControl.value.includes("all")?-1:9),r(6),f(n.toDoService.currentToDoAmount),r(),b(n.toDoContexts),r(7),f(n.toDoService.getCategoryList().length),r(),b(n.toDoContexts),r(2),d("toDoId",n.toDoCategoryControl.value),r(),p(n.toDoService.currentIsEmpty?27:-1),r(),p(n.toDoService.currentIsEmpty?-1:28))},dependencies:[ct,ft,Ct,ht,gt,et,at,lt,vt],styles:["app-to-do-partial[_ngcontent-%COMP%]:not(.hidden) ~ .show-when-none-displayed[_ngcontent-%COMP%]{display:none}"]});let t=o;return t})();var Lt=[{path:"",component:Tt},{path:":toDoId",redirectTo:""}],Ve=(()=>{let o=class o{};o.\u0275fac=function(m){return new(m||o)},o.\u0275mod=V({type:o}),o.\u0275inj=F({imports:[X,pt.forChild(Lt),_t,mt,yt,xt,st]});let t=o;return t})();export{Ve as ToDoModule};
