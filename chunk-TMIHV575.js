import{$ as c,U as r,na as h,nc as a}from"./chunk-XCZ7SFHP.js";var C=(()=>{let e=class e{constructor(t){if(this.checklistName=t,this.versionSuffix=c(a).getSettings().useBeta?"_beta":"_live",this.checklists=[],this.currentChecklistIndex=0,t.trim()==="")throw new Error("checklistName can't be empty!");this.read()}read(){let t=localStorage.getItem(this.getChecklistStorageKey());t?this.checklists=JSON.parse(t):(this.checklists.push(this._createEmptyChecklist()),this.save())}save(){localStorage.setItem(this.getChecklistStorageKey(),JSON.stringify(this.checklists))}getCurrentChecklist(){let t=this.checklists[this.currentChecklistIndex];return t||(this.currentChecklistIndex=0,t=this.checklists[this.currentChecklistIndex]),t||(this.checklists.push(this._createEmptyChecklist()),t=this.checklists[this.currentChecklistIndex]),t}set(t){this.getCurrentChecklist().entries=[...new Set([...Array.isArray(t)?t:[t]])],this.save()}add(t){this.getCurrentChecklist().entries=[...new Set([...this.getCurrentChecklist().entries,...Array.isArray(t)?t:[t]])],this.save()}remove(t){Array.isArray(t)||(t=[t]),this.getCurrentChecklist().entries=this.getCurrentChecklist().entries.filter(i=>!t.includes(i)),this.save()}isChecked(t){return this.getCurrentChecklist().entries.includes(t)}getChecklistStorageKey(){return e._TO_DO_STORE_KEY+this.checklistName+this.versionSuffix}resetLiveChecklist(){localStorage.setItem(e._TO_DO_STORE_KEY+this.checklistName+"_live",JSON.stringify([this._createEmptyChecklist()])),this.read()}resetBetaChecklist(){localStorage.setItem(e._TO_DO_STORE_KEY+this.checklistName+"_beta",JSON.stringify([this._createEmptyChecklist()])),this.read()}_createEmptyChecklist(){return{version:e._CURRENT_TO_DO_VERSION,entries:[]}}};e._CURRENT_TO_DO_VERSION=1,e._TO_DO_STORE_KEY="checklist_",e.\u0275fac=function(i){h()},e.\u0275prov=r({token:e,factory:e.\u0275fac});let s=e;return s})();export{C as a};
