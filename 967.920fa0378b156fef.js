"use strict";(self.webpackChunkguide=self.webpackChunkguide||[]).push([[967],{4986:(w,E,l)=>{l.d(E,{k:()=>u});var u=function(v){return v.OFFERINGS="offerings",v.JOURNAL_FISH="journal_fish",v.JOURNAL_CRITTER="journal_critter",v.JOURNAL_INSECTS="journal_insects",v.JOURNAL_GEMS="journal_gems",v.JOURNAL_FOSSILS="journal_fossils",v.JOURNAL_ARTIFACTS="journal_artifacts",v.COOKING_RECIPES="cooking_recipes",v}(u||{})},4371:(w,E,l)=>{l.d(E,{x:()=>O});var u=l(4986),v=l(8337),t=l(8645),_=l(5879),L=l(1063);let O=(()=>{var p;class C{constructor(c){this._settings=c,this.clearTimeout=3e3,this._completedCategory$=new t.x,this.currentChecklistIndex=0,this._checklists=[],this._markedAsCompleted=new v.Ov(!0,[]),this.versionSuffix=this._settings.getSettings().useBeta?"_beta":"_live",this.read(),this._markedAsCompleted.compareWith=(o,d)=>o.category===d.category&&o.item.id===d.item.id}get currentChecklistAmount(){const c=this.getCurrentChecklist();return c.offerings.length+c.journal.critter.length+c.journal.insects.length+c.journal.fish.length+c.journal.artifacts.length+c.journal.gems.length+c.journal.fossils.length+c.cookingRecipes.length+c.uncategorized.length}get currentIsEmpty(){return 0===this.currentChecklistAmount}add(c,o){this.getCategoryList(c).push(o),this.save()}getCurrentChecklist(){let c=this._checklists[this.currentChecklistIndex];return c||(this.currentChecklistIndex=0,c=this._checklists[this.currentChecklistIndex]),c||(this._checklists.push(this._createEmptyChecklist()),c=this._checklists[this.currentChecklistIndex]),c}save(){localStorage.setItem(C._CHECKLIST_STORE_KEY+this.versionSuffix,JSON.stringify(this._checklists))}read(){const c=localStorage.getItem(C._CHECKLIST_STORE_KEY+this.versionSuffix);c?this._checklists=JSON.parse(c):(this._checklists.push(this._createEmptyChecklist()),this.save())}updateStatus(c,o,d,f=!1){const I={category:c,item:o};d?this._markedAsCompleted.select(I):this._markedAsCompleted.deselect(I),f?this._completeEntries():this._resetClearTimer()}resetLiveChecklist(){localStorage.setItem(C._CHECKLIST_STORE_KEY+"_live",JSON.stringify([this._createEmptyChecklist()])),this.read()}resetBetaChecklist(){localStorage.setItem(C._CHECKLIST_STORE_KEY+"_beta",JSON.stringify([this._createEmptyChecklist()])),this.read()}alreadyInList(c,o){const d=this.getCategoryList(c);if(0===d.length)return!1;const f="item"in o?o.item.id:o.id;return"item"in d[0]?!!d.find(I=>I.item.id===f):!!d.find(I=>I.id===f)}getCategoryList(c){switch(c){case u.k.OFFERINGS:return this.getCurrentChecklist().offerings;case u.k.COOKING_RECIPES:return this.getCurrentChecklist().cookingRecipes;case u.k.JOURNAL_CRITTER:return this.getCurrentChecklist().journal.critter;case u.k.JOURNAL_INSECTS:return this.getCurrentChecklist().journal.insects;case u.k.JOURNAL_ARTIFACTS:return this.getCurrentChecklist().journal.artifacts;case u.k.JOURNAL_FOSSILS:return this.getCurrentChecklist().journal.fossils;case u.k.JOURNAL_GEMS:return this.getCurrentChecklist().journal.gems;case u.k.JOURNAL_FISH:return this.getCurrentChecklist().journal.fish;default:return this.getCurrentChecklist().uncategorized}}categoryCompleted$(){return this._completedCategory$.asObservable()}completeCategory(c){this._completedCategory$.next(c)}_resetClearTimer(){clearTimeout(this.clearTimer),this.clearTimer=setTimeout(()=>{this._completeEntries()},this.clearTimeout)}_createEmptyChecklist(){return{version:C._CURRENT_CHECKLIST_VERSION,offerings:[],cookingRecipes:[],journal:{critter:[],fish:[],gems:[],artifacts:[],fossils:[],insects:[]},uncategorized:[]}}_completeEntries(){const c=this._markedAsCompleted.selected;this._markedAsCompleted.clear();let o=-1;c.forEach(d=>{switch(d.category){case u.k.OFFERINGS:o=this.getCurrentChecklist().offerings.findIndex(f=>f.item.id===d.item.id),o>=0&&this.getCurrentChecklist().offerings.splice(o,1);break;case u.k.JOURNAL_CRITTER:o=this.getCurrentChecklist().journal.critter.findIndex(f=>f.item.id===d.item.id),o>=0&&this.getCurrentChecklist().journal.critter.splice(o,1);break;case u.k.JOURNAL_FISH:o=this.getCurrentChecklist().journal.fish.findIndex(f=>f.item.id===d.item.id),o>=0&&this.getCurrentChecklist().journal.fish.splice(o,1);break;case u.k.JOURNAL_INSECTS:o=this.getCurrentChecklist().journal.insects.findIndex(f=>f.item.id===d.item.id),o>=0&&this.getCurrentChecklist().journal.insects.splice(o,1);break;case u.k.JOURNAL_GEMS:o=this.getCurrentChecklist().journal.gems.findIndex(f=>f.id===d.item.id),o>=0&&this.getCurrentChecklist().journal.gems.splice(o,1);break;case u.k.JOURNAL_FOSSILS:o=this.getCurrentChecklist().journal.fossils.findIndex(f=>f.id===d.item.id),o>=0&&this.getCurrentChecklist().journal.fossils.splice(o,1);break;case u.k.JOURNAL_ARTIFACTS:o=this.getCurrentChecklist().journal.artifacts.findIndex(f=>f.id===d.item.id),o>=0&&this.getCurrentChecklist().journal.artifacts.splice(o,1);break;case u.k.COOKING_RECIPES:o=this.getCurrentChecklist().cookingRecipes.findIndex(f=>f.item.id===d.item.id),o>=0&&this.getCurrentChecklist().cookingRecipes.splice(o,1)}}),this.save()}}return(p=C)._CURRENT_CHECKLIST_VERSION=1,p._CHECKLIST_STORE_KEY="checklist",p.\u0275fac=function(c){return new(c||p)(_.LFG(L.g))},p.\u0275prov=_.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),C})()},8967:(w,E,l)=>{l.r(E),l.d(E,{SettingsModule:()=>te});var u=l(6814),v=l(2787),t=l(5879),_=l(6223),L=l(2585),O=l(9059),p=l(1063),C=l(4371),U=l(1610),c=l(4984);function o(i,h){if(1&i&&(t.TgZ(0,"p",19),t._UZ(1,"app-ui-icon",20),t._uU(2," Currently there's no beta. "),t.qZA()),2&i){const g=t.oxw();t.xp6(1),t.Q6J("uiIcon",g.uiIcon.WARNING)}}function d(i,h){1&i&&(t.TgZ(0,"p",21),t._uU(1,"Changes that require a reload were made. Saving will reload automatically."),t.qZA())}let f=(()=>{var i;class h{constructor(e,n){this._settingsService=e,this._checkList=n,this.reloadRequired=!1,this.uiIcon=O.a,this.BETA_CODE=(0,t.f3M)(L.M,{optional:!0}),this.settingsForm=new _.cw({useBeta:new _.NI(!1,{nonNullable:!0}),resetLiveChecklist:new _.NI(!1,{nonNullable:!0}),resetBetaChecklist:new _.NI(!1,{nonNullable:!0})}),this.BETA_CODE||this.settingsForm.get("useBeta")?.disable();const s=this._settingsService.getSettings();this.settingsForm.patchValue(s),this.settingsForm.valueChanges.subscribe({next:r=>{this.reloadRequired=s.useBeta!==r.useBeta}})}saveSettings(){const e={...this.settingsForm.value};e.resetLiveChecklist&&this._checkList.resetLiveChecklist(),e.resetBetaChecklist&&this._checkList.resetBetaChecklist(),delete e.resetBetaChecklist,delete e.resetLiveChecklist,this._settingsService.saveSettings(e),this.reloadRequired&&location.reload()}}return(i=h).\u0275fac=function(e){return new(e||i)(t.Y36(p.g),t.Y36(C.x))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-settings"]],decls:45,vars:6,consts:[[1,"text-black","container","block","mx-auto","my-10"],[3,"formGroup","click"],[1,"grid","md:grid-cols-3","pb-12","gap-y-10","gap-x-8","border-b","border-accent/50","mb-8"],[1,"leading-7","font-bold","text-lg"],[1,"bg-amber-50/70","md:col-span-2","px-4","py-6","sm:p-8","sm:rounded-lg"],[1,"flex","gap-x-3"],[1,"flex","h-6","items-center"],["formControlName","useBeta","id","useBeta","name","useBeta","type","checkbox"],["for","useBeta",1,"font-bold","leading-6"],[1,"leading-6"],["class","flex gap-2 text-black font-bold leading-6 items-center",4,"ngIf"],[1,"bg-amber-50/70","md:col-span-2","px-4","py-6","sm:p-8","sm:rounded-lg","flex","flex-col","gap-6"],["formControlName","resetLiveChecklist","id","resetLiveChecklist","name","resetLiveChecklist","type","checkbox"],["for","resetLiveChecklist",1,"font-bold","leading-6"],["formControlName","resetBetaChecklist","id","resetBetaChecklist","name","resetBetaChecklist","type","checkbox"],["for","resetBetaChecklist",1,"font-bold","leading-6"],[1,"mt-6","sm:mt-8","flex","justify-between","items-center"],["class","font-bold",4,"ngIf"],["type","submit",1,"btn-amber","ml-auto"],[1,"flex","gap-2","text-black","font-bold","leading-6","items-center"],[1,"!w-6",3,"uiIcon"],[1,"font-bold"]],template:function(e,n){if(1&e&&(t.TgZ(0,"app-card",0)(1,"form",1),t.NdJ("click",function(){return n.saveSettings()}),t.TgZ(2,"div",2)(3,"div")(4,"h3",3),t._uU(5,"Beta data"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()(),t.TgZ(8,"div",4)(9,"div",5)(10,"div",6),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"div")(13,"label",8),t._uU(14,"Use beta data"),t.qZA(),t.TgZ(15,"p",9),t._uU(16,"Switches app data to beta data. Change requires reload."),t.qZA()()(),t.YNc(17,o,3,1,"p",10),t.qZA()(),t.TgZ(18,"div",2)(19,"div")(20,"h3",3),t._uU(21,"Checklists"),t.qZA(),t.TgZ(22,"p"),t._uU(23,"Options for checklists. Reset your checklist data if they behave in unwanted behavior and set defaults for viewing. "),t.qZA()(),t.TgZ(24,"div",11)(25,"div",5)(26,"div",6),t._UZ(27,"input",12),t.qZA(),t.TgZ(28,"div")(29,"label",13),t._uU(30,"Reset live checklists"),t.qZA(),t.TgZ(31,"p",9),t._uU(32,"Reset all checklists which were created while using live data."),t.qZA()()(),t.TgZ(33,"div",5)(34,"div",6),t._UZ(35,"input",14),t.qZA(),t.TgZ(36,"div")(37,"label",15),t._uU(38,"Reset beta checklists"),t.qZA(),t.TgZ(39,"p",9),t._uU(40,"Reset all checklists which were created while using beta data."),t.qZA()()()()(),t.TgZ(41,"div",16),t.YNc(42,d,2,0,"p",17),t.TgZ(43,"button",18),t._uU(44,"Save"),t.qZA()()()()),2&e){let s;t.xp6(1),t.Q6J("formGroup",n.settingsForm),t.xp6(6),t.hij("Options for latest beta build. Current beta code: ",null!==(s=n.BETA_CODE)&&void 0!==s?s:"no ongoing beta"," "),t.xp6(5),t.ekj("opacity-50",!n.BETA_CODE),t.xp6(5),t.Q6J("ngIf",!n.BETA_CODE),t.xp6(25),t.Q6J("ngIf",n.reloadRequired)}},dependencies:[u.O5,U.f,c.A,_._Y,_.Wl,_.JJ,_.JL,_.sg,_.u],encapsulation:2}),h})();var I=l(4709),M=l(3680);l(2096),l(8504),l(9315),l(9397),l(7398),l(6306),l(4716),l(3020),l(9862),l(6593);let X=(()=>{var i;class h{}return(i=h).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[M.BQ,M.BQ]}),h})();const ee=[{path:"",component:f}];let te=(()=>{var i;class h{}return(i=h).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.ez,v.Bz.forChild(ee),I.m,_.UX,X]}),h})()}}]);