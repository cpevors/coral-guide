import{a as K}from"./chunk-MIYI73V7.js";import"./chunk-6GEEHTPV.js";import{a as G}from"./chunk-DYAATRFR.js";import"./chunk-GLL3PL4Q.js";import"./chunk-QEWZLHID.js";import{a as O}from"./chunk-PD5FG3A7.js";import{a as A}from"./chunk-PRWEW5VH.js";import{a as j}from"./chunk-7JQJEV7G.js";import"./chunk-2K3GEZZY.js";import"./chunk-7A5ZJ3YN.js";import{a as R}from"./chunk-2A7PSW7O.js";import{a as L,c as V}from"./chunk-5NO5LL4W.js";import"./chunk-VO65IASJ.js";import{a as q}from"./chunk-C53QTWVW.js";import"./chunk-GLYGKSTO.js";import{b as $}from"./chunk-PIL2IJC4.js";import"./chunk-OOBQPUIX.js";import"./chunk-OM3WRHFD.js";import"./chunk-JSGVWV7K.js";import{b as W}from"./chunk-VYOS5CGL.js";import"./chunk-RZQ3UNDK.js";import"./chunk-DKARO4CX.js";import"./chunk-DHAI4KFY.js";import"./chunk-5MLMU7SK.js";import"./chunk-GEWE6M22.js";import"./chunk-SJRCRC22.js";import"./chunk-X3TMHFY3.js";import"./chunk-EE6A4D3O.js";import"./chunk-2CFRUPNI.js";import"./chunk-F6RS7OIB.js";import"./chunk-KW5235UB.js";import{a as B}from"./chunk-7JOAVXDE.js";import"./chunk-7SDYZQX7.js";import"./chunk-KUYOE2KN.js";import"./chunk-AJOFB37Q.js";import{$b as x,G as w,Gc as u,Hc as _,Ib as l,Kb as D,Ob as d,Qb as b,Rb as h,Sb as y,Tb as p,Ub as c,Vb as g,X as I,Zb as T,ac as a,db as r,ld as M,ma as C,md as k,na as f,p as P,sb as E,wb as N,wc as F,xc as v,yb as m,yc as S}from"./chunk-GYX7HZX3.js";import"./chunk-4CLCTAJ7.js";function U(i,s){if(i&1&&g(0,"app-processing",4),i&2){let e=a(2);l("itemProcessing",e.selectedEntity)}}function z(i,s){if(i&1&&(p(0,"app-database-item-details",0),m(1,U,1,1,"ng-template",3),c()),i&2){let e=a();l("itemId",e.selectedEntity.output.item.id)("amount",e.selectedEntity.output.amount)}}function H(i,s){if(i&1){let e=T();p(0,"app-item-icon",9),x("click",function(){let t=C(e).$implicit,o=a(4);return f(o.showDetails(t))}),c()}if(i&2){let e,n,t=s.$implicit,o=a(4);D("selected-icon",(o.selectedEntity==null||o.selectedEntity.output==null||o.selectedEntity.output.item==null?null:o.selectedEntity.output.item.id)===t.output.item.id&&(o.reusedImages.includes((e=t.output.item.iconName)!==null&&e!==void 0?e:"")?t.input.item.iconName===(o.selectedEntity==null||o.selectedEntity.input==null||o.selectedEntity.input.item==null?null:o.selectedEntity.input.item.iconName):!0)&&t.output.amount===(o.selectedEntity==null||o.selectedEntity.output==null?null:o.selectedEntity.output.amount)),l("amount",t.output.amount)("itemName",t.output.item.iconName)("subIconName",o.reusedImages.includes((n=t.output.item.iconName)!==null&&n!==void 0?n:"")?t.input.item.iconName:void 0)}}function J(i,s){if(i&1&&(p(0,"div",6),h(1,H,1,5,"app-item-icon",8,b),c()),i&2){let e=a();r(),y(e)}}function X(i,s){if(i&1&&g(0,"app-processor-table",7),i&2){let e=a();l("dataSource",e)}}function Y(i,s){if(i&1&&m(0,J,3,0,"div",6)(1,X,1,1,"app-processor-table",7),i&2){let e=a(2);d(e.showTable?-1:0),r(),d(e.showTable?1:-1)}}function Z(i,s){if(i&1){let e=T();p(0,"mat-tab",2),u(1,"addSpacesToPascalCase"),u(2,"titlecase"),p(3,"app-data-filter",5),S("showTableChange",function(t){C(e);let o=a();return v(o.showTable,t)||(o.showTable=t),f(t)}),c(),m(4,Y,2,2),u(5,"async"),c()}if(i&2){let e,n=s.$implicit,t=a();l("label",t.processorMapping[n.toLowerCase()]?t.processorMapping[n.toLowerCase()].displayName:_(2,5,_(1,3,n))),r(3),F("showTable",t.showTable),r(),d((e=_(5,7,t.filteredData$(n)))?4:-1,e)}}var _e=(()=>{class i extends A{constructor(){super(),this.quality=B,this.machineNames=[],this.processorMapping=this._database.getProcessorMapping(),this.urlPathFromLabel=e=>{let n=Object.keys(this.processorMapping).find(t=>this.processorMapping[t].displayName===e);return n||e.toLowerCase().replaceAll(" ","")},this._database.fetchItemProcessingRecipes$().pipe(w(1)).subscribe({next:e=>{this.machineNames=Object.keys(e),this.activateTabFromRoute(this.machineNames)}})}filteredData$(e){return this._database.fetchItemProcessingRecipes$().pipe(P(n=>n[e]),I(n=>{this.reusedImages=this.getMultipleIconNames(n.map(t=>t.output.item.iconName??""))}))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=E({type:i,selectors:[["app-processor"]],features:[N],decls:5,vars:2,consts:[["listDetail","","context","artisan",3,"itemId","amount"],[3,"selectedTabChange","selectedIndex"],[3,"label"],["appDatabaseItemDetails",""],["hideMaschine","",3,"itemProcessing"],[3,"showTableChange","showTable"],[1,"icon-grid"],[3,"dataSource"],[1,"icon-grid-item",3,"amount","itemName","subIconName","selected-icon"],[1,"icon-grid-item",3,"click","amount","itemName","subIconName"]],template:function(n,t){n&1&&(p(0,"app-list-detail-container"),m(1,z,2,2,"app-database-item-details",0),p(2,"mat-tab-group",1),x("selectedTabChange",function(Q){return t.updateUrl(Q)}),h(3,Z,6,9,"mat-tab",2,b),c()()),n&2&&(r(),d(t.selectedEntity?1:-1),r(),l("selectedIndex",t.selectedTabIndex()),r(),y(t.machineNames))},dependencies:[$,j,G,V,L,q,M,R,k,W,K,O],encapsulation:2})}}return i})();export{_e as ProcessorComponent};
